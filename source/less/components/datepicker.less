/**
* 
* A calendar for picking dates
*/


// The popover version of the datepicker
.datepicker {
    display: inline-block;
    margin: 0.125rem 0;  // Give a top/bottom margin so they stack right
    position: relative;

    .datepicker-calendar {
      position: absolute;
      top: 48*@px;
      left: 0;
      width: 342px; /* TODO: remove this hardcoded value */
      border: 10*@px solid @popover-border-color; /* TODO: 8px in .popover, but design shows 10px */

      &.arrow-top:before {
        bottom: 100%; // position the border on the top
        margin-bottom: 10*@px;
      }

      .popover-inner {
        background: rgb(255,255,255);
        border: 1px solid rgb(70,70,70);
      }

      .popover-heading {
        background: rgb(225,225,225); /* TODO: this should be handled by the popover and make use of variables */
        padding: 10px 10px 10px 20px;
        border-bottom: 1px solid rgb(191,191,191);
        font-size: 22px;
        color: rgb(60,60,60);
      }

      table {
        width: 100%;
        margin: 0;
        border-collapse: collapse;

        th {
          text-align: right;
          padding: 2px 5px 3px 0;
        }

        td {
          border: 1px solid rgb(230,230,230);
          padding: 2px 5px 3px 0;
          text-align: right;

          a {
            color: rgb(75,75,75);
            display: block;

            &:hover {
              text-decoration: none;
              background: rgb(64,143,212);
              color: rgb(255,255,255);
            }
          }

          &.dimmed {
            a {
              color: rgb(173,173,173);
            }
          }

          &:hover {
            border-color: rgb(69,89,119);
          }

          &:first-child {
            border-left: 0 none;
          }

          &:last-child {
            border-right: 0 none;
          }
        }
      }
    }

    button {
      display: inline-block;
      background-size: 1.0rem 1.0rem;
      .box-sizing(border-box);

      vertical-align: middle;

      min-width: 135*@px;
      height: 2rem;

      margin: 0;  // Reset default margin on button tag

      border: @px solid @dropdown-border-color;
      background: @dropdown-gradient-start-color;
      .gradient(@dropdown-gradient-start-color, @dropdown-gradient-end-color);

      font-family: @font-base-family;
      font-size: @dropdown-text-size;
      line-height: @dropdown-text-size;
      font-weight: normal;
      color: @dropdown-text-color;
      text-shadow: none;

      height: @dropdown-text-size+0.4375rem*2+@px*2;

      min-width: 2rem;
      width: 2rem;
      height: 2rem;
      padding: 0.4375rem 0.5rem 0.5rem;

      &:disabled {
        cursor: default;
        border-color: @button-disabled-border-color;
        color: @button-disabled-text-color;
        text-shadow: none;
        background: @button-disabled-background-color;
      }

      &:hover:not([disabled]) {
        border: @px solid @dropdown-border-color;
        background: @dropdown-gradient-start-color;
        .gradient(@dropdown-gradient-start-color, @dropdown-gradient-start-color);
      }

      &:active:not([disabled]) {
        border: @px solid @dropdown-border-color;
        background: @dropdown-gradient-end-color;
        .gradient(@dropdown-gradient-end-color, @dropdown-gradient-end-color);
        .box-shadow(inset 0 0 0.5rem rgba(0, 0, 0, 0.25));
      }
    }

    input[type=text] {
      .box-sizing(border-box);
      border-radius: 0; // Fix for iOS >=5
      -webkit-appearance: none; // Fix for iOS <5
      vertical-align: middle;
      height: 2rem;

      font-family: @font-base-family;
      font-size: @dropdown-text-size;
      line-height: @dropdown-text-size;

      padding: 0.4375rem;
      margin: 0;
      border-right: 0;
    }
}

// The dropdown version of the datapicker
.datepicker-dropdown {
  display: inline-block;
  margin: 0.125rem 0;  // Give a top/bottom margin so they stack right
  position: relative;

  button {
    display: inline-block;
    .box-sizing(border-box);

    vertical-align: middle;

    min-width: 135*@px;
    height: 2rem;

    margin: 0;  // Reset default margin on button tag

    border: @px solid @dropdown-border-color;
    background: @dropdown-gradient-start-color;
    .gradient(@dropdown-gradient-start-color, @dropdown-gradient-end-color);

    font-family: @font-base-family;
    font-size: @dropdown-text-size;
    line-height: @dropdown-text-size;
    font-weight: normal;
    color: @dropdown-text-color;
    text-shadow: none;

    padding: 0.4375rem 0.4375rem 0.4375rem 1rem;
    height: @dropdown-text-size+0.4375rem*2+@px*2;

    min-width: 2rem;
    width: 2rem;
    font-size: 0;
    margin: 0;
    height: 2rem;
    padding: 0.4375rem;

    &:disabled {
      cursor: default;
      border-color: @button-disabled-border-color;
      color: @button-disabled-text-color;
      text-shadow: none;
      background: @button-disabled-background-color;
    }

    &:after {
      content: "";
      float: right;
      display: inline;
      padding-left: 1rem;
      height: @dropdown-text-size;
      background: url('../images/components/dropdown/handle.svg') no-repeat center center;
    }

    &:hover:not([disabled]) {
      border: @px solid @dropdown-border-color;
      background: @dropdown-gradient-start-color;
      .gradient(@dropdown-gradient-start-color, @dropdown-gradient-start-color);
    }

    &:active:not([disabled]) {
      border: @px solid @dropdown-border-color;
      background: @dropdown-gradient-end-color;
      .gradient(@dropdown-gradient-end-color, @dropdown-gradient-end-color);
      .box-shadow(inset 0 0 0.5rem rgba(0, 0, 0, 0.25));
    }
  }

  .datepicker-calendar {
    position: absolute;
    left: 0;
    top: 0;
    max-height: 20rem;
    font-size: @dropdown-text-size;
    overflow: auto;
    border-bottom: @px solid @dropdown-border-color;
    background-color: #fff;
  }
}

