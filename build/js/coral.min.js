!function(e){"use strict";function t(e){var t=!1;return function(){t||(t=!0,Promise.resolve().then(function(){t=!1,e()}))}}function n(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},ft))}}function i(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=window.getComputedStyle(e,null);return t?n[t]:n}function a(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function r(e){if(!e)return window.document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,i=t.overflowX;return/(auto|scroll)/.test(n+t.overflowY+i)?e:r(a(e))}function s(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===o(t,"position")?s(t):t:e?e.ownerDocument.documentElement:window.document.documentElement}function l(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||s(e.firstElementChild)===e)}function c(e){return null!==e.parentNode?c(e.parentNode):e}function u(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return window.document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,o=n?t:e,a=document.createRange();a.setStart(i,0),a.setEnd(o,0);var r=a.commonAncestorContainer;if(e!==r&&t!==r||i.contains(o))return l(r)?r:s(r);var d=c(e);return d.host?u(d.host,t):u(e,c(t).host)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var o=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||o)[n]}return e[n]}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=d(t,"top"),o=d(t,"left"),a=n?-1:1;return e.top+=i*a,e.bottom+=i*a,e.left+=o*a,e.right+=o*a,e}function p(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return+e["border"+n+"Width"].split("px")[0]+ +e["border"+i+"Width"].split("px")[0]}function m(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Ct()?n["offset"+e]+i["margin"+("Height"===e?"Top":"Left")]+i["margin"+("Height"===e?"Bottom":"Right")]:0)}function _(){var e=window.document.body,t=window.document.documentElement,n=Ct()&&window.getComputedStyle(t);return{height:m("Height",e,t,n),width:m("Width",e,t,n)}}function f(e){return Et({},e,{right:e.left+e.width,bottom:e.top+e.height})}function v(e){var t={};if(Ct())try{t=e.getBoundingClientRect();var n=d(e,"top"),i=d(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}catch(e){}else t=e.getBoundingClientRect();var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?_():{},s=r.width||e.clientWidth||a.right-a.left,l=r.height||e.clientHeight||a.bottom-a.top,c=e.offsetWidth-s,u=e.offsetHeight-l;if(c||u){var h=o(e);c-=p(h,"x"),u-=p(h,"y"),a.width-=c,a.height-=u}return f(a)}function g(e,t){var n=Ct(),i="HTML"===t.nodeName,a=v(e),s=v(t),l=r(e),c=o(t),u=+c.borderTopWidth.split("px")[0],d=+c.borderLeftWidth.split("px")[0],p=f({top:a.top-s.top-u,left:a.left-s.left-d,width:a.width,height:a.height});if(p.marginTop=0,p.marginLeft=0,!n&&i){var m=+c.marginTop.split("px")[0],_=+c.marginLeft.split("px")[0];p.top-=u-m,p.bottom-=u-m,p.left-=d-_,p.right-=d-_,p.marginTop=m,p.marginLeft=_}return(n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(p=h(p,t)),p}function b(e){var t=e.ownerDocument.documentElement,n=g(e,t),i=Math.max(t.clientWidth,window.innerWidth||0),o=Math.max(t.clientHeight,window.innerHeight||0),a=d(t),r=d(t,"left");return f({top:a-n.top+n.marginTop,left:r-n.left+n.marginLeft,width:i,height:o})}function y(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===o(e,"position")||y(a(e)))}function C(e,t,n,i){var o={top:0,left:0},s=u(e,t);if("viewport"===i)o=b(s);else{var l=void 0;"scrollParent"===i?(l=r(a(e)),"BODY"===l.nodeName&&(l=e.ownerDocument.documentElement)):l="window"===i?e.ownerDocument.documentElement:i;var c=g(l,s);if("HTML"!==l.nodeName||y(s))o=c;else{var d=_(),h=d.height,p=d.width;o.top+=c.top-c.marginTop,o.bottom=h+c.top,o.left+=c.left-c.marginLeft,o.right=p+c.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function k(e){return e.width*e.height}function A(e,t,n,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var r=C(n,i,a,o),s={top:{width:r.width,height:t.top-r.top},right:{width:r.right-t.right,height:r.height},bottom:{width:r.width,height:r.bottom-t.bottom},left:{width:t.left-r.left,height:r.height}},l=Object.keys(s).map(function(e){return Et({key:e},s[e],{area:k(s[e])})}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function w(e,t,n){return g(n,u(t,n))}function E(e){var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function T(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function S(e,t,n){n=n.split("-")[0];var i=E(e),o={width:i.width,height:i.height},a=-1!==["right","left"].indexOf(n),r=a?"top":"left",s=a?"left":"top",l=a?"height":"width",c=a?"width":"height";return o[r]=t[r]+t[l]/2-i[l]/2,o[s]=n===s?t[s]-i[c]:t[T(s)],o}function x(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function L(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=x(e,function(e){return e[t]===n});return e.indexOf(i)}function O(e,t,n){return(void 0===n?e:e.slice(0,L(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=f(t.offsets.popper),t.offsets.reference=f(t.offsets.reference),t=n(t,e))}),t}function I(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=w(this.state,this.popper,this.reference),e.placement=A(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=S(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=O(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function N(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function M(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length-1;i++){var o=t[i],a=o?""+o+n:e;if(void 0!==window.document.body.style[a])return a}return null}function D(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[M("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function P(e){var t=e.ownerDocument;return t?t.defaultView:window}function F(e,t,n,i){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),o||F(r(a.parentNode),t,n,i),i.push(a)}function H(e,t,n,i){n.updateBound=i,P(e).addEventListener("resize",n.updateBound,{passive:!0});var o=r(e);return F(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function B(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}function R(e,t){return P(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function j(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function q(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t){Object.keys(t).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&q(t[n])&&(i="px"),e.style[n]=t[n]+i})}function U(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function V(e){return z(e.instance.popper,e.styles),U(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&z(e.arrowElement,e.arrowStyles),e}function K(e,t,n,i,o){var a=w(o,t,e),r=A(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",r),z(t,{position:"absolute"}),n}function Z(e,t){var n=t.x,i=t.y,o=e.offsets.popper,a=x(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r=void 0!==a?a:t.gpuAcceleration,l=s(e.instance.popper),c=v(l),u={position:o.position},d={left:Math.floor(o.left),top:Math.floor(o.top),bottom:Math.floor(o.bottom),right:Math.floor(o.right)},h="bottom"===n?"top":"bottom",p="right"===i?"left":"right",m=M("transform"),_=void 0,f=void 0;if(f="bottom"===h?-c.height+d.bottom:d.top,_="right"===p?-c.width+d.right:d.left,r&&m)u[m]="translate3d("+_+"px, "+f+"px, 0)",u[h]=0,u[p]=0,u.willChange="transform";else{var g="bottom"===h?-1:1,b="right"===p?-1:1;u[h]=f*g,u[p]=_*b,u.willChange=h+", "+p}var y={"x-placement":e.placement};return e.attributes=Et({},y,e.attributes),e.styles=Et({},u,e.styles),e.arrowStyles=Et({},e.offsets.arrow,e.arrowStyles),e}function W(e,t,n){var i=x(e,function(e){return e.name===t}),o=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});if(!o){var a="`"+t+"`",r="`"+n+"`";console.warn(r+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return o}function G(e,t){if(!W(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,r=a.popper,s=a.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",m=E(n)[c];s[p]-m<r[d]&&(e.offsets.popper[d]-=r[d]-(s[p]-m)),s[d]+m>r[p]&&(e.offsets.popper[d]+=s[d]+m-r[p]);var _=s[d]+s[c]/2-m/2,v=o(e.instance.popper,"margin"+u).replace("px",""),g=_-f(e.offsets.popper)[d]-v;return g=Math.max(Math.min(r[c]-m,g),0),e.arrowElement=n,e.offsets.arrow={},e.offsets.arrow[d]=Math.round(g),e.offsets.arrow[h]="",e}function X(e){return"end"===e?"start":"start"===e?"end":e}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=St.indexOf(e),i=St.slice(n+1).concat(St.slice(0,n));return t?i.reverse():i}function Q(e,t){if(N(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=C(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),i=e.placement.split("-")[0],o=T(i),a=e.placement.split("-")[1]||"",r=[];switch(t.behavior){case xt.FLIP:r=[i,o];break;case xt.CLOCKWISE:r=Y(i);break;case xt.COUNTERCLOCKWISE:r=Y(i,!0);break;default:r=t.behavior}return r.forEach(function(s,l){if(i!==s||r.length===l+1)return e;i=e.placement.split("-")[0],o=T(i);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),m=d(c.right)>d(n.right),_=d(c.top)<d(n.top),f=d(c.bottom)>d(n.bottom),v="left"===i&&p||"right"===i&&m||"top"===i&&_||"bottom"===i&&f,g=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(g&&"start"===a&&p||g&&"end"===a&&m||!g&&"start"===a&&_||!g&&"end"===a&&f);(h||v||b)&&(e.flipped=!0,(h||v)&&(i=r[l+1]),b&&(a=X(a)),e.placement=i+(a?"-"+a:""),e.offsets.popper=Et({},e.offsets.popper,S(e.instance.popper,e.offsets.reference,e.placement)),e=O(e.instance.modifiers,e,"flip"))}),e}function J(e){var t=e.offsets,n=t.popper,i=t.reference,o=e.placement.split("-")[0],a=Math.floor,r=-1!==["top","bottom"].indexOf(o),s=r?"right":"bottom",l=r?"left":"top",c=r?"width":"height";return n[s]<a(i[l])&&(e.offsets.popper[l]=a(i[l])-n[c]),n[l]>a(i[s])&&(e.offsets.popper[l]=a(i[s])),e}function $(e,t,n,i){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+o[1],r=o[2];if(!a)return e;if(0===r.indexOf("%")){var s=void 0;switch(r){case"%p":s=n;break;case"%":case"%r":default:s=i}return f(s)[t]/100*a}if("vh"===r||"vw"===r){return("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a}return a}function ee(e,t,n,i){var o=[0,0],a=-1!==["right","left"].indexOf(i),r=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=r.indexOf(x(r,function(e){return-1!==e.search(/,|\s/)}));r[s]&&-1===r[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[r.slice(0,s).concat([r[s].split(l)[0]]),[r[s].split(l)[1]].concat(r.slice(s+1))]:[r];return c=c.map(function(e,i){var o=(1===i?!a:a)?"height":"width",r=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,r=!0,e):r?(e[e.length-1]+=t,r=!1,e):e.concat(t)},[]).map(function(e){return $(e,o,t,n)})}),c.forEach(function(e,t){e.forEach(function(n,i){q(n)&&(o[t]+=n*("-"===e[i-1]?-1:1))})}),o}function te(e,t){var n=t.offset,i=e.placement,o=e.offsets,a=o.popper,r=o.reference,s=i.split("-")[0],l=void 0;return l=q(+n)?[+n,0]:ee(n,a,r,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e}function ne(e,t){var n=t.boundariesElement||s(e.instance.popper);e.instance.reference===n&&(n=s(n));var i=C(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=i;var o=t.priority,a=e.offsets.popper,r={primary:function(e){var n=a[e];return a[e]<i[e]&&!t.escapeWithReference&&(n=Math.max(a[e],i[e])),wt({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=a[n];return a[e]>i[e]&&!t.escapeWithReference&&(o=Math.min(a[n],i[e]-("right"===e?a.width:a.height))),wt({},n,o)}};return o.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";a=Et({},a,r[t](e))}),e.offsets.popper=a,e}function ie(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var o=e.offsets,a=o.reference,r=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:wt({},l,a[l]),end:wt({},l,a[l]+a[c]-r[c])};e.offsets.popper=Et({},r,u[i])}return e}function oe(e){if(!W(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=x(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function ae(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,o=i.popper,a=i.reference,r=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[r?"left":"top"]=a[n]-(s?o[r?"width":"height"]:0),e.placement=T(t),e.offsets.popper=f(o),e}function re(e,t){return t={exports:{}},e(t,t.exports),t.exports}function se(e){var t=parseFloat(e,10),n=e.match(/m?s/);return n&&(n=n[0]),"s"===n?1e3*t:"ms"===n?t:0}function le(e,t){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=e.apply(this,i);return t.apply(this,i),a}}function ce(e){return"function"==typeof e}function ue(e){if(Gt){var t=e.split("-");return t.length>2&&-1===Wt.indexOf(t.pop())}return!1}function de(e){var t=parseFloat(e,10),n=e.match(/m?s/);return n&&(n=n[0]),"s"===n?1e3*t:"ms"===n?t:0}function he(e,t){return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=e.apply(this,i);return t.apply(this,i),a}}function pe(e){return"function"==typeof e}function me(e){if(cn){var t=e.split("-");return t.length>2&&-1===ln.indexOf(t.pop())}return!1}function _e(e){return _n[e]||e}function fe(e){e=e.toLowerCase();var t=fn[e]||hn[e];if(!t&&e.length>1)throw new Error("Coral.Keys: Key "+e+" not recognized");return t||e.toUpperCase().charCodeAt(0)}function ve(e){for(var t=[],n=0,i=t.length=e.length;n<i;n++)t[n]=e[n];return t}function ge(e,t){return t?t+'[is="'+e+'"]':e}function be(e,t){return"function"!=typeof t||t(e)}function ye(e){if(!e)return null;if(e.hasAttribute("coral-actionbar-more"))return e;for(var t=null,n=0;n<e.children.length;n++)if(t=e.children[n],t.offsetParent&&t.matches(Yt.FOCUSABLE_ELEMENT_SELECTOR))return t;return null}function Ce(){window.clearTimeout(Ti)}function ke(e){for(var t=document.body.children,n=0;n<t.length;n++){var i=t[n];if(i!==e&&!i.contains(e)){var o=i.getAttribute("aria-hidden");if(o){if(i._previousAriaHidden=i._previousAriaHidden||o,"true"===o)continue}else i._previousAriaHidden="false";i.setAttribute("aria-hidden","true")}}e.setAttribute("aria-hidden","false")}function Ae(){var e=Ei.top();if(e){for(var t=wi.length-1;t>-1;t--)if(wi[t].backdrop){Ai.style.zIndex=wi[t].zIndex-1;break}ke(e.instance)}}function we(){Ci?(document.body.firstElementChild!==Ci&&document.body.insertBefore(Ci,document.body.firstChild),document.body.lastElementChild!==ki&&document.body.appendChild(ki)):(Ci=document.createElement("div"),Ci.setAttribute("coral-tabcapture",""),Ci.tabIndex=0,document.body.insertBefore(Ci,document.body.firstChild),Ci.addEventListener("focus",function(){var e=Ei.top();e&&e.instance.trapFocus===vi.ON&&Array.prototype.some.forEach.call(e.instance.querySelectorAll(Yt.TABBABLE_ELEMENT_SELECTOR),function(e){return null!==e.offsetParent&&!e.hasAttribute("coral-tabcapture")&&(e.focus(),!0)})}),ki=document.createElement("div"),ki.setAttribute("coral-tabcapture",""),ki.tabIndex=0,document.body.appendChild(ki),ki.addEventListener("focus",function(){var e=Ei.top();if(e&&e.instance.trapFocus===vi.ON){var t=Array.prototype.filter.call(e.instance.querySelectorAll(Yt.TABBABLE_ELEMENT_SELECTOR),function(e){return null!==e.offsetParent&&!e.hasAttribute("coral-tabcapture")}).pop();t&&t.focus()}})),Ci.style.display="inline",ki.style.display="inline"}function Ee(){Ci&&(Ci.style.display="none",ki.style.display="none")}function Te(){for(var e=document.body.children,t=0;t<e.length;t++){var n=e[t];n.setAttribute("aria-hidden",n._previousAriaHidden||"false")}}function Se(){document.body.classList.remove("u-coral-noscroll"),window.requestAnimationFrame(function(){Ai.classList.remove("is-open"),Ce(),Ti=window.setTimeout(function(){Ai.style.display="none"},yi)}),Ai._isOpen=!1,Te()}function xe(){if(Ai&&Ai._isOpen){Ei.some(function(e){return!!e.backdrop})?Ae():Se();var e=Ei.top();e&&e.instance.trapFocus===vi.ON&&e.instance._requestedBackdrop?e&&e.instance.trapFocus===vi.ON&&e.instance._requestedBackdrop&&we():Ee()}}function Le(e){Ei.forEach(function(t){"function"==typeof t.instance.backdropClickedCallback&&t.instance.backdropClickedCallback(e)})}function Oe(e,t){document.body.classList.add("u-coral-noscroll"),Ai||(Ai=document.createElement("div"),Ai.className="coral3-Backdrop",document.body.appendChild(Ai),Ai.addEventListener("click",Le)),Ai.style.zIndex=e-1,Ai._isOpen=!0,Ai.style.display="",window.requestAnimationFrame(function(){Ai.classList.add("is-open"),Ce()}),ke(t)}function Ie(e,t,n){return!!e&&(null===t&&null===n||(null===t?e.toDate()<=n:null===n?e.toDate()>=t:t<=e.toDate()&&e.toDate()<=n))}function Ne(e,t){if("today"===e)return(new fa.Moment).startOf("day");if(fa.Moment.isMoment(e))return e.isValid()?e.clone():null;var n=new fa.Moment(e,e instanceof Date?null:t);return n.isValid()?n.startOf("day"):null}function Me(e,t){return e=e||null,t=t||null,e!==t&&!new fa.Moment(e).isSame(t,"day")&&(null===e||e.isValid())}function De(e){var t=this;this.host=e,this._addContainerIfNotPresent=function(e,n){t.container||(ga.call(t,{width:e,height:n}),t.host.appendChild(t.container))},this._removeContainerIfEmpty=function(){t.container&&0===t.container.children.length&&(t.host.removeChild(t.container),t.container=null)},this.slide=function(e,n){var i=t,o=void 0===n,a="left"===n,r=t.oldTable;if(o||!r)return r&&r.parentNode.removeChild(r),t.host.insertBefore(e,t.host.firstChild),void(t.oldTable=e);var s=r.getBoundingClientRect(),l=s.width,c=s.height;t._addContainerIfNotPresent(l,c),t.container.appendChild(r),t.container.appendChild(e),r.classList.add("coral3-Calendar-table--transit"),Yt.transitionEnd(r,function(){r.parentNode.removeChild(r),i._removeContainerIfEmpty()}),e.classList.add("coral3-Calendar-table--transit"),e.style.left=(a?l:-l)+"px",Yt.transitionEnd(e,function(){e.classList.remove("coral3-Calendar-table--transit"),i.host.appendChild(e),i._removeContainerIfEmpty()}),c=t.container.offsetWidth,r.style.left=(a?-l:l)+"px",e.style.left=0,t.oldTable=e}}function Pe(e){return("0"+e.toString(16)).slice(-2)}function Fe(e,t){var n=[];return e=An.string(e).toLowerCase(),t=An.string(t).toLowerCase(),-1!==e.indexOf(t)&&(n=e.substring(e.indexOf(t)+t.length,e.lastIndexOf(")")).split(/,\s*/)),n}function He(e){var t=Fe(e,"rgb(");if(3!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),o=parseInt(t[2],10);return isNaN(n)||isNaN(i)||isNaN(o)?null:n<0||n>255||i<0||i>255||o<0||o>255?null:{r:n,g:i,b:o}}function Be(e){return e?"rgb("+e.r+","+e.g+","+e.b+")":""}function Re(e){var t=Fe(e,"rgba(");if(4!==t.length)return null;var n=parseInt(t[0],10),i=parseInt(t[1],10),o=parseInt(t[2],10),a=parseFloat(t[3]);return isNaN(n)||isNaN(i)||isNaN(o)||isNaN(a)?null:n<0||n>255||i<0||i>255||o<0||o>255||a<0||a>1?null:{r:n,g:i,b:o,a:a}}function je(e){return e?"rgba("+e.r+","+e.g+","+e.b+","+e.a+")":""}function qe(e){var t=Fe(e,"cmyk(");if(4!==t.length)return null;var n=parseFloat(t[0]),i=parseFloat(t[1]),o=parseFloat(t[2]),a=parseFloat(t[3]);return isNaN(n)||isNaN(i)||isNaN(o)||isNaN(a)?null:n<0||n>100||i<0||i>100||o<0||o>100||a<0||a>100?null:{c:n,m:i,y:o,k:a}}function ze(e){if(e){return"cmyk("+parseFloat(e.c.toFixed(2))+","+parseFloat(e.m.toFixed(2))+","+parseFloat(e.y.toFixed(2))+","+parseFloat(e.k.toFixed(2))+")"}return""}function Ue(e){return e=An.string(e).replace("#",""),3===e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),/^[0-9A-F]{6}$/i.test(e)?parseInt(e,16):null}function Ve(e){return null!==e?{r:e>>16,g:(65280&e)>>8,b:255&e}:null}function Ke(e){if(null!==e){var t=Ve(e);return"#"+(Pe(t.r)+Pe(t.g)+Pe(t.b))}return""}function Ze(e){return e?Ue(Pe(e.r)+Pe(e.g)+Pe(e.b)):null}function We(e){if(!e)return null;var t={r:0,g:0,b:0},n=parseFloat(e.c)/100,i=parseFloat(e.m)/100,o=parseFloat(e.y)/100,a=parseFloat(e.k)/100;return t.r=1-Math.min(1,n*(1-a)+a),t.g=1-Math.min(1,i*(1-a)+a),t.b=1-Math.min(1,o*(1-a)+a),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t}function Ge(e){if(!e)return null;var t={c:0,m:0,y:0,k:0};if(0===e.r&&0===e.g&&0===e.b)return t.k=100,t;var n=e.r/255,i=e.g/255,o=e.b/255;return t.k=Math.min(1-n,1-i,1-o),t.c=(1-n-t.k)/(1-t.k),t.m=(1-i-t.k)/(1-t.k),t.y=(1-o-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t}function Xe(e){var t=Fe(e,"hsb(");if(3!==t.length)return null;var n=parseFloat(t[0]),i=parseFloat(t[1]),o=parseFloat(t[2]);return isNaN(n)||isNaN(i)||isNaN(o)?null:n<0||n>360||i<0||i>100||o<0||o>100?null:{h:n,s:i,b:o}}function Ye(e){if(e){return"hsb("+parseFloat(e.h.toFixed(2))+","+parseFloat(e.s.toFixed(2))+","+parseFloat(e.b.toFixed(2))+")"}return""}function Qe(e){if(!e)return null;var t=e.h/360,n=e.s/100,i=e.b/100,o=void 0,a=void 0,r=void 0,s=Math.floor(6*t),l=6*t-s,c=i*(1-n),u=i*(1-l*n),d=i*(1-(1-l)*n);switch(s%6){case 0:o=i,a=d,r=c;break;case 1:o=u,a=i,r=c;break;case 2:o=c,a=i,r=d;break;case 3:o=c,a=u,r=i;break;case 4:o=d,a=c,r=i;break;case 5:o=i,a=c,r=u}return{r:Math.round(255*o),g:Math.round(255*a),b:Math.round(255*r)}}function Je(e){if(!e)return null;var t=e.r,n=e.g,i=e.b,o=Math.max(t,n,i),a=Math.min(t,n,i),r=o-a,s=void 0,l=0===o?0:r/o,c=o/255;switch(o){case a:s=0;break;case t:s=n-i+r*(n<i?6:0),s/=6*r;break;case n:s=i-t+2*r,s/=6*r;break;case i:s=t-n+4*r,s/=6*r}return{h:360*s,s:100*l,b:100*c}}function $e(e){var t=Fe(e,"hsl(");if(3!==t.length)return null;var n=parseFloat(t[0]),i=parseFloat(t[1]),o=parseFloat(t[2]);return isNaN(n)||isNaN(i)||isNaN(o)?null:n<0||n>360||i<0||i>100||o<0||o>100?null:{h:n,s:i,l:o}}function et(e){if(e){return"hsl("+parseFloat(e.h.toFixed(2))+","+parseFloat(e.s.toFixed(2))+"%,"+parseFloat(e.l.toFixed(2))+"%)"}return""}function tt(e){if(!e)return null;var t=e.h/360,n=e.s/100,i=e.l/100,o=void 0,a=void 0,r=void 0;if(0===n)o=a=r=i;else{var s=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},l=i<.5?i*(1+n):i+n-i*n,c=2*i-l;o=s(c,l,t+1/3),a=s(c,l,t),r=s(c,l,t-1/3)}return{r:Math.round(255*o),g:Math.round(255*a),b:Math.round(255*r)}}function nt(e){if(!e)return null;var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(t,n,i),a=Math.min(t,n,i),r=void 0,s=void 0,l=(o+a)/2;if(o===a)r=s=0;else{var c=o-a;switch(s=l>.5?c/(2-o-a):c/(o+a),o){case t:r=(n-i)/c+(n<i?6:0);break;case n:r=(i-t)/c+2;break;case i:r=(t-n)/c+4}r/=6}return{h:360*r,s:100*s,l:100*l}}function it(e){var t=Fe(e,"hsla(");if(4!==t.length)return null;var n=parseFloat(t[0]),i=parseFloat(t[1]),o=parseFloat(t[2]),a=parseFloat(t[3]);return isNaN(n)||isNaN(i)||isNaN(o)?null:n<0||n>360||i<0||i>100||o<0||o>100||a<0||a>1?null:{h:n,s:i,l:o,a:a}}function ot(e){if(e){return"hsla("+parseFloat(e.h.toFixed(2))+","+parseFloat(e.s.toFixed(2))+"%,"+parseFloat(e.l.toFixed(2))+"%,"+parseFloat(e.a.toFixed(2))+")"}return""}function at(e,t){if("today"===e)return new fa.Moment;if(fa.Moment.isMoment(e))return e.isValid()?e.clone():null;var n=new fa.Moment(e,e instanceof Date?null:t);return n.isValid()?n:null}function rt(e){for(;e;){var t=e.parentNode;if(!t)return t;if(t.matches("body"))return t;var n=window.getComputedStyle(t),i=n.overflow,o=n.overflowX,a=n.overflowY;if(("hidden"===i||"auto"===i||"scroll"===i)&&i===o&&i===a)return t;e=t}}function st(e){return"string"==typeof e?Array.prototype.slice.call(document.querySelectorAll(e)):e instanceof HTMLElement?[e]:"[object NodeList]"===Object.prototype.toString.call(e)?Array.prototype.slice.call(e):void 0}function lt(e){var t={};return e.changedTouches&&e.changedTouches.length>0?t=e.changedTouches[0]:e.touches&&e.touches.length>0&&(t=e.touches[0]),{x:t.pageX||e.pageX,y:t.pageY||e.pageY}}function ct(e,t,n){var i=t.getBoundingClientRect(),o=n.getBoundingClientRect(),a=e.scrollTop,r=e.scrollLeft,s=i.left+r,l=s+i.width,c=o.left+r,u=c+o.width,d=i.top+a,h=d+i.height,p=o.top+a,m=p+o.height;return!(c>l||u<s||p>h||m<d)}function ut(e){var t=null;return e._dropZones&&e._dropZones.length&&e._dropZones.some(function(n){return!!ct(e._scrollingElement,e._dragElement,n)&&(t=n,!0)}),t}function dt(e,t,n){var i="+"===e?t+n:t-n;if(t%1!=0||n%1!=0){var o=t.toString().split("."),a=n.toString().split("."),r=o[1]&&o[1].length||0,s=a[1]&&a[1].length||0,l=Math.pow(10,Math.max(r,s));t=Math.round(t*l),n=Math.round(n*l),i="+"===e?t+n:t-n,i/=l}return i}function ht(e){if(e instanceof Node)return e;var t=null;return"string"==typeof e&&""!==e.trim()&&(t=document.querySelector(e)),t}function pt(e){if(e instanceof Node)return e;var t=null;return"string"==typeof e&&""!==e.trim()&&(t=document.querySelector(e)),t}!function(){Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1})}(),function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}(),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),o=Math.max(0,16-(i-e)),a=window.setTimeout(function(){t(i+o)},o);return e=i+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof window.CustomEvent)return!1;e.prototype=window.Event.prototype,window.CustomEvent=e}();for(var mt="undefined"!=typeof window&&void 0!==window.document,_t=["Edge","Trident","Firefox"],ft=0,vt=0;vt<_t.length;vt+=1)if(mt&&navigator.userAgent.indexOf(_t[vt])>=0){ft=1;break}var gt=mt&&window.Promise,bt=gt?t:n,yt=void 0,Ct=function(){return void 0===yt&&(yt=-1!==navigator.appVersion.indexOf("MSIE 10")),yt},kt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},At=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),wt=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],St=Tt.slice(3),xt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Lt={shift:{order:100,enabled:!0,fn:ie},offset:{order:200,enabled:!0,fn:te,offset:0},preventOverflow:{order:300,enabled:!0,fn:ne,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:J},arrow:{order:500,enabled:!0,fn:G,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Q,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:ae},hide:{order:800,enabled:!0,fn:oe},computeStyle:{order:850,enabled:!0,fn:Z,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:V,onLoad:K,gpuAcceleration:void 0}},Ot={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Lt},It=function(){function e(t,n){var o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kt(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},
this.update=bt(this.update.bind(this)),this.options=Et({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Et({},e.Defaults.modifiers,a.modifiers)).forEach(function(t){o.options.modifiers[t]=Et({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Et({name:e},o.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&i(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return At(e,[{key:"update",value:function(){return I.call(this)}},{key:"destroy",value:function(){return D.call(this)}},{key:"enableEventListeners",value:function(){return B.call(this)}},{key:"disableEventListeners",value:function(){return j.call(this)}}]),e}();It.Utils=("undefined"!=typeof window?window:global).PopperUtils,It.placements=Tt,It.Defaults=Ot;var Nt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mt=re(function(e,t){!function(t,n){e.exports=n()}(0,function(){function e(e,t){for(var n=0;n<t.length;n++)if(-1===e.indexOf(t[n]))return!1;return!0}function t(e){return e&&r.test(e)}function n(){this._ventPropagationStopped=!0,Event.prototype.stopPropagation.call(this)}function i(){this._ventImmediatePropagationStopped=!0,Event.prototype.stopImmediatePropagation.call(this)}function o(e){if(this===t)throw new Error("Vent must be invoked with the new keyword");var t;t="string"==typeof e?document.querySelector(e):e,this.root=t,this._listenersByType=Object.create(null),this._allListeners=[],this._executeCaptureListeners=this._executeCaptureListeners.bind(this),this._executeBubbleListeners=this._executeBubbleListeners.bind(this),this._id=this._id||a++}var a=0,r=/^\s*(>|:scope\s*>)/,s=function(){var e=Element.prototype,t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;if(!t)throw new Error("Vent: Browser does not support matchesSelector");return t}();return o.prototype._listenerMatchesRootTarget=function(e,t){return null===e.selector&&t===this.root},o.prototype._listenerMatchesDelegateTarget=function(e,t){return t!==document&&t!==this.root&&null!==e.selector&&(e.isScoped?s.call(t,'[__vent-id__="'+this._id+'"] '+e.selector):s.call(t,e.selector))},o.prototype._listenerMatchesEventPhase=function(e,t){return e.useCapture===t},o.prototype._executeListenersAtElement=function(e,t,n,i){var o,a;e:for(var r=0;r<t.length&&(o=t[r],"click"===n.type&&!0===e.disabled||!this._listenerMatchesRootTarget(o,e)&&!this._listenerMatchesDelegateTarget(o,e)||!this._listenerMatchesEventPhase(o,i)||(n.matchedTarget=e,a=o.handler.call(e,n),!1===a&&(n.preventDefault(),n.stopPropagation()),!n._ventImmediatePropagationStopped));r++);},o.prototype._executeCaptureListeners=function(e){var t=this._listenersByType[e.type];if(!t)throw new Error("Vent: _executeListeners called in response to "+e.type+", but we are not listening to it");if(t.length){t=t.slice(),this._decorateEvent(e);var n=this._getPath(e);e:for(var i=n.length-1;i>=0&&t.length;i--){var o=n[i];if(this._executeListenersAtElement(o,t,e,!0),e._ventImmediatePropagationStopped||e._ventPropagationStopped)break e}}this._undecorateEvent(e)},o.prototype._executeBubbleListeners=function(e){var t=this._listenersByType[e.type];if(!t)throw new Error("Vent: _executeListeners called in response to "+e.type+", but we are not listening to it");if(t.length){t=t.slice(),this._decorateEvent(e);var n="focus"!==e.type&&"blur"!==e.type,i=this._getPath(e);e:for(var o=0;o<i.length&&t.length;o++){var a=i[o];if(this._executeListenersAtElement(a,t,e,!1),e._ventImmediatePropagationStopped||e._ventPropagationStopped)break e;if(!n)break e}}this._undecorateEvent(e),e["_ventPath"+this._id]=null},o.prototype._decorateEvent=function(e){e.stopPropagation=n,e.stopImmediatePropagation=i},o.prototype._undecorateEvent=function(e){e.stopPropagation=Event.prototype.stopPropagation,e.stopImmediatePropagation=Event.prototype.stopImmediatePropagation},o.prototype._getPath=function(e){if(e["_ventPath"+this._id])return e["_ventPath"+this._id];var t=e.target;t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);for(var n=t,i=[];n&&n!==this.root;)i.push(n),n=n.parentNode;return i.push(this.root),e["_ventPath"+this._id]=i,i},o.prototype.on=function(e,n,i,o){if("function"==typeof n&&(o=i,i=n,n=null),"function"!=typeof i)throw new Error("Vent: Cannot add listener with non-function handler");n||(n=null),void 0===o&&(o="focus"===e||"blur"===e);var a=null,s=e.indexOf(".");-1!==s&&(a=e.slice(s+1).split("."),e=e.slice(0,s));var l=this._listenersByType[e];l||(l=this._listenersByType[e]=[],this.root.addEventListener(e,this._executeCaptureListeners,!0),this.root.addEventListener(e,this._executeBubbleListeners,!1));var c=t(n);c&&(n=n.replace(r,">"),this.root.setAttribute("__vent-id__",this._id));var u={eventName:e,handler:i,namespaces:a,selector:n,useCapture:o,isScoped:c};l.push(u),this._allListeners.push(u)},o.prototype.off=function(t,n,i,o){"function"==typeof n&&(o=i,i=n,n=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null);var a=null;if(t){var r=t.indexOf(".");-1!==r&&(a=t.slice(r+1).split("."),t=t.slice(0,r))}""===t&&(t=null);for(var s,l,c=this._allListeners,u=0;u<c.length;u++)if(s=c[u],(null===t||s.eventName===t)&&(null===n||s.selector===n)&&(null===i||s.handler===i)&&(null===o||s.useCapture===o)&&(null===a||s.namespaces&&e(s.namespaces,a))){if(this._allListeners.splice(u,1),u--,!this._listenersByType[s.eventName])throw new Error("Vent: Missing listenersByType for "+s.eventName);if(-1===(l=this._listenersByType[s.eventName].indexOf(s)))throw new Error("Vent: Event existed in allEvents, but did not exist in listenersByType");var d=this._listenersByType[s.eventName];d.splice(l,1),0===d.length&&(this.root.removeEventListener(s.eventName,this._executeCaptureListeners,!0),this.root.removeEventListener(s.eventName,this._executeBubbleListeners,!1),this._listenersByType[s.eventName]=null)}return this},"function"==typeof CustomEvent?o.prototype.dispatch=function(e,t){t=t||{},void 0===t.bubbles&&(t.bubbles=!0),void 0===t.cancelable&&(t.cancelable=!0);var n=new CustomEvent(e,t);return this.root.dispatchEvent(n),n}:o.prototype.dispatch=function(e,t){t=t||{},void 0===t.bubbles&&(t.bubbles=!0),void 0===t.cancelable&&(t.cancelable=!0);var n=document.createEvent("CustomEvent");n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);var i=!this.root.dispatchEvent(n);if(i!==n.defaultPrevented){var o=Object.create(n);return Object.defineProperty(o,"defaultPrevented",{value:i}),o}return n},o.prototype.destroy=function(){this.destroyed||(this.off(),this._listenersByType=null,this._allListeners=null,this.root=null,this.destroyed=!0)},o})});!function(){var e="ruf7eed";window.Coral&&window.Coral.options&&window.Coral.options.typeKitId&&(e=window.Coral.options.typeKitId);var t={kitId:e,scriptTimeout:3e3};if(!window.Typekit){var n=document.getElementsByTagName("html")[0];n.className+=" wf-loading";var i=setTimeout(function(){n.className=n.className.replace(/(\s|^)wf-loading(\s|$)/g," "),n.className+=" wf-inactive"},t.scriptTimeout),o=document.createElement("script"),a=!1;o.src="https://use.typekit.net/"+t.kitId+".js",o.type="text/javascript",o.async="true",o.onload=o.onreadystatechange=function(){var e=this.readyState;if(!(a||e&&"complete"!==e&&"loaded"!==e)){a=!0,clearTimeout(i);try{Typekit.load(t)}catch(e){}}};var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)}}();var Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Ht=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in o)return o.value;var r=o.get;if(void 0!==r)return r.call(i)},Bt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Rt=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},jt=function e(t,n,i,o){var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);null!==r&&e(r,n,i,o)}else if("value"in a&&a.writable)a.value=i;else{var s=a.set;void 0!==s&&s.call(o,i)}return i},qt=re(function(e){!function(t){function n(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!==Dt(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?r:s)(t.promise,e._value);var i;try{i=n(e._value)}catch(e){return void s(t.promise,e)}r(t.promise,i)})}function r(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":Dt(t))||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void u(i(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,r(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var d=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var i=new this.constructor(n);return a(this,new c(e,t,i)),i},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function i(a,r){try{if(r&&("object"===(void 0===r?"undefined":Dt(r))||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(e){i(a,e)},n)}t[a]=r,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)i(a,t[a])})},o.resolve=function(e){return e&&"object"===(void 0===e?"undefined":Dt(e))&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,o=e.length;i<o;i++)e[i].then(t,n)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){d(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},e.exports?e.exports=o:t.Promise||(t.Promise=o)}(Nt)});window.customElements&&(window.customElements.forcePolyfill=!0),function(){function e(e){var t=k.has(e);return e=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(e),!t&&e}function t(e){var t=e.isConnected;if(void 0!==t)return t;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function n(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function i(e,t,o){o=o||new Set;for(var a=e;a;){if(a.nodeType===Node.ELEMENT_NODE){var r=a;t(r);var s=r.localName;if("link"===s&&"import"===r.getAttribute("rel")){if((a=r.import)instanceof Node&&!o.has(a))for(o.add(a),a=a.firstChild;a;a=a.nextSibling)i(a,t,o);a=n(e,r);continue}if("template"===s){a=n(e,r);continue}if(r=r.__CE_shadowRoot)for(r=r.firstChild;r;r=r.nextSibling)i(r,t,o)}a=a.firstChild?a.firstChild:n(e,a)}}function o(e,t,n){e[t]=n}function a(){this.a=new Map,this.f=new Map,this.m=[],this.b=!1}function r(e,t,n){e.a.set(t,n),e.f.set(n.constructor,n)}function s(e,t){e.b=!0,e.m.push(t)}function l(e,t){e.b&&i(t,function(t){return c(e,t)})}function c(e,t){if(e.b&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.m.length;n++)e.m[n](t)}}function u(e,t){var n=[];for(i(t,function(e){return n.push(e)}),t=0;t<n.length;t++){var o=n[t];1===o.__CE_state?e.connectedCallback(o):p(e,o)}}function d(e,t){var n=[];for(i(t,function(e){return n.push(e)}),t=0;t<n.length;t++){var o=n[t];1===o.__CE_state&&e.disconnectedCallback(o)}}function h(e,t,n){n=n||new Set;var o=[];if(i(t,function(t){var i;"link"===t.localName&&"import"===t.getAttribute("rel")?(i=t.import,i instanceof Node&&"complete"===i.readyState?(i.__CE_isImportDocument=!0,i.__CE_hasRegistry=!0):t.addEventListener("load",function(){var i=t.import;i.__CE_documentLoadHandled||(i.__CE_documentLoadHandled=!0,i.__CE_isImportDocument=!0,i.__CE_hasRegistry=!0,n.delete(i),h(e,i,n))})):((i=t.getAttribute("is"))&&(t.__CE_is=i),o.push(t))},n),e.b)for(t=0;t<o.length;t++)c(e,o[t]);for(t=0;t<o.length;t++)p(e,o[t])}function p(e,n){if(void 0===n.__CE_state){var i=e.a.get(n.__CE_is||n.localName);if(i=i&&i.localName===n.localName?i:null){i.constructionStack.push(n);var o=i.constructor;try{try{if(new o!==n)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(e){throw n.__CE_state=2,e}if(n.__CE_state=1,n.__CE_definition=i,i.attributeChangedCallback)for(i=i.observedAttributes,o=0;o<i.length;o++){var a=i[o],r=n.getAttribute(a);null!==r&&e.attributeChangedCallback(n,a,null,r,null)}t(n)&&e.connectedCallback(n)}}}function m(e,t){this.c=e,this.a=t,this.b=void 0,h(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function _(e){e.b&&e.b.disconnect()}function f(){var e=this;this.b=this.a=void 0,this.f=new Promise(function(t){e.b=t,e.a&&t(e.a)})}function v(e){if(e.a)throw Error("Already resolved.");e.a=void 0,e.b&&e.b(void 0)}function g(e){this.i=!1,this.c=e,this.l=new Map,this.j=function(e){return e()},this.g=!1,this.h=[],this.s=new m(e,document)}function b(e,n,i){n.prepend=function(n){for(var o=[],a=0;a<arguments.length;++a)o[a-0]=arguments[a];a=o.filter(function(e){return e instanceof Node&&t(e)}),i.o.apply(this,o);for(var r=0;r<a.length;r++)d(e,a[r]);if(t(this))for(a=0;a<o.length;a++)(r=o[a])instanceof Element&&u(e,r)},n.append=function(n){for(var o=[],a=0;a<arguments.length;++a)o[a-0]=arguments[a];a=o.filter(function(e){return e instanceof Node&&t(e)}),i.append.apply(this,o);for(var r=0;r<a.length;r++)d(e,a[r]);if(t(this))for(a=0;a<o.length;a++)(r=o[a])instanceof Element&&u(e,r)}}function y(e){var n=Element.prototype;n.before=function(n){for(var i=[],o=0;o<arguments.length;++o)i[o-0]=arguments[o];o=i.filter(function(e){return e instanceof Node&&t(e)}),K.apply(this,i);for(var a=0;a<o.length;a++)d(e,o[a]);if(t(this))for(o=0;o<i.length;o++)(a=i[o])instanceof Element&&u(e,a)},n.after=function(n){for(var i=[],o=0;o<arguments.length;++o)i[o-0]=arguments[o];o=i.filter(function(e){return e instanceof Node&&t(e)}),Z.apply(this,i);for(var a=0;a<o.length;a++)d(e,o[a]);if(t(this))for(o=0;o<i.length;o++)(a=i[o])instanceof Element&&u(e,a)},n.replaceWith=function(n){for(var i=[],o=0;o<arguments.length;++o)i[o-0]=arguments[o];var o=i.filter(function(e){return e instanceof Node&&t(e)}),a=t(this);W.apply(this,i);for(var r=0;r<o.length;r++)d(e,o[r]);if(a)for(d(e,this),o=0;o<i.length;o++)(a=i[o])instanceof Element&&u(e,a)},n.remove=function(){var n=t(this);G.call(this),n&&d(e,this)}}var C=new function(){},k=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));a.prototype.connectedCallback=function(e){var t=e.__CE_definition;t.connectedCallback&&t.connectedCallback.call(e)},a.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;t.disconnectedCallback&&t.disconnectedCallback.call(e)},a.prototype.attributeChangedCallback=function(e,t,n,i,o){var a=e.__CE_definition;a.attributeChangedCallback&&-1<a.observedAttributes.indexOf(t)&&a.attributeChangedCallback.call(e,t,n,i,o)},m.prototype.f=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||_(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,i=0;i<n.length;i++)h(this.c,n[i])},g.prototype.define=function(t,n,i){var o=this;if(!(n instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!e(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this.c.a.get(t))throw Error("A custom element with name '"+t+"' has already been defined.");var a=t;if(i&&i.extends){if(!this.enableCustomizedBuiltins)throw Error("Customized builtin elements are disabled by default. Set customElements.enableCustomizedBuiltins = true.");if(e(i.extends))throw Error("A customized builtin element may not extend a custom element.");if(document.createElement(i.extends)instanceof window.HTMLUnknownElement)throw Error("Cannot extend '"+i.extends+"': is not a real HTML element");a=i.extends}if(this.i)throw Error("A custom element is already being defined.");this.i=!0;var s,l,c,u,d;try{i=function(e){var t=p[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t};var p=n.prototype;if(!(p instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");s=i("connectedCallback"),l=i("disconnectedCallback"),c=i("adoptedCallback"),u=i("attributeChangedCallback"),d=n.observedAttributes||[]}catch(e){return}finally{this.i=!1}r(this.c,t,{name:t,localName:a,constructor:n,connectedCallback:s,disconnectedCallback:l,adoptedCallback:c,attributeChangedCallback:u,observedAttributes:d,constructionStack:[]}),this.h.push(t),this.g||(this.g=!0,this.j(function(){if(!1!==o.g)for(o.g=!1,h(o.c,document);0<o.h.length;){var e=o.h.shift();(e=o.l.get(e))&&v(e)}}))},g.prototype.get=function(e){if(e=this.c.a.get(e))return e.constructor},g.prototype.whenDefined=function(t){if(!e(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var n=this.l.get(t);return n?n.f:(n=new f,this.l.set(t,n),this.c.a.get(t)&&-1===this.h.indexOf(t)&&v(n),n.f)},g.prototype.u=function(e){_(this.s);var t=this.j;this.j=function(n){return e(function(){return t(n)})}},window.CustomElementRegistry=g,g.prototype.define=g.prototype.define,g.prototype.get=g.prototype.get,g.prototype.whenDefined=g.prototype.whenDefined,g.prototype.polyfillWrapFlushCallback=g.prototype.u;var A=window.Document.prototype.createElement,w=window.Document.prototype.createElementNS,E=window.Document.prototype.importNode,T=window.Document.prototype.prepend,S=window.Document.prototype.append,x=window.Node.prototype.cloneNode,L=window.Node.prototype.appendChild,O=window.Node.prototype.insertBefore,I=window.Node.prototype.removeChild,N=window.Node.prototype.replaceChild,M=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),D=window.Element.prototype.attachShadow,P=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),F=window.Element.prototype.getAttribute,H=window.Element.prototype.setAttribute,B=window.Element.prototype.removeAttribute,R=window.Element.prototype.getAttributeNS,j=window.Element.prototype.setAttributeNS,q=window.Element.prototype.removeAttributeNS,z=window.Element.prototype.insertAdjacentElement,U=window.Element.prototype.prepend,V=window.Element.prototype.append,K=window.Element.prototype.before,Z=window.Element.prototype.after,W=window.Element.prototype.replaceWith,G=window.Element.prototype.remove,X=window.HTMLElement,Y=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Q=window.HTMLElement.prototype.insertAdjacentElement,J={Button:window.HTMLButtonElement,Canvas:window.HTMLCanvasElement,Data:window.HTMLDataElement,Head:window.HTMLHeadElement,Mod:window.HTMLModElement,TableCell:window.HTMLTableCellElement,TableCol:window.HTMLTableColElement,Anchor:window.HTMLAnchorElement,Area:window.HTMLAreaElement,Base:window.HTMLBaseElement,Body:window.HTMLBodyElement,BR:window.HTMLBRElement,DataList:window.HTMLDataListElement,Details:window.HTMLDetailsElement,Dialog:window.HTMLDialogElement,Div:window.HTMLDivElement,DList:window.HTMLDListElement,Embed:window.HTMLEmbedElement,FieldSet:window.HTMLFieldSetElement,Form:window.HTMLFormElement,Heading:window.HTMLHeadingElement,HR:window.HTMLHRElement,Html:window.HTMLHtmlElement,IFrame:window.HTMLIFrameElement,Image:window.HTMLImageElement,Input:window.HTMLInputElement,Keygen:window.HTMLKeygenElement,Label:window.HTMLLabelElement,Legend:window.HTMLLegendElement,LI:window.HTMLLIElement,Link:window.HTMLLinkElement,Map:window.HTMLMapElement,Media:window.HTMLMediaElement,Menu:window.HTMLMenuElement,MenuItem:window.HTMLMenuItemElement,Meta:window.HTMLMetaElement,Meter:window.HTMLMeterElement,Object:window.HTMLObjectElement,OList:window.HTMLOListElement,OptGroup:window.HTMLOptGroupElement,Option:window.HTMLOptionElement,Output:window.HTMLOutputElement,Paragraph:window.HTMLParagraphElement,Param:window.HTMLParamElement,Picture:window.HTMLPictureElement,Pre:window.HTMLPreElement,Progress:window.HTMLProgressElement,Quote:window.HTMLQuoteElement,Script:window.HTMLScriptElement,Select:window.HTMLSelectElement,Slot:window.HTMLSlotElement,Source:window.HTMLSourceElement,Span:window.HTMLSpanElement,Style:window.HTMLStyleElement,TableCaption:window.HTMLTableCaptionElement,Table:window.HTMLTableElement,TableRow:window.HTMLTableRowElement,TableSection:window.HTMLTableSectionElement,Template:window.HTMLTemplateElement,TextArea:window.HTMLTextAreaElement,Time:window.HTMLTimeElement,Title:window.HTMLTitleElement,Track:window.HTMLTrackElement,UList:window.HTMLUListElement,Unknown:window.HTMLUnknownElement},$=window.customElements;if(!$||$.forcePolyfill||"function"!=typeof $.define||"function"!=typeof $.get){var ee=new a;!function(){var e=ee;window.HTMLElement=function(){function t(){var t=this.constructor,n=e.f.get(t);if(!n)throw Error("The custom element being constructed was not registered with `customElements`.");var i=n.constructionStack;if(!i.length)return i=A.call(document,n.localName),Object.setPrototypeOf(i,t.prototype),i.__CE_state=1,i.__CE_definition=n,c(e,i),i;var n=i.length-1,o=i[n];if(o===C)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return i[n]=C,Object.setPrototypeOf(o,t.prototype),c(e,o),o}return t.prototype=X.prototype,t}()}(),function(){var e=ee;for(var t in J)!function(t,n){n&&(window[t]=function(){function i(){var n=this.constructor,i=e.f.get(n);if(!i)throw Error("The custom element being constructed was not registered with `customElements`.");var o=i.constructionStack;if(!o.length)return o=A.call(document,i.localName),o.setAttribute("is",i.name),Object.setPrototypeOf(o,n.prototype),o.__CE_state=1,o.__CE_definition=i,c(e,o),o;var i=o.length-1,a=o[i];if(a===C)throw Error("The "+t+" constructor was either called reentrantly for this constructor or called multiple times.");return o[i]=C,Object.setPrototypeOf(a,n.prototype),c(e,a),a}return i.prototype=n.prototype,i}())}("HTML"+t+"Element",J[t])}(),function(){var e=ee;o(Document.prototype,"createElement",function(t,n){if(this.__CE_hasRegistry){var i=e.a.get(n&&n.is?n.is:t);if(i)return new i.constructor}return t=A.call(this,t),n&&n.is&&(t.__CE_is=n.is,t.setAttribute("is",n.is)),c(e,t),t}),o(Document.prototype,"importNode",function(t,n){return t=E.call(this,t,n),this.__CE_hasRegistry?h(e,t):l(e,t),t}),o(Document.prototype,"createElementNS",function(t,n,i){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var o=e.a.get(i&&i.is?i.is:n);if(o)return new o.constructor}return t=w.call(this,t,n),i&&i.is&&(t.__CE_is=i.is,t.setAttribute("is",i.is)),c(e,t),t}),b(e,Document.prototype,{o:T,append:S})}(),function(){function e(e,i){Object.defineProperty(e,"textContent",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)i.set.call(this,e);else{var o=void 0;if(this.firstChild){var a=this.childNodes,r=a.length;if(0<r&&t(this))for(var o=Array(r),s=0;s<r;s++)o[s]=a[s]}if(i.set.call(this,e),o)for(e=0;e<o.length;e++)d(n,o[e])}}})}var n=ee;o(Node.prototype,"insertBefore",function(e,i){if(e instanceof DocumentFragment){var o=Array.prototype.slice.apply(e.childNodes);if(e=O.call(this,e,i),t(this))for(i=0;i<o.length;i++)u(n,o[i]);return e}return o=t(e),i=O.call(this,e,i),o&&d(n,e),t(this)&&u(n,e),i}),o(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes);if(e=L.call(this,e),t(this))for(var o=0;o<i.length;o++)u(n,i[o]);return e}return i=t(e),o=L.call(this,e),i&&d(n,e),t(this)&&u(n,e),o}),o(Node.prototype,"cloneNode",function(e){return e=x.call(this,e),this.ownerDocument.__CE_hasRegistry?h(n,e):l(n,e),e}),o(Node.prototype,"removeChild",function(e){var i=t(e),o=I.call(this,e);return i&&d(n,e),o}),o(Node.prototype,"replaceChild",function(e,i){if(e instanceof DocumentFragment){var o=Array.prototype.slice.apply(e.childNodes);if(e=N.call(this,e,i),t(this))for(d(n,i),i=0;i<o.length;i++)u(n,o[i]);return e}var o=t(e),a=N.call(this,e,i),r=t(this);return r&&d(n,i),o&&d(n,e),r&&u(n,e),a}),M&&M.get?e(Node.prototype,M):s(n,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=0;t<this.childNodes.length;t++)e.push(this.childNodes[t].textContent);return e.join("")},set:function(e){for(;this.firstChild;)I.call(this,this.firstChild);L.call(this,document.createTextNode(e))}})})}(),function(){function e(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var o=this,r=void 0;if(t(this)&&(r=[],i(this,function(e){e!==o&&r.push(e)})),n.set.call(this,e),r)for(var s=0;s<r.length;s++){var c=r[s];1===c.__CE_state&&a.disconnectedCallback(c)}return this.ownerDocument.__CE_hasRegistry?h(a,this):l(a,this),e}})}function n(e,n){o(e,"insertAdjacentElement",function(e,i){var o=t(i);return e=n.call(this,e,i),o&&d(a,i),t(e)&&u(a,i),e})}var a=ee;if(D?o(Element.prototype,"attachShadow",function(e){return this.__CE_shadowRoot=e=D.call(this,e)}):console.warn("Custom Elements: `Element#attachShadow` was not patched."),P&&P.get)e(Element.prototype,P);else if(Y&&Y.get)e(HTMLElement.prototype,Y);else{var r=A.call(document,"div");s(a,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return x.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName?this.content:this;for(r.innerHTML=e;0<t.childNodes.length;)I.call(t,t.childNodes[0]);for(;0<r.childNodes.length;)L.call(t,r.childNodes[0])}})})}o(Element.prototype,"setAttribute",function(e,t){if(1!==this.__CE_state)return H.call(this,e,t);var n=F.call(this,e);H.call(this,e,t),t=F.call(this,e),a.attributeChangedCallback(this,e,n,t,null)}),o(Element.prototype,"setAttributeNS",function(e,t,n){if(1!==this.__CE_state)return j.call(this,e,t,n);var i=R.call(this,e,t);j.call(this,e,t,n),n=R.call(this,e,t),a.attributeChangedCallback(this,t,i,n,e)}),o(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return B.call(this,e);var t=F.call(this,e);B.call(this,e),null!==t&&a.attributeChangedCallback(this,e,t,null,null)}),o(Element.prototype,"removeAttributeNS",function(e,t){if(1!==this.__CE_state)return q.call(this,e,t);var n=R.call(this,e,t);q.call(this,e,t);var i=R.call(this,e,t);n!==i&&a.attributeChangedCallback(this,t,n,i,e)}),Q?n(HTMLElement.prototype,Q):z?n(Element.prototype,z):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),b(a,Element.prototype,{o:U,append:V}),y(a)}(),document.__CE_hasRegistry=!0;var te=new g(ee);te.enableCustomizedBuiltins=!0,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:te})}}.call(self);var zt=document.createElement;document.createElement=function(){return"string"==typeof arguments[1]&&(arguments[1]={is:arguments[1]}),zt.apply(this,arguments)},window.Promise=window.Promise||qt,window.Vent=window.Vent||Mt,window.PopperJS=window.PopperJS||It;var Ut=function(e){var t=document.createDocumentFragment(),n=document.createElement("object");n.setAttribute("aria-hidden","true"),n.setAttribute("tabindex","-1"),n.setAttribute("style","display:block; position:absolute; top:0; left:0; height:100%; width:100%; opacity:0; overflow:hidden; z-index:-100;"),n.textContent="​",t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},Vt=function(){function e(){Pt(this,e);var t=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/);this.useNativeResizeSupport=document.attachEvent&&!t,this._resizeListenerObject=Ut().querySelector("object")}return Ft(e,[{key:"_getResizeListenerObject",value:function(){return this._resizeListenerObject.cloneNode(!0)}},{key:"_addTriggerElement",value:function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");var n=this._getResizeListenerObject();e._resizeTriggerElement&&e._resizeTriggerElement.remove(),e._resizeTriggerElement=n,n.onload=function(){var n=this.contentDocument,i=n.defaultView,o=n.documentElement;i._originalElement=e,i._listenerFunction=t,i.addEventListener("resize",t),o.lang="en",n.title="​",t({target:i})},n.type="text/html",e.appendChild(n),n.data="about:blank"}},{key:"_removeTriggerElement",value:function(e){if(e._resizeTriggerElement){var t=e._resizeTriggerElement;t.contentDocument&&t.contentDocument.defaultView&&t.contentDocument.defaultView.removeEventListener("resize",t.contentDocument.defaultView._listenerFunction),e._resizeTriggerElement=!e.removeChild(e._resizeTriggerElement)}}},{key:"_fireResizeListeners",value:function(e){var t=e.target||e.srcElement,n=t._originalElement||t;n._resizeListeners.forEach(function(t){t.call(n,e)})}},{key:"_addResizeListener",value:function(e,t){if(e){if(this.useNativeResizeSupport)return void e.addEventListener("resize",t);e._resizeListeners&&0!==e._resizeListeners.length||(e._resizeListeners=[]),this._addTriggerElement(e,this._fireResizeListeners.bind(this)),e._resizeListeners.push(t)}}},{key:"_removeResizeListener",value:function(e,t){if(e){if(this.useNativeResizeSupport)return void e.removeEventListener("resize",t);if(e._resizeListeners&&e._resizeTriggerElement){var n=e._resizeListeners.indexOf(t);-1!==n&&(e._resizeListeners.splice(n,1),e._resizeListeners.length||this._removeTriggerElement(e))}}}}]),e}(),Kt=0,Zt=["input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Wt=["label","content","propertylist","asset","info","overlay","thumbnail","separator","value","header","footer","name","subheading"],Gt=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/),Xt=function(){function e(){Pt(this,e),
this._resizeEvent=new Vt;var t=Zt.slice();this._focusableElementsSelector=t.join(","),t.push('[tabindex]:not([tabindex="-1"])'),this._tabbableElementsSelector=t.join(':not([tabindex="-1"]),')}return Ft(e,[{key:"extend",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],o=1,a=t.length;o<a;o++){var r=t[o];for(var s in r)i[s]=r[s]}return i}},{key:"augment",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],o=void 0,a=t.length,r=t[a-1];"function"==typeof r&&(o=r,a--);for(var s=1;s<a;s++){var l=t[s];for(var c in l)if(void 0!==i[c]){if("function"==typeof o){var u=o(i[c],l[c],c,i,l);void 0!==u&&(i[c]=u)}}else i[c]=l[c]}return i}},{key:"swapKeysAndValues",value:function(e){var t={};for(var n in e)t[e[n]]=n;return t}},{key:"nextFrame",value:function(e){return console.warn("Coral.commons.nextFrame has been deprecated. Please use window.requestAnimationFrame instead."),window.requestAnimationFrame(function(){"function"==typeof e&&e()})}},{key:"transitionEnd",value:function(e,t){var n=void 0,i=!1,o=null,a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd"},r=null,s=function n(a){var s=void 0===a;i||(i=!0,clearTimeout(r),e.removeEventListener(o,n),t({target:e,cssTransitionSupported:!0,transitionStoppedByTimeout:s}))};for(n in a)if(void 0!==e.style[n]){o=a[n];break}if(null!==o){var l=0,c=se(window.getComputedStyle(e).transitionDuration);0!==c&&(e.addEventListener(o,s),l=c+100),r=window.setTimeout(s,l)}}},{key:"ready",value:function(e,t){var n=e;if("function"==typeof e&&(t=e,n=document.body),n||(n=document.body),!(n instanceof HTMLElement))return console.warn("Coral.commons.ready: passed element was not an HTMLElement."),void t(n);var i=n.querySelectorAll("*"),o=[],a=[],r=function(e){var t=e.nodeName.toLowerCase();0===t.indexOf("coral")&&e instanceof HTMLUnknownElement&&ue(t)&&-1===a.indexOf(t)?(a.push(t),o.push(window.customElements.whenDefined(t))):(t=String(e.getAttribute("is")).toLowerCase(),0===t.indexOf("coral")&&e instanceof HTMLUnknownElement&&ue(t)&&-1===a.indexOf(t)&&(a.push(t),o.push(window.customElements.whenDefined(t))))};r(n);for(var s=0;s<i.length;s++)r(i[s]);o.length?qt.all(o).then(function(){t(e instanceof HTMLElement&&e||window)}).catch(function(e){console.error(e)}):t(e instanceof HTMLElement&&e||window)}},{key:"setSubProperty",value:function(e,t,n){var i=t.split("."),o=e;if(1===i.length)return void(o[t]=n);for(;i.length>1;){var a=i.shift();if(!o[a])throw new Error("Coral.commons.setSubProperty: could not set "+t+", part "+a+" not found");o=o[a]}o[i.shift()]=n}},{key:"getSubProperty",value:function(e,t){var n=t.split("."),i=e;if(1===n.length)return i[t];for(;n.length;){var o=n.shift();if(0!==n.length&&void 0===i[o])throw new Error("Coral.commons.getSubProperty: could not get "+t+", part "+o+" not found");i=i[o]}return i}},{key:"_applyMixin",value:function(e,t,n){var i=void 0===t?"undefined":Dt(t);if("function"===i)t(e,n);else{if("object"!==i||null===t)throw new Error("Coral.commons.mixin: Cannot mix in "+i+" to "+e.toString());this.extend(e,t)}}},{key:"mixin",value:function(e,t,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)this._applyMixin(e,t[i],n);else this._applyMixin(e,t,n)}},{key:"getUID",value:function(){return"coral-id-"+Kt++}},{key:"callAll",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];"number"!=typeof i&&(i=0);var o=t[i],a=Array.prototype.filter.call(t,ce);return 2===a.length&&0===i?le(a[0],a[1]):1===a.length?a[0]:0===a.length?function(){}:("function"!=typeof o&&(o=a[0]),function(){for(var e=void 0,n=void 0,i=void 0,r=0;r<a.length;r++)i=a[r],n=i.apply(this,t),i===o&&(e=n);return e})}},{key:"addResizeListener",value:function(e,t){this._resizeEvent._addResizeListener(e,t)}},{key:"removeResizeListener",value:function(e,t){this._resizeEvent._removeResizeListener(e,t)}},{key:"FOCUSABLE_ELEMENT_SELECTOR",get:function(){return this._focusableElementsSelector}},{key:"TABBABLE_ELEMENT_SELECTOR",get:function(){return this._tabbableElementsSelector}}]),e}(),Yt=new Xt,Qt=function(){function e(t){Pt(this,e),this._vent=new Mt(t)}return Ft(e,[{key:"on",value:function(e,t,n,i){return this._vent.on(e,t,n,i),this}},{key:"off",value:function(e,t,n,i){return this._vent.off(e,t,n,i),this}},{key:"dispatch",value:function(e,t){return this._vent.dispatch(e,t)}},{key:"destroy",value:function(){this._vent.destroy()}}]),e}(),Jt=new Qt(window),$t={en:"en-US","en-us":"en-US",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",es:"es-ES","es-es":"es-ES",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-fr":"fr-FR",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ko:"ko-KR","ko-kr":"ko-KR",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL",pl:"pl-PL","pl-pl":"pl-PL","nl-nl":"nl-NL",pt:"pt-BR","pt-br":"pt-BR",ru:"ru-RU","ru-ru":"ru-RU",sv:"sv-SE","sv-se":"sv-SE",tr:"tr-TR","tr-tr":"tr-TR","zh-cn":"zh-CN","zh-hans-cn":"zh-CN","zh-hans":"zh-CN","zh-tw":"zh-TW","zh-hant-tw":"zh-TW","zh-hant":"zh-TW"},en={generic:{}},tn=function(){function e(t){Pt(this,e),t=t||{},this._locale="en-US",t.locale&&(this._locale=t.locale),this._evaluate=/(\{.+?\})/g}return Ft(e,[{key:"set",value:function(){en.generic[this._locale]=en.generic[this._locale]||{};for(var e=void 0,t=void 0,n=void 0,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];if(0===o.length)return"";if(1===o.length){if(!o[0])throw new Error("Coral.i18n.set: Single argument must be an array of arrays of key/value/(translation hint).");if("object"!==Dt(o[0])||"object"!==Dt(o[0][0]))throw new Error("Coral.i18n.set: Single argument must be an array of key-value pairs.");for(var r=0;r<o[0].length;r++)e=o[0][r][0],t=o[0][r][1],n=o[0][r][2],n&&(e=e+"/[translation hint:"+n.replace(/&period;/g,".")+"]"),en.generic[this._locale][e]=t}else if(2===o.length){if("string"!=typeof o[0]||!o[0]||"string"!=typeof o[1]||!o[1])throw new Error("Coral.i18n.set: Both arguments must be non-empty string values.");e=o[0],t=o[1],en.generic[this._locale][e]=t}else{if(3!==o.length)throw new Error("Coral.i18n.set: Too many arguments provided.");if("string"!=typeof o[0]||"string"!=typeof o[1]||"string"!=typeof o[2])throw new Error("Coral.i18n.set: All arguments must be of string type.");e=o[0],t=o[1],n=o[2],"null"!==n&&(e=e+"/[translation hint:"+n.replace(/&period;/g,".")+"]"),en.generic[this._locale][e]=t}return this}},{key:"get",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return"";var i=t[0].replace(".","&period;"),o=i.match(this._evaluate),a=o?o.length:0,r="",s={},l=0,c=void 0;if(null!==t[1]&&"object"===Dt(t[1])){s=t[1];var u="";for(c=0;c<o.length;c++)if(u=o[c].slice(1).slice(0,-1),null===s[u]||void 0===s[u])throw new Error('Coral.i18n.get: Named key "'+u+'" not present in provided object.');"string"==typeof t[2]&&(r=t[2])}else{if((l=t.length-1)===a+1)r=t[t.length-1];else if(l!==a)throw new Error("Coral.i18n.get: Number of variable placeholders ("+a+") does not match number of variables ("+l+").");for(c=0;c<l;c++)s[c]=t[c+1]}r&&(i=i+"/[translation hint:"+r+"]");var d=i;for(var h in en)void 0!==en[h]&&void 0!==en[h][this._locale]&&(d=en[h][this._locale][i]||d);return 0===a?d:d.replace(this._evaluate,function(e){return e=e.slice(1).slice(0,-1),s[e]})}},{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}}]),e}(),nn=document.documentElement.lang.toLowerCase(),on=$t[nn]||"en-US",an=new tn({locale:on}),rn=0,sn=["input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],ln=["label","content","propertylist","asset","info","overlay","thumbnail","separator","value","header","footer","name","subheading"],cn=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/),un=function(){function e(){Pt(this,e),this._resizeEvent=new Vt;var t=sn.slice();this._focusableElementsSelector=t.join(","),t.push('[tabindex]:not([tabindex="-1"])'),this._tabbableElementsSelector=t.join(':not([tabindex="-1"]),')}return Ft(e,[{key:"extend",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t[0],o=1,a=t.length;o<a;o++){var r=t[o];for(var s in r)i[s]=r[s]}return i}},{key:"augment",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],o=void 0,a=t.length,r=t[a-1];"function"==typeof r&&(o=r,a--);for(var s=1;s<a;s++){var l=t[s];for(var c in l)if(void 0!==i[c]){if("function"==typeof o){var u=o(i[c],l[c],c,i,l);void 0!==u&&(i[c]=u)}}else i[c]=l[c]}return i}},{key:"swapKeysAndValues",value:function(e){var t={};for(var n in e)t[e[n]]=n;return t}},{key:"nextFrame",value:function(e){return console.warn("Coral.commons.nextFrame has been deprecated. Please use window.requestAnimationFrame instead."),window.requestAnimationFrame(function(){"function"==typeof e&&e()})}},{key:"transitionEnd",value:function(e,t){var n=void 0,i=!1,o=null,a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd"},r=null,s=function n(a){var s=void 0===a;i||(i=!0,clearTimeout(r),e.removeEventListener(o,n),t({target:e,cssTransitionSupported:!0,transitionStoppedByTimeout:s}))};for(n in a)if(void 0!==e.style[n]){o=a[n];break}if(null!==o){var l=0,c=de(window.getComputedStyle(e).transitionDuration);0!==c&&(e.addEventListener(o,s),l=c+100),r=window.setTimeout(s,l)}}},{key:"ready",value:function(e,t){var n=e;if("function"==typeof e&&(t=e,n=document.body),n||(n=document.body),!(n instanceof HTMLElement))return console.warn("Coral.commons.ready: passed element was not an HTMLElement."),void t(n);var i=n.querySelectorAll("*"),o=[],a=[],r=function(e){var t=e.nodeName.toLowerCase();0===t.indexOf("coral")&&e instanceof HTMLUnknownElement&&me(t)&&-1===a.indexOf(t)?(a.push(t),o.push(window.customElements.whenDefined(t))):(t=String(e.getAttribute("is")).toLowerCase(),0===t.indexOf("coral")&&e instanceof HTMLUnknownElement&&me(t)&&-1===a.indexOf(t)&&(a.push(t),o.push(window.customElements.whenDefined(t))))};r(n);for(var s=0;s<i.length;s++)r(i[s]);o.length?qt.all(o).then(function(){t(e instanceof HTMLElement&&e||window)}).catch(function(e){console.error(e)}):t(e instanceof HTMLElement&&e||window)}},{key:"setSubProperty",value:function(e,t,n){var i=t.split("."),o=e;if(1===i.length)return void(o[t]=n);for(;i.length>1;){var a=i.shift();if(!o[a])throw new Error("Coral.commons.setSubProperty: could not set "+t+", part "+a+" not found");o=o[a]}o[i.shift()]=n}},{key:"getSubProperty",value:function(e,t){var n=t.split("."),i=e;if(1===n.length)return i[t];for(;n.length;){var o=n.shift();if(0!==n.length&&void 0===i[o])throw new Error("Coral.commons.getSubProperty: could not get "+t+", part "+o+" not found");i=i[o]}return i}},{key:"_applyMixin",value:function(e,t,n){var i=void 0===t?"undefined":Dt(t);if("function"===i)t(e,n);else{if("object"!==i||null===t)throw new Error("Coral.commons.mixin: Cannot mix in "+i+" to "+e.toString());this.extend(e,t)}}},{key:"mixin",value:function(e,t,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)this._applyMixin(e,t[i],n);else this._applyMixin(e,t,n)}},{key:"getUID",value:function(){return"coral-id-"+rn++}},{key:"callAll",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];"number"!=typeof i&&(i=0);var o=t[i],a=Array.prototype.filter.call(t,pe);return 2===a.length&&0===i?he(a[0],a[1]):1===a.length?a[0]:0===a.length?function(){}:("function"!=typeof o&&(o=a[0]),function(){for(var e=void 0,n=void 0,i=void 0,r=0;r<a.length;r++)i=a[r],n=i.apply(this,t),i===o&&(e=n);return e})}},{key:"addResizeListener",value:function(e,t){this._resizeEvent._addResizeListener(e,t)}},{key:"removeResizeListener",value:function(e,t){this._resizeEvent._removeResizeListener(e,t)}},{key:"FOCUSABLE_ELEMENT_SELECTOR",get:function(){return this._focusableElementsSelector}},{key:"TABBABLE_ELEMENT_SELECTOR",get:function(){return this._tabbableElementsSelector}}]),e}(),dn=new un,hn={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91,meta:91},pn={16:!0,17:!0,18:!0,91:!0},mn=["shiftKey","ctrlKey","altKey","metaKey"],_n={96:48,97:49,98:50,99:51,100:52,101:53,102:54,103:55,104:56,105:57},fn={backspace:8,tab:9,return:13,enter:13,pause:19,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,delete:46,";":186,"=":187,"*":106,plus:107,minus:189,".":190,period:190,"/":191,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,numlock:144,scroll:145,",":188,"`":192,"[":219,"\\":220,"]":221,"'":222},vn=/(.*?)(\..+)$/,gn=/^[\x20\t\r\n\f]*[>+~]/,bn={INPUT:!0,SELECT:!0,TEXTAREA:!0},yn=function(){function e(t,n){if(Pt(this,e),n=n||{},void 0===t)throw new Error("Coral.Keys: Cannot create a combo handler for "+t);this._el="string"==typeof t?document.querySelector(t):t,this._context=n.context,this._filter=n.filter||this.constructor.filterInputs,this._preventDefault=n.preventDefault||!1,this._stopPropagation=n.stopPropagation||!1,this._keyListeners,this._keySequences,this._currentKeys,this._currentKeyCombo,this._sequenceTimeout,this._handleKeyDown=this._handleKeyDown.bind(this),this._handleKeyUp=this._handleKeyUp.bind(this),this._resetSequence=this._resetSequence.bind(this),this.reset=this.reset.bind(this),this.init()}return Ft(e,[{key:"_resetSequence",value:function(){window.clearTimeout(this._sequenceTimeout),this._keySequences.forEach(function(e){e.currentPart=0})}},{key:"_setCurrentKeyCombo",value:function(e){for(var t=[],n=0;n<mn.length;n++){var i=mn[n];e[i]&&t.push(hn[i.slice(0,-3)])}this._currentKeyCombo=this._currentKeys.concat(t).sort().join("+")}},{key:"reset",value:function(){return this._currentKeys=[],this._currentKeyCombo="",this}},{key:"_processSequences",value:function(){var e=[],t=this;return this._keySequences.forEach(function(n){n.parts[n.currentPart]===t._currentKeyCombo?n.currentPart++:n.currentPart=0,n.currentPart===n.parts.length&&(e.push(n),n.currentPart=0)}),e}},{key:"_executeListeners",value:function(e,t){if(this._currentKeyCombo&&this._filter(e)){var n=e.target||e.srcElement,i="[object Window]"===Object.prototype.toString.call(e.currentTarget)?e.currentTarget.document:e.currentTarget,o=[],a=this._keyListeners[this._currentKeyCombo],r=void 0;if(t||(r=this._processSequences()),a&&a.length&&(o=o.concat(a)),r&&r.length&&(o=o.concat(r)),o&&o.length){for(var s=0;s<o.length;s++){var l=o[s];if(l.selector){var c="";l.needsContext&&(i.id=i.id||dn.getUID(),c="#"+i.id+" ");if(!(Array.prototype.indexOf.call(i.querySelectorAll(c+l.selector),n)>=0))continue}void 0!==Dt(l.data)&&(e.data=l.data),e.matchedTarget=n,e.keys=l.originalString,l.listener.call(this._context||i,e)}this._preventDefault&&e.preventDefault(),this._stopPropagation&&e.stopPropagation()}}}},{key:"_handleKeyDown",value:function(e){window.clearTimeout(this._sequenceTimeout),this._sequenceTimeout=window.setTimeout(this._resetSequence,this.constructor.sequenceTime);var t=_e(e.keyCode);pn[t]||(-1===this._currentKeys.indexOf(t)&&(this._currentKeys.push(t),this._setCurrentKeyCombo(e)),this._executeListeners.call(this,e),e.metaKey&&this.reset(),e.target.parentNode||this.reset())}},{key:"_handleKeyUp",value:function(e){var t=_e(e.keyCode);if(pn[t])return void this.reset();var n=this._currentKeys.indexOf(t);-1!==n&&(this._currentKeys.splice(n,1),this._setCurrentKeyCombo(e),this._executeListeners.call(this,e,!0))}},{key:"_keySequenceStringToArray",value:function(e){return e.toString().split("-").map(this._keyComboToCodeString)}},{key:"on",value:function(e,t,n,i){if("object"===(void 0===e?"undefined":Dt(e))){"string"!=typeof t&&(n=n||t,t=void 0);for(var o in e)this.on(o,t,n,e[o]);return this}if(void 0===n&&void 0===i?(i=t,n=t=void 0):void 0===i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),"function"!=typeof i)throw new Error("Coral.Keys: Cannot add listener of type "+(void 0===i?"undefined":Dt(i)));var a=void 0,r=vn.exec(e);r&&(e=r[1],a=r[2]);var s=!!t&&gn.test(t);if(-1!==e.toString().indexOf("-")){var l=this._keySequenceStringToArray(e);this._keySequences.push({originalString:e,currentPart:0,parts:l,needsContext:s,selector:t,listener:i,data:n,namespace:a})}else{var c=e.toString();e=this._keyComboToCodeString(e);(this._keyListeners[e]=this._keyListeners[e]||[]).push({originalString:c,needsContext:!!t&&gn.test(t),selector:t,listener:i,data:n,namespace:a})}return this}},{key:"_offByKeyComboString",value:function(e,t,n,i){var o=void 0,a=this._keyListeners[e];if(a&&a.length)if(void 0===n&&void 0===i&&void 0===t)a.length=0;else if(void 0===i)for(o=0;o<a.length;o++)a[o].selector===n&&a[o].namespace===t&&(a.splice(o,1),o--);else for(o=0;o<a.length;o++)a[o].listener===i&&a[o].selector===n&&a[o].namespace===t&&(a.splice(o,1),o--)}},{key:"off",value:function(e,t,n){void 0===n&&(n=t,t=void 0);var i=void 0,o=void 0,a=vn.exec(e);if(a&&(e=a[1],o=a[2]),""===e&&void 0!==o){for(e in this._keyListeners)this._offByKeyComboString(e,o,t,n);for(i=0;i<this._keySequences.length;i++)this._keySequences[i].namespace===o&&(this._keySequences.splice(i,1),i--);return this}if(-1!==e.indexOf("-"))for(i=0;i<this._keySequences.length;i++)void 0!==e&&this._keySequences[i].originalString!==e||void 0!==n&&this._keySequences[i].listener!==n||void 0!==t&&this._keySequences[i].selector!==t||void 0!==o&&this._keySequences[i].namespace!==o||(this._keySequences.splice(i,1),i--);else e=this._keyComboToCodeString(e),this._offByKeyComboString(e,o,t,n);return this}},{key:"destroy",value:function(e){return e||(this._keyListeners=null,this._currentKeys=null,this._currentKeyCombo=null,this._el.removeEventListener("keydown",this._handleKeyDown)),window.removeEventListener("keyup",this._handleKeyUp,!0),window.removeEventListener("focus",this.reset),this}},{key:"init",value:function(e){return e||(this._currentKeys=[],this._currentKeyCombo="",this._keyListeners={},this._keySequences=[],this._el.addEventListener("keydown",this._handleKeyDown)),this.destroy(!0),window.addEventListener("keyup",this._handleKeyUp,!0),window.addEventListener("focus",this.reset),this}},{key:"_keyComboToCodeString",value:function(e){return e.toString().split("+").map(fe).sort().join("+")}}],[{key:"filterInputs",value:function(e){if(e.keyCode===fn.escape)return!0;var t=e.target,n=t.tagName,i=t.isContentEditable,o=bn[n];return!i&&!o}},{key:"keyToCode",value:function(e){return fe(e)}},{key:"sequenceTime",get:function(){return 1500}}]),e}(),Cn=new yn(document.documentElement,{stopPropagation:!0,preventDefault:!0}),kn=function(){function e(){Pt(this,e)}return Ft(e,[{key:"boolean",value:function(e){return!!e}},{key:"booleanAttr",value:function(e){return"boolean"==typeof e?e:!(null===e||void 0===e)}},{key:"number",value:function(e){return e=parseFloat(e),isNaN(e)?null:e}},{key:"float",value:function(e){return/^(-|\+)?([0-9]+(\.[0-9]+)?|Infinity)$/.test(e)?Number(e):null}},{key:"string",value:function(e){return null===e||void 0===e?"":"string"==typeof e?e:String(e)}}]),e}(),An=new kn,wn=function(){function e(){Pt(this,e)}return Ft(e,[{key:"valueMustChange",value:function(e,t){return e!==t}},{key:"enumeration",value:function(e){var t=dn.swapKeysAndValues(e);return function(e){return void 0!==t[e]}}}]),e}(),En=new wn,Tn={};window.Coral=window.Coral||{},window.Coral.commons=Yt,window.Coral.events=Jt,window.Coral.i18n=an,window.Coral.keys=Cn,window.Coral.Keys=yn,window.Coral.mixin=Tn,window.Coral.strings=en,window.Coral.transform=An,window.Coral.validate=En;var Sn=/^(\S+)\s*(.*)$/,xn=function(e,t,n){if("function"==typeof n)return n;if("string"==typeof n){if(!e[n])throw new Error("Coral.Component: Unable to add "+t+" listener for "+e.toString()+", method\n      "+n+" not found");var i=e[n];if("function"!=typeof i)throw new Error("Coral.Component: Unable to add "+t+" listener for "+e.toString()+", listener is a\n      "+(void 0===i?"undefined":Dt(i))+" but should be a function");return i}if(n)throw new Error("Coral.Component: Unable to add "+t+" listener for "+e.toString()+", "+n+"\n    is neither a method name or a function");return null},Ln=function(){var e=void 0,t=void 0,n=void 0,i=void 0,o=void 0,a=void 0,r=void 0,s=void 0,l=void 0,c=void 0;for(n in this._events)if(i=this._events[n],e=n.match(Sn),t=e[1]+".CoralComponent",o=e[2],""===o&&(o=void 0),i=xn(this,t,i)){if(i=i.bind(this),r=0===t.indexOf("global:"),r&&(t=t.substr(7)),c=0===t.indexOf("capture:"),c&&(t=t.substr(8)),s=0===t.indexOf("key:")){if(c)throw new Error("Coral.Keys does not currently support listening to key events with capture");t=t.substr(4)}if((l=0===t.indexOf("resize"))&&c)throw new Error("Coral.commons.addResizeListener does not currently support listening to resize event with capture");if(r)s?(this._globalKeys=this._globalKeys||[],this._globalKeys.push({keyCombo:t,selector:o,listener:i})):(this._globalEvents=this._globalEvents||[],this._globalEvents.push({eventName:t,selector:o,listener:i,isCapture:c}));else if(s)this._keys=this._keys||new yn(this,{filter:this._filterKeys,context:this}),this._keys.on(t,o,i);else if(l)if(o){a=document.querySelectorAll(o);for(var u=0;u<a.length;++u)Yt.addResizeListener(a[u],i)}else Yt.addResizeListener(this,i);else this._vent.on(t,o,i,c)}},On=function(){var e=void 0;if(this._globalEvents)for(e=0;e<this._globalEvents.length;e++){var t=this._globalEvents[e];Jt.on(t.eventName,t.selector,t.listener,t.isCapture)}if(this._globalKeys)for(e=0;e<this._globalKeys.length;e++){var n=this._globalKeys[e];Cn.on(n.keyCombo,n.selector,n.listener)}this._keys&&this._keys.init(!0)},In=function(){var e=void 0;if(this._globalEvents)for(e=0;e<this._globalEvents.length;e++){var t=this._globalEvents[e];Jt.off(t.eventName,t.selector,t.listener,t.isCapture)}if(this._globalKeys)for(e=0;e<this._globalKeys.length;e++){var n=this._globalKeys[e];Cn.off(n.keyCombo,n.selector,n.listener)}this._keys&&this._keys.destroy(!0)},Nn=/[A-Z]/g,Mn=function(e){var t=[],n=e;if(!e._namespace){!function e(t,n){var i=!1,o=void 0===t?"undefined":Dt(t);if(t&&"object"===o||"function"===o)for(var a=Object.keys(t),r=0;r<a.length;r++){var s=a[r];if(null!==s[0].match(Nn)){if(t[s]._namespace={parent:t,value:s},i=t[s]===n)break;i=e(t[s],n)}}return i}(window.Coral,e)}for(;e;)e._namespace?(t.push(e._namespace.value),e=e._namespace.parent):e=!1;return n._componentName=t.reverse().join("."),n._componentName},Dn=function(e){var t=e.observedAttributes;if(!t)return{};var n={};return t.forEach(function(e){e.match(Nn)&&(n[e.toLowerCase()]=e)}),e._attributePropertyMap=n,e._attributePropertyMap},Pn=function(e){return function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._vent=new Mt(e),e._events={},e}return Bt(t,e),Ft(t,[{key:"_filterKeys",value:function(){return!0}},{key:"_delegateEvents",value:function(e){this._events=Yt.extend(this._events,e),Ln.call(this),On.call(this)}},{key:"_getContentZone",value:function(e){return document.documentElement.contains(this)?this.contains(e)&&e||null:e}},{key:"_setContentZone",value:function(e,t,n){var i=n.handle,o=n.tagName,a=n.set,r=n.insert,s=void 0;if(t){if(!(t instanceof HTMLElement))throw new Error('DOMException: Failed to set the "'+e+'" property on "'+this.toString()+'":\n        The provided value is not of type "HTMLElement".');if(o&&t.tagName.toLowerCase()!==o)throw new Error('DOMException: Failed to set the "'+e+'" property on "'+this.toString()+'": The new\n        '+e+' element is of type "'+t.tagName+'". It must be a "'+o.toUpperCase()+'" element.');s=this._elements[i],r?(s&&s.parentNode&&s.parentNode.removeChild(s),r.call(this,t)):s&&s.parentNode?(console.warn(this._componentName+" does not define an insert method for content zone "+i+", falling back to replace."),this._elements[i].parentNode.replaceChild(t,this._elements[i])):(console.error(this._componentName+" does not define an insert method for content zone "+i+", falling back to append."),this.appendChild(t))}else(s=this._elements[i])&&s.parentNode&&s.parentNode.removeChild(s);this._elements[i]=t,"function"==typeof a&&a.call(this,t)}},{key:"_reflectAttribute",value:function(e,t){"boolean"==typeof t?t&&!this.hasAttribute(e)?(this._reflectedAttribute=!0,this.setAttribute(e,""),this._reflectedAttribute=!1):!t&&this.hasAttribute(e)&&(this._reflectedAttribute=!0,this.removeAttribute(e),this._reflectedAttribute=!1):this.getAttribute(e)!==String(t)&&(this._reflectedAttribute=!0,this.setAttribute(e,t),this._reflectedAttribute=!1)}},{key:"toString",value:function(){return"Coral."+this._componentName}},{key:"on",value:function(e,t,n,i){return this._vent.on(e,t,n,i),this}},{key:"off",value:function(e,t,n,i){return this._vent.off(e,t,n,i),this}},{key:"trigger",value:function(e,t,n,i){n=n||void 0===n,i=i||void 0===i;var o=new CustomEvent(e,{bubbles:n,cancelable:i,detail:t});if(this._silenced)return o;var a=!1;try{a=!this.dispatchEvent(o)}catch(e){}if(a!==o.defaultPrevented){var r=Object.create(o);return Object.defineProperty(r,"defaultPrevented",{value:a}),r}return o}},{key:"set",value:function(e,t,n){var i=this,o=void 0,a=void 0,r=void 0,s=function(e){return i._contentZones&&Yt.swapKeysAndValues(i._contentZones)[e]},l=function(e,t){if(i[e]instanceof HTMLElement&&!(t instanceof HTMLElement))for(var n in t)i[e][n]=t[n];else i[e]=t},c=function(e,t){s(e)?l(e,t):(i._silenced=n,i[e]=t,i._silenced=!1)};if("string"==typeof e)o=e,r=t,c(o,r);else{a=e,n=t;for(o in a)r=a[o],c(o,r)}return this}},{key:"get",value:function(e){return this[e]}},{key:"show",value:function(){return this.hidden?(this.hidden=!1,this):this}},{key:"hide",value:function(){return this.hidden?this:(this.hidden=!0,this)}},{key:"attributeChangedCallback",value:function(e,t,n){this._reflectedAttribute||(this[this._attributes[e]||e]=n)}},{key:"connectedCallback",value:function(){this._disconnected&&(On.call(this),this._disconnected=!1)}},{key:"disconnectedCallback",value:function(){this._disconnected=!0,In.call(this)}},{key:"_componentName",get:function(){return this.constructor._componentName||Mn(this.constructor)}},{key:"_properties",get:function(){return{}}},{key:"_attributes",get:function(){return this.constructor._attributePropertyMap||Dn(this.constructor)}}]),t}(e)};Tn._component=Pn;var Fn=0,Hn="coral-collection-id-",Bn=":scope > ",Rn=function(){function e(t){Pt(this,e),t=t||{},this._id=Fn++,this._host=t.host,this._itemTagName=t.itemTagName,this._itemBaseTagName=t.itemBaseTagName,this._itemSelector=t.itemSelector||ge(this._itemTagName,this._itemBaseTagName),this._container=t.container||this._host,this._filter=t.filter,this._handleItems=!1,this._itemSelector&&0===this._itemSelector.indexOf(Bn)?(this._container.id=this._container.id||Hn+this._id,this._allItemsSelector=this._itemSelector.replace(Bn,"#"+this._container.id+" > "),this._itemSelector=this._itemSelector.replace(Bn,""),this._itemSelector===this._itemTagName&&(this._useItemTagName=this._itemSelector.toUpperCase())):(this._allItemsSelector=this._itemSelector,this._container&&this._allItemsSelector===this._itemTagName&&(this._liveCollection=!0,this._useItemTagName=this._allItemsSelector.toUpperCase())),this._onItemAdded=t.onItemAdded,this._onItemRemoved=t.onItemRemoved,this._onCollectionChange=t.onCollectionChange}return Ft(e,[{key:"add",value:function(e,t){if(this._container&&this._itemTagName)return e instanceof HTMLElement||(e=this._itemBaseTagName?document.createElement(this._itemBaseTagName,{is:this._itemTagName}).set(e,!0):document.createElement(this._itemTagName).set(e,!0)),this._container.insertBefore(e,t||null),!this._handleItems&&"function"==typeof this._onItemAdded&&this._host&&be(e,this._filter)&&this._onItemAdded.call(this._host,e),e;throw new Error("Please provide host and itemTagName or override add() to provide your own implementation.")}},{key:"clear",value:function(){for(var e=this.getAll(),t=[],n=e.length-1;n>-1;n--)t.push(this.remove(e[n]));return t}},{key:"getAll",value:function(){if(this._container&&this._allItemsSelector){var e=ve(this._liveCollection?this._container.getElementsByTagName(this._allItemsSelector):this._container.querySelectorAll(this._allItemsSelector));return this._filter&&(e=e.filter(this._filter)),e}throw new Error("Please provide host and itemTagName or override getAll() to provide your own implementation.")}},{key:"remove",value:function(e){return e.parentNode&&(e.parentNode.removeChild(e),!this._handleItems&&"function"==typeof this._onItemRemoved&&this._host&&be(e,this._filter)&&this._onItemRemoved.call(this._host,e)),e}},{key:"first",value:function(){return this.getAll()[0]||null}},{key:"last",value:function(){var e=this.getAll();return e[e.length-1]||null}},{key:"_isPartOfCollection",value:function(e){return!(e instanceof Text)&&be(e,this._filter)&&(this._useItemTagName?this._useItemTagName===e.tagName:e.matches(this._itemSelector))}},{key:"_onItemAttached",value:function(e){"function"==typeof this._onItemAdded&&this._onItemAdded.call(this._host,e),this._host.trigger("coral-collection:add",{item:e})}},{key:"_onItemDetached",value:function(e){"function"==typeof this._onItemRemoved&&this._onItemRemoved.call(this._host,e),this._host.trigger("coral-collection:remove",{item:e})}},{key:"_startHandlingItems",value:function(e){if(!this._host||!this._container)throw new Error("Please provide options.host and/or options.container to enable handling the items.");if(this._observer=this._observer||new MutationObserver(this._handleMutation.bind(this)),this._handleItems=!0,this._observer.observe(this._container,{childList:!0,subtree:!0}),!0!==e){var t=void 0,n=0;if("function"!=typeof this._onItemAdded&&"function"!=typeof this._onCollectionChange||(t=this.getAll(),n=t.length),"function"==typeof this._onItemAdded)for(var i=0;i<n;i++)this._onItemAdded.call(this._host,t[i]);n>0&&"function"==typeof this._onCollectionChange&&this._onCollectionChange.call(this._host,t,[])}}},{key:"_stopHandlingItems",value:function(){this._observer&&this._observer.disconnect()}},{key:"_handleMutation",value:function(e){for(var t=void 0,n=e.length,i=void 0,o=void 0,a=void 0,r=void 0,s=void 0,l=[],c=[],u=0,d=0;d<n;d++){t=e[d],o=t.addedNodes,a=o.length;for(var h=0;h<a;h++)i=o[h],this._isPartOfCollection(i)&&(u++,l.push(i),this._onItemAttached(i));r=t.removedNodes,s=r.length;for(var p=0;p<s;p++)i=r[p],this._isPartOfCollection(i)&&(u++,c.push(i),this._onItemDetached(i))}0!==u&&"function"==typeof this._onCollectionChange&&this._host&&this._onCollectionChange.call(this._host,l,c)}},{key:"length",get:function(){return this.getAll().length}}]),e}(),jn=function(e){function t(e){Pt(this,t);var n=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._filter&&console.warn("Coral.SelectableCollection does not support the options.filter"),n._selectableItemSelector=n._allItemsSelector.split(",").map(function(e){return e+":not([disabled])"}).join(","),n._selectedItemSelector=n._allItemsSelector.split(",").map(function(e){return e+"[selected]"}).join(","),n._deselectAllExceptSelector=n._selectedItemSelector,n}return Bt(t,e),Ft(t,[{key:"_getSelectableItems",value:function(){return ve(this._host.querySelectorAll(this._selectableItemSelector))}},{key:"_getFirstSelectable",value:function(){return this._host.querySelector(this._selectableItemSelector)||null}},{key:"_getLastSelectable",value:function(){var e=this._host.querySelectorAll(this._selectableItemSelector);return e[e.length-1]||null}},{key:"_getPreviousSelectable",value:function(e){for(var t=e.previousElementSibling;t&&!t.matches(this._selectableItemSelector);)t=t.previousElementSibling;return t||e}},{key:"_getNextSelectable",value:function(e){for(var t=e.nextElementSibling;t&&!t.matches(this._selectableItemSelector);)t=t.nextElementSibling
;return t||e}},{key:"_getFirstSelected",value:function(e){var t=this._selectedItemSelector;return"string"==typeof e&&(t=t.replace("[selected]","["+e+"]")),this._host.querySelector(t)||null}},{key:"_getLastSelected",value:function(e){var t=this._selectedItemSelector;"string"==typeof e&&(t=t.replace("[selected]","["+e+"]"));var n=this._host.querySelectorAll(t);return n[n.length-1]||null}},{key:"_getAllSelected",value:function(e){var t=this._selectedItemSelector;return"string"==typeof e&&(t=t.replace("[selected]","["+e+"]")),ve(this._host.querySelectorAll(t))}},{key:"_deselectAllExceptFirst",value:function(e){var t=this._deselectAllExceptSelector,n=e||"selected";"string"==typeof e&&(t=t.replace("[selected]","["+e+"]"));for(var i=this._host.querySelectorAll(t),o=i.length,a=1;a<o;a++)i[a].removeAttribute(n)}},{key:"_deselectAllExceptLast",value:function(e){var t=this._deselectAllExceptSelector,n=e||"selected";"string"==typeof e&&(t=t.replace("[selected]","["+e+"]"));for(var i=this._host.querySelectorAll(t),o=i.length-1,a=0;a<o;a++)i[a].removeAttribute(n)}},{key:"_deselectAllExcept",value:function(e,t){var n=this._deselectAllExceptSelector,i=void 0,o=void 0;"string"==typeof e?(i=null,o=e||"selected",n=n.replace("[selected]","["+o+"]")):(i=e,o=t||"selected","string"==typeof t&&(n=n.replace("[selected]","["+o+"]")));for(var a=this._host.querySelectorAll(n),r=a.length,s=0;s<r;s++)i!==a[s]&&a[s].removeAttribute(o)}}]),t}(Rn);window.Coral=window.Coral||{},window.Coral.Collection=Rn,window.Coral.SelectableCollection=jn;var qn={DEFAULT:"default",QUIET:"quiet",LARGE:"large"},zn=[];for(var Un in qn)zn.push("coral3-Accordion--"+qn[Un]);var Vn=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({'click coral-accordion-item:not([disabled]) [handle="acHeader"]':"_onItemClick",'key:space [handle="acHeader"]':"_onToggleItemKey",'key:return [handle="acHeader"]':"_onToggleItemKey",'key:pageup [handle="acHeader"]':"_focusPreviousItem",'key:left [handle="acHeader"]':"_focusPreviousItem",'key:up [handle="acHeader"]':"_focusPreviousItem",'key:pagedown [handle="acHeader"]':"_focusNextItem",'key:right [handle="acHeader"]':"_focusNextItem",'key:down [handle="acHeader"]':"_focusNextItem",'key:home [handle="acHeader"]':"_onHomeKey",'key:end [handle="acHeader"]':"_onEndKey",'keydown [handle="acContent"]':"_onItemContentKeyDown","coral-accordion-item:_selectedchanged":"_onItemSelectedChanged"}),e._oldSelection=[],e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onHomeKey",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items._getFirstSelectable())}},{key:"_onEndKey",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items._getLastSelectable())}},{key:"_onItemContentKeyDown",value:function(e){var t=parseFloat(e.keyCode),n=e.matchedTarget.parentNode;switch(t){case 38:case 37:(e.metaKey||e.ctrlKey)&&yn.filterInputs(e)&&(e.preventDefault(),e.stopPropagation(),this._focusItem(n));break;case 33:if(e.metaKey||e.ctrlKey){e.preventDefault(),e.stopPropagation();var i=this.items._getPreviousSelectable(n);this._toggleItemSelection(i),this._focusItem(i)}break;case 34:if(e.metaKey||e.ctrlKey){e.preventDefault(),e.stopPropagation();var o=this.items._getNextSelectable(n);this._toggleItemSelection(o),this._focusItem(o)}}}},{key:"_focusPreviousItem",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items._getPreviousSelectable(e.target.parentNode))}},{key:"_focusNextItem",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items._getNextSelectable(e.target.parentNode))}},{key:"_onItemClick",value:function(e){if(!e.target.hasAttribute("coral-interactive")&&!e.target.closest("[coral-interactive]")){var t=e.target.closest("coral-accordion-item");t&&(e.preventDefault(),e.stopPropagation(),this._toggleItemSelection(t),this._focusItem(t))}}},{key:"_onToggleItemKey",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.parentNode;this._toggleItemSelection(t),this._focusItem(t)}},{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation(),this._validateSelection(e.target)}},{key:"_validateSelection",value:function(e){var t=this,n=this.selectedItems;this.multiple||(e=e||n[n.length-1])&&e.hasAttribute("selected")&&n.length>1&&(n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1),this._resetTabTarget(),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItems,t=this._oldSelection;!this._preventTriggeringEvents&&this._arraysAreDifferent(e,t)&&(this.multiple?this.trigger("coral-accordion:change",{oldSelection:t,selection:e}):this.trigger("coral-accordion:change",{oldSelection:t.length>1?t:t[0]||null,selection:e[0]||null}),this._oldSelection=e)}},{key:"_arraysAreDifferent",value:function(e,t){var n=[];return t.length===e.length&&(n=t.filter(function(t){return-1===e.indexOf(t)})),t.length!==e.length||0!==n.length}},{key:"_resetTabTarget",value:function(){if(!this._resetTabTargetScheduled){this._resetTabTargetScheduled=!0;var e=this;window.requestAnimationFrame(function(){e._resetTabTargetScheduled=!1;var t=e.items._getAllSelected();e._tabTarget=t.length?t[0]:e.items._getFirstSelectable()})}}},{key:"_toggleItemSelection",value:function(e){e&&e[e.hasAttribute("selected")?"removeAttribute":"setAttribute"]("selected","")}},{key:"_focusItem",value:function(e){e&&e.focus(),this._tabTarget=e}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Accordion"),this._variant||(this.variant=qn.DEFAULT),this.setAttribute("role","tablist"),this.setAttribute("aria-multiselectable",this.multiple),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItems}},{key:"variant",get:function(){return this._variant||qn.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(qn)(e)&&e||qn.DEFAULT,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,zn),this._variant!==qn.DEFAULT&&this.classList.add("coral3-Accordion--"+this._variant)}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-accordion-item",itemSelector:":scope > coral-accordion-item",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"multiple",get:function(){return this._multiple||!1},set:function(e){this._multiple=An.booleanAttr(e),this._reflectAttribute("multiple",this._multiple),this.setAttribute("aria-multiselectable",this._multiple),this._validateSelection()}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getAllSelected()[0]||null}},{key:"_tabTarget",get:function(){return this.__tabTarget||null},set:function(e){this.__tabTarget=e,this.items.getAll().forEach(function(t){t._isTabTarget=t===e})}}],[{key:"variant",get:function(){return qn}},{key:"observedAttributes",get:function(){return["variant","multiple"]}}]),t}(Pn(HTMLElement)),Kn=/[\s?]coral3-Icon--(?!size(XXS|XS|S|M|L))\w+/g,Zn=/\/|:|\./g,Wn=/([a-z0-9])([A-Z])/g,Gn={EXTRA_EXTRA_SMALL:"XXS",EXTRA_SMALL:"XS",SMALL:"S",MEDIUM:"M",LARGE:"L",EXTRA_LARGE:"XL",EXTRA_EXTRA_LARGE:"XXL"},Xn=[];for(var Yn in Gn)Xn.push("coral3-Icon--size"+Gn[Yn]);var Qn=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={},e}return Bt(t,e),Ft(t,[{key:"_updateAltText",value:function(e){var t=this.classList.contains("is-image"),n=void 0;n="string"==typeof e?e:t?"":this.icon.replace(Wn,"$1 $2").toLowerCase();var i=this.getAttribute("role"),o=i&&"presentation"!==i&&"img"!==i;o||this.setAttribute("role",t?"presentation":"img"),t?(this.removeAttribute("aria-label"),this._elements.image.setAttribute("alt",n)):""===n?(this.removeAttribute("aria-label"),o||this.removeAttribute("role")):this.setAttribute("aria-label",n)}},{key:"attributeChangedCallback",value:function(e,n,i){"alt"===e||"title"===e?this._updateAltText(i):Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attributeChangedCallback",this).call(this,e,n,i)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Icon"),this._size||(this.size=Gn.SMALL)}},{key:"icon",get:function(){return this._icon||""},set:function(e){if(this._icon=An.string(e).trim(),this._reflectAttribute("icon",this._icon),this.className=this.className.replace(Kn,"").trim(),this._icon)if(this._icon.match(Zn)){this.classList.add("is-image");var t=this._elements.image=this._elements.image||document.createElement("img");t.className="coral3-Icon-image",t.src=this.icon,this.appendChild(t)}else this._elements.image&&this._elements.image.parentNode===this&&(this.removeChild(this._elements.image),this.classList.remove("is-image")),this.classList.add("coral3-Icon--"+this._icon);this._updateAltText()}},{key:"size",get:function(){return this._size||Gn.SMALL},set:function(e){var t;e=An.string(e).toUpperCase(),this._size=En.enumeration(Gn)(e)&&e||Gn.SMALL,this._reflectAttribute("size",this._size),(t=this.classList).remove.apply(t,Xn),this.classList.add("coral3-Icon--size"+this._size),this._updateAltText()}},{key:"title",get:function(){return this.getAttribute("title")},set:function(e){this.setAttribute("title",e)}},{key:"alt",get:function(){return this.getAttribute("alt")},set:function(e){this.setAttribute("alt",e)}}],[{key:"size",get:function(){return Gn}},{key:"observedAttributes",get:function(){return["icon","size","alt","title"]}}]),t}(Pn(HTMLElement));window.customElements.define("coral-icon",Qn),window.Coral=window.Coral||{},window.Coral.Icon=Qn;var Jn=function(e){var t=document.createDocumentFragment(),n=this.acHeader=document.createElement("div");n.className+=" coral3-Accordion-header",n.setAttribute("role","tab"),n.id=Coral.commons.getUID(),n.setAttribute("handle","acHeader");var i=document.createTextNode("\n  ");n.appendChild(i);var o=this.icon=document.createElement("coral-icon");o.className+=" coral3-Accordion-icon",o.setAttribute("size","xs"),o.setAttribute("handle","icon"),o.setAttribute("icon","chevronRight"),o.setAttribute("alt",""),n.appendChild(o);var a=document.createTextNode("\n  ");n.appendChild(a);var r=this.labelContainer=document.createElement("div");r.className+=" coral3-Accordion-label",r.setAttribute("handle","labelContainer"),n.appendChild(r);var s=document.createTextNode("\n");n.appendChild(s),t.appendChild(n);var l=document.createTextNode("\n");t.appendChild(l);var c=this.acContent=document.createElement("div");return c.className+=" coral3-Accordion-content",c.setAttribute("handle","acContent"),c.id=Coral.commons.getUID(),c.setAttribute("role","tabpanel"),t.appendChild(c),t},$n={true:"chevronDown",false:"chevronRight"},ei=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={label:e.querySelector("coral-accordion-item-label")||document.createElement("coral-accordion-item-label"),content:e.querySelector("coral-accordion-item-content")||document.createElement("coral-accordion-item-content")},Jn.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"_onCollapsed",value:function(){var e=this._elements.acContent;e.classList.remove("is-collapsing"),e.classList.add("is-closed"),this.selected?(e.classList.add("is-open"),e.classList.remove("is-closed"),e.style.height=""):(e.classList.add("is-closed"),e.classList.remove("is-open"))}},{key:"focus",value:function(){this._elements.acHeader.focus()}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Accordion-item");var e=this._elements.acHeader;e.setAttribute("aria-controls",this._elements.acContent.id),this._elements.acContent.setAttribute("aria-labelledby",e.id),this.setAttribute("role","presentation"),this.selected=this.selected;var n=document.createDocumentFragment(),i=["acHeader","icon","labelContainer","acContent"];n.appendChild(this._elements.acHeader),n.appendChild(this._elements.acContent);var o=this._elements.label,a=this._elements.content;for(this.label=o,this.content=a;this.firstChild;){var r=this.firstChild;r.nodeType===Node.TEXT_NODE||r.nodeType===Node.ELEMENT_NODE&&-1===i.indexOf(r.getAttribute("handle"))?a.appendChild(r):this.removeChild(r)}this.appendChild(n)}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:"coral-accordion-item-label",insert:function(e){this._elements.labelContainer.appendChild(e)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-accordion-item-content",insert:function(e){this._elements.acContent.appendChild(e)}})}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=!this.disabled&&An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.removeAttribute("aria-selected"),this._elements.acHeader.setAttribute("aria-selected",this._selected),this._elements.acHeader.setAttribute("aria-expanded",this._selected),this._elements.acContent.setAttribute("aria-hidden",!this._selected),this._elements.icon.icon=$n[this._selected];var t=this._elements.acContent;if(this._animate){this._selected?(t.classList.remove("is-closed"),t.classList.add("is-collapsing"),t.style.height=t.scrollHeight+"px"):(t.style.height=t.scrollHeight+"px",t.offsetHeight,t.classList.add("is-collapsing"),t.classList.remove("is-open"),t.style.height=0);var n=this;Yt.transitionEnd(t,function(){n._onCollapsed()}),this.trigger("coral-accordion-item:_selectedchanged")}else this._animate=!0,this._selected?t.classList.add("is-open"):(t.classList.add("is-closed"),t.style.height="0")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this.disabled),this.removeAttribute("aria-disabled"),this._elements.acHeader.setAttribute("aria-disabled",this.disabled),this.selected=this.selected}},{key:"_isTabTarget",get:function(){return this.__isTabTarget||!1},set:function(e){this.__isTabTarget=e,this.disabled?this._elements.acHeader.removeAttribute("tabindex"):this._elements.acHeader.setAttribute("tabindex",this.__isTabTarget?"0":"-1")}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-accordion-item-label":"label","coral-accordion-item-content":"content"}}}],[{key:"observedAttributes",get:function(){return["selected","disabled"]}}]),t}(Pn(HTMLElement)),ti=function(){return document.createElement("coral-accordion-item-label")},ni=function(){return document.createElement("coral-accordion-item-content")};window.customElements.define("coral-accordion",Vn),window.customElements.define("coral-accordion-item",ei),window.Coral=window.Coral||{},window.Coral.Accordion=Vn,window.Coral.Accordion.Item=ei,window.Coral.Accordion.Item.Label=ti,window.Coral.Accordion.Item.Content=ni;var ii={"en-US":{More:"More"},"de-DE":{More:"Mehr"},"fr-FR":{More:"Plus"},"it-IT":{More:"Altro"},"ja-JP":{More:"その他"},"es-ES":{More:"Más"},"ko-KR":{More:"자세히"},"zh-CN":{More:"更多"},"zh-TW":{More:"更多"},"pt-BR":{More:"Mais"},"nl-NL":{More:"Meer"},"da-DK":{More:"Mere"},"fi-FI":{More:"Lisää"},"nb-NO":{More:"Mer"},"sv-SE":{More:"Mer"},"cs-CZ":{More:"Více"},"pl-PL":{More:"Więcej"},"ru-RU":{More:"Дополнительно"},"tr-TR":{More:"Daha Fazla"}},oi=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({"key:up":"_onFocusPreviousItem","key:left":"_onFocusPreviousItem","key:down":"_onFocusNextItem","key:right":"_onFocusNextItem","global:resize":"_onResizeWindow"}),e._elements={primary:e.querySelector("coral-actionbar-primary")||document.createElement("coral-actionbar-primary"),secondary:e.querySelector("coral-actionbar-secondary")||document.createElement("coral-actionbar-secondary")},e._wait=50,e._onLayout=e._onLayout.bind(e),e._debounceOnLayout=e._debounceOnLayout.bind(e),e._recalculateLayoutOnMutation(),e}return Bt(t,e),Ft(t,[{key:"_recalculateLayoutOnMutation",value:function(){var e=this;this._observer=new MutationObserver(function(){e._debounceOnLayout()}),this._observer.observe(this,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},{key:"_onFocusPreviousItem",value:function(e){e.preventDefault();var t=this._getPreviousSelectableWrappedItem(e.target);null!==t&&t.focus()}},{key:"_onFocusNextItem",value:function(e){e.preventDefault();var t=this._getNextSelectableWrappedItem(e.target);null!==t&&t.focus()}},{key:"_onResizeWindow",value:function(){for(var e=this.getElementsByTagName("coral-popover"),t=0;t<e.length;t++)e[t].removeAttribute("open");this._debounceOnLayout()}},{key:"_onLayout",value:function(){if(this.primary&&this.primary._elements.popover&&this.secondary&&this.secondary._elements.popover&&!0!==this.primary._elements.popover.open&&!0!==this.secondary._elements.popover.open){var e=document.activeElement;this!==e&&this.contains(e)||(e=null),e&&e.parentNode&&"CORAL-ACTIONBAR-ITEM"===e.parentNode.tagName&&(e=e.parentNode);for(var t=this.primary.items.getAll(),n=this.secondary.items.getAll().reverse(),i=null,o=null,a=this._newWidthCache(),r=t.length>0?a.getOuterWidth(this.primary._elements.moreButton):0,s=n.length>0?a.getOuterWidth(this.secondary._elements.moreButton):0,l=this.primary.offsetWidth-this.primary.getBoundingClientRect().width,c=this.secondary.offsetWidth-this.secondary.getBoundingClientRect().width,u=this.primary.offsetLeft,d=this.offsetWidth-(this.secondary.offsetLeft+this.secondary.offsetWidth),h=this.offsetWidth-u-d-r-s-l-c-25,p=0,m=0,_=0,f=!1,v=!1,g=!1,b=0,y=0;y<t.length||y<n.length;y++)i=y<t.length?t[y]:null,o=y<n.length?n[y]:null,g=!1,null!==i&&(i.hidden||"none"===i.style.display?this._moveToScreen(i):(!f&&(this.primary.threshold<=0||m<this.primary.threshold)&&(b=a.getOuterWidth(i),p+b<h?g=!0:m===t.length-1&&p+b<h+r&&(g=!0)),this._makeItemTabEnabled(i,g&&0===y),g?(m+=1,p+=b,this._moveToScreen(i)):(this._hideItem(i),f=!0),m===t.length&&(h+=r,f=!1))),g=!1,null!==o&&(o.hidden||"none"===o.style.display?this._moveToScreen(o):(!v&&(this.secondary.threshold<=0||_<this.secondary.threshold)&&(b=a.getOuterWidth(o),p+b<h?g=!0:_===n.length-1&&p+b<h+s&&(g=!0)),this._makeItemTabEnabled(o,g&&y===n.length-1),g?(_+=1,p+=b,this._moveToScreen(o)):(this._hideItem(o),v=!0),_===n.length&&(h+=s,v=!1)));if(this._moveToScreen(this.primary._elements.moreButton,f),this._moveToScreen(this.secondary._elements.moreButton,v),this._makeItemTabEnabled(this.primary._elements.moreButton,m<1),this._makeItemTabEnabled(this.secondary._elements.moreButton,_<n.length),e&&e.hasAttribute&&e.hasAttribute("coral-actionbar-offscreen")){var C=ye(this._getAllSelectableItems()[0]);C&&C.focus()}}}},{key:"_getNextSelectableWrappedItem",value:function(e){"CORAL-ACTIONBAR-ITEM"===e.parentNode.tagName&&(e=e.parentNode);var t=this._getAllSelectableItems(e),n=t.indexOf(e);return n>=0&&t.length>n+1?ye(t[n+1]):null}},{key:"_getPreviousSelectableWrappedItem",value:function(e){"CORAL-ACTIONBAR-ITEM"===e.parentNode.tagName&&(e=e.parentNode);var t=this._getAllSelectableItems(e),n=t.indexOf(e);return n>0?ye(t[n-1]):null}},{key:"_getAllSelectableItems",value:function(e){var t=[];if(!0===this.primary._elements.popover.open||!0===this.secondary._elements.popover.open)for(var n=!0===this.primary._elements.popover.open?this.primary._itemsInPopover:this.secondary._itemsInPopover,i=null,o=0;o<n.length;o++)i=n[o],i.hasAttribute("disabled")||i.hasAttribute("hidden")||"none"===i.style.display||!ye(i)||t.push(i);else{var a=this.primary.items._getAllSelectable(),r=this.secondary.items._getAllSelectable();e?a.indexOf(e)>=0?t=a:r.indexOf(e)>=0&&(t=r):t=a.concat(r)}return t}},{key:"_newWidthCache",value:function(){return{_items:[],_outerWidth:[],getOuterWidth:function(e){var t=this._items.indexOf(e);if(t<0){this._items.push(e);var n=e.offsetWidth;this._outerWidth.push(n),t=this._outerWidth.length-1}return this._outerWidth[t]}}}},{key:"_forceWebkitRedraw",value:function(e){"WebkitAppearance"in document.documentElement.style&&"none"!==e.style.display&&(e.style.display="none",this._cachedOffsetHeight=e.offsetHeight,e.style.display="")}},{key:"_hideItem",value:function(e,t){!1===t?this._moveToScreen(e):e.hasAttribute("coral-actionbar-offscreen")||(e.setAttribute("coral-actionbar-offscreen",""),this._forceWebkitRedraw(e))}},{key:"_moveToScreen",value:function(e,t){!1===t?this._hideItem(e):e.hasAttribute("coral-actionbar-offscreen")&&(e.removeAttribute("coral-actionbar-offscreen"),this._forceWebkitRedraw(e))}},{key:"_makeItemTabEnabled",value:function(e,t){null!==(e=ye(e))&&(t&&e.hasAttribute("tabindex")?e.removeAttribute("tabindex"):t||e.hasAttribute("tabindex")||e.setAttribute("tabindex","-1"))}},{key:"_debounceOnLayout",value:function(){var e=this;null!==e._timeout&&window.clearTimeout(e._timeout),e._timeout=window.setTimeout(function(){e._timeout=null,e._onLayout()},e._wait)}},{key:"_moveDirectItemChildren",value:function(){var e=Array.prototype.filter.call(this.children,function(e){return"CORAL-ACTIONBAR-ITEM"===e.nodeName}),t=document.createDocumentFragment();e.forEach(function(e){t.appendChild(e)}),this._elements.primary.appendChild(t)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ActionBar"),this._moveDirectItemChildren();for(var e=this.querySelectorAll("object"),n=0;n<e.length;++n){var i=e[n];i.parentNode===this&&this.removeChild(i)}for(var o=this._elements.primary,a=this._elements.secondary,r=o.parentNode===this,s=Array.prototype.slice.call(this.getElementsByTagName("coral-actionbar-container")),l=void 0,c=void 0,u=0,d=s.length;u<d;u++){if(l=s[u],0===u?(c=o,r=!0):1===u&&(c=a),c)for(l.hasAttribute("threshold")&&c.setAttribute("threshold",l.getAttribute("threshold")),l.hasAttribute("morebuttontext")&&c.setAttribute("morebuttontext",l.getAttribute("morebuttontext"));l.firstChild;)c.appendChild(l.firstChild);this.removeChild(l)}if(!r)for(;this.firstChild;)o.appendChild(this.firstChild);this.primary=this._elements.primary,this.secondary=this._elements.secondary,Yt.addResizeListener(this,this._debounceOnLayout),Yt.addResizeListener(this.primary,this._debounceOnLayout),Yt.addResizeListener(this.secondary,this._debounceOnLayout),this._onLayout()}},{key:"primary",get:function(){return this._getContentZone(this._elements.primary)},set:function(e){this._setContentZone("primary",e,{handle:"primary",tagName:"coral-actionbar-primary",insert:function(e){this.insertBefore(e,this.secondary)}})}},{key:"secondary",get:function(){return this._getContentZone(this._elements.secondary)},set:function(e){this._setContentZone("secondary",e,{handle:"secondary",tagName:"coral-actionbar-secondary",insert:function(e){this.appendChild(e)}})}},{key:"defaultContentZone",get:function(){return this.primary},set:function(e){this.primary=e}},{key:"_contentZones",get:function(){return{"coral-actionbar-primary":"primary","coral-actionbar-secondary":"secondary"}}}]),t}(Pn(HTMLElement)),ai=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ActionBar-item")}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}}]),t}(Pn(HTMLElement)),ri=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"add",value:function(e,n){if(!n&&"CORAL-ACTIONBAR-PRIMARY"===this._host.tagName){var i=this._host._elements.moreButton;n=this._host.contains(i)?i:null}return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"clear",value:function(){var e=Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clear",this).call(this);return this._host._itemsInPopover=[],e}},{key:"_getAllSelectable",value:function(){for(var e=[],t=null,n=0;n<this._host.children.length;n++)t=this._host.children[n],t.hasAttribute("disabled")||t.hasAttribute("hidden")||t.hasAttribute("coral-actionbar-offscreen")||t===this._host._elements.popover||!ye(t)||e.push(t);return e}},{key:"_getAllOffScreen",value:function(){return Array.prototype.slice.call(this._host.querySelectorAll(this._itemTagName+"[coral-actionbar-offscreen]"))}}]),t}(jn),si={CTA:"cta",PRIMARY:"primary",SECONDARY:"secondary",DEFAULT:"secondary",QUIET:"quiet",WARNING:"warning",MINIMAL:"minimal"},li=[];for(var ci in si)li.push("coral3-Button--"+si[ci]);var ui={MEDIUM:"M",LARGE:"L"},di={RIGHT:"right",LEFT:"left"},hi=function(e){return function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={label:e.querySelector(e._contentZoneTagName)||document.createElement(e._contentZoneTagName)},e._events={mousedown:"_onMouseDown"},e._observer=new MutationObserver(e._makeAccessible.bind(e)),e._observer.observe(e._elements.label,{childList:!0,characterData:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_updateIcon",value:function(e){var t=this._getIconElement();t.icon=e,""===this.icon?t.remove():t.parentNode&&!this._iconPosition||this.insertBefore(t,this.iconPosition===di.LEFT?this.firstChild:null),this._makeAccessible()}},{key:"_makeAccessible",value:function(){var e=this.label&&this.label.textContent.length>0;""!==this.icon&&e?this._elements.icon.alt="":this._elements.icon&&this._elements.icon._updateAltText()}},{key:"_getIconElement",value:function(){return this._elements.icon||(this._elements.icon=new Qn),this._elements.icon}},{key:"_onMouseDown",value:function(e){var t=e.matchedTarget;window.requestAnimationFrame(function(){t!==document.activeElement&&t.focus()})}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Button"),this._variant||(this.variant=si.SECONDARY),this._size||(this.size=ui.MEDIUM);var e=document.createDocumentFragment(),n=this._elements.label;n.parentNode&&this.removeChild(n);for(var i=!1;this.firstChild;){var o=this.firstChild;"CORAL-ICON"===o.nodeName?i?this.removeChild(o):(this._elements.icon=o,e.appendChild(o),i=!0):n.appendChild(o)}this.appendChild(e),this.label=n,this._updateIcon(this.icon),this._makeAccessible()}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:this._contentZoneTagName,insert:function(e){this.appendChild(e)}})}},{key:"iconPosition",get:function(){return this._iconPosition||di.LEFT},set:function(e){e=An.string(e).toLowerCase(),this._iconPosition=En.enumeration(di)(e)&&e||di.LEFT,this._reflectAttribute("iconposition",this._iconPosition),this._updateIcon(this.icon)}},{key:"icon",get:function(){return this._elements.icon&&this._elements.icon.icon||""},set:function(e){this._updateIcon(e)}},{key:"iconSize",get:function(){return this._elements.icon&&this._elements.icon.size||Qn.size.SMALL},set:function(e){this._getIconElement().size=e}},{key:"size",get:function(){return this._size||ui.MEDIUM},set:function(e){e=An.string(e).toUpperCase(),this._size=En.enumeration(ui)(e)&&e||ui.MEDIUM,this._reflectAttribute("size",this._size),this.classList.toggle("coral3-Button--large",this._size===ui.LARGE)}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.trigger("coral-button:_selectedchanged")}},{key:"value",get:function(){return this.getAttribute("value")},set:function(e){this._reflectAttribute("value",e),this.trigger("coral-button:_valuechanged")}},{key:"block",get:function(){return this._block||!1},set:function(e){this._block=An.booleanAttr(e),this._reflectAttribute("block",this._block),this.classList.toggle("coral3-Button--block",this._block)}},{key:"variant",get:function(){return this._variant||si.SECONDARY},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(si)(e)&&e||si.SECONDARY,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,li),this.classList.add("coral3-Button--"+this._variant)}},{key:"_contentZoneTagName",get:function(){return Object.keys(this._contentZones)[0]}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-button-label":"label"}}}],[{key:"size",get:function(){return ui}},{key:"variant",get:function(){return si}},{key:"iconPosition",get:function(){return di}},{key:"observedAttributes",get:function(){return["iconposition","iconPosition","iconsize","iconSize","icon","size","selected","block","variant","value"]}}]),t}(e)};Tn._button=hi;var pi=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(e._events),e}return Bt(t,e),t}(hi(Pn(HTMLButtonElement))),mi=function(){return document.createElement("coral-button-label")};window.customElements.define("coral-button",pi,{extends:"button"}),window.Coral=window.Coral||{},window.Coral.Button=pi,window.Coral.Button.Label=mi;var _i={"en-US":{Close:"Close"},"de-DE":{Close:"Schließen"},"fr-FR":{Close:"Fermer"},"it-IT":{Close:"Chiudi"},"ja-JP":{Close:"閉じる"},"es-ES":{Close:"Cerrar"},"ko-KR":{Close:"닫기"},"zh-CN":{Close:"关闭"},"zh-TW":{Close:"關閉"},"pt-BR":{Close:"Fechar"},"nl-NL":{Close:"Sluiten"},"da-DK":{Close:"Luk"},"fi-FI":{Close:"Sulje"},"nb-NO":{Close:"Lukk"},"sv-SE":{Close:"Stäng"},"cs-CZ":{Close:"Zavřít"},"pl-PL":{Close:"Zamknij"},"ru-RU":{Close:"Закрыть"},"tr-TR":{Close:"Kapat"}},fi=function(e){var t=document.createDocumentFragment(),n=this.topTabCapture=document.createElement("div");n.setAttribute("handle","topTabCapture"),n.setAttribute("coral-tabcapture","top"),n.setAttribute("tabindex","0"),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.intermediateTabCapture=document.createElement("div");o.setAttribute("handle","intermediateTabCapture"),o.setAttribute("coral-tabcapture","intermediate"),o.setAttribute("tabindex","0"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.bottomTabCapture=document.createElement("div");r.setAttribute("handle","bottomTabCapture"),r.setAttribute("coral-tabcapture","bottom"),r.setAttribute("tabindex","0"),t.appendChild(r);var s=document.createTextNode("\n");return t.appendChild(s),t},vi={ON:"on",OFF:"off"},gi={ON:"on",OFF:"off"},bi={ON:"on",OFF:"off"},yi=350,Ci=void 0,ki=void 0,Ai=void 0,wi=[],Ei={},Ti=void 0;Ei={pop:function(e){var t=this.indexOf(e);if(-1===t)return null;var n=wi[t];return wi.splice(t,1),n},push:function(e){var t=this.pop(e)||{instance:e},n=this.getHighestZIndex()+10;return t.zIndex=n,e.style.zIndex=n,wi.push(t),t.backdrop&&Ae(),t},indexOf:function(e){for(var t=0;t<wi.length;t++)if(wi[t].instance===e)return t;return-1},get:function(e){var t=this.indexOf(e);return-1===t?null:wi[t]},top:function(){var e=wi.length;return 0===e?null:wi[e-1]},getHighestZIndex:function(){var e=this.top()
;return e?e.zIndex:1e4},some:function(){return wi.some.apply(wi,arguments)},forEach:function(){return wi.forEach.apply(wi,arguments)}};var Si=function(e){return function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={},fi.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"_debounce",value:function(e){window.clearTimeout(this._debounceId),this._debounceId=window.setTimeout(function(){e()},10)}},{key:"_isTopOverlay",value:function(){var e=Ei.top();return e&&e.instance===this}},{key:"_pushOverlay",value:function(){Ei.push(this)}},{key:"_popOverlay",value:function(){Ei.pop(this),xe()}},{key:"_showBackdrop",value:function(){var e=Ei.get(this);e&&(e.backdrop=!0,Oe(e.zIndex,this)),this._requestedBackdrop=!0,this.parentNode||(this._showBackdropOnAttached=!0),this.trapFocus===vi.ON&&we()}},{key:"_hideBackdrop",value:function(){var e=Ei.get(this);e&&(e.backdrop=!1,xe()),this._requestedBackdrop=!1}},{key:"_handleRootKeypress",value:function(e){e.target===this&&9===e.keyCode&&(this._focusOn("first"),e.preventDefault())}},{key:"_handleTabCaptureFocus",value:function(e){if(this._ignoreTabCapture)return void(this._ignoreTabCapture=!1);var t=e.target,n=t===this._elements.intermediateTabCapture?"first":"last";this._focusOn(n)}},{key:"_handleFocus",value:function(){if(this.focusOnShow===bi.ON)this._focusOn("first");else if(this.focusOnShow instanceof HTMLElement)this.focusOnShow.focus();else if("string"==typeof this.focusOnShow&&this.focusOnShow!==bi.OFF){var e=this.querySelector(this.focusOnShow+":not([coral-tabcapture])");e?e.focus():this._focusOn("first")}}},{key:"_handleReturnFocus",value:function(){if(this.returnFocus===gi.ON&&this._elementToFocusWhenHidden){if(document.activeElement&&!this.contains(document.activeElement))return;this._elementToFocusWhenHidden._ignoreTabCapture=!0,this._elementToFocusWhenHidden.focus(),this._elementToFocusWhenHidden._ignoreTabCapture=!1,this._elementToFocusWhenHidden=null}}},{key:"_focusOn",value:function(e){var t=void 0;if("first"===e||"last"===e){t=Array.prototype.filter.call(this.querySelectorAll(Yt.TABBABLE_ELEMENT_SELECTOR),function(e){return null!==e.offsetParent&&!e.hasAttribute("coral-tabcapture")})["first"===e?"shift":"pop"]()}t?t.focus():this.focus()}},{key:"show",value:function(){return this.open=!0,this}},{key:"hide",value:function(){return this.open=!1,this}},{key:"returnFocusTo",value:function(e){if(this.returnFocus===gi.OFF&&(this.returnFocus=gi.ON),null===e.offsetParent||!e.matches(Yt.FOCUSABLE_ELEMENT_SELECTOR)){e.setAttribute("tabindex",-1);var t=new Mt(e);t.on("blur.afterFocus",function(e){window.requestAnimationFrame(function(){var n=Ei.top();n&&n.instance.contains(document.activeElement)||(t.off("blur.afterFocus"),e.matchedTarget.removeAttribute("tabindex"))})},!0)}return this._returnFocusToElement=e,this}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.hasAttribute("trapfocus")||(this.trapFocus=this.trapFocus),this.hasAttribute("returnfocus")||(this.returnFocus=this.returnFocus),this.hasAttribute("focusonshow")||(this.focusOnShow=this.focusOnShow),this.open&&(this._pushOverlay(),this._showBackdropOnAttached&&this._showBackdrop())}},{key:"disconnectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disconnectedCallback",this).call(this),this.open&&(this._popOverlay(),this._requestedBackdrop&&(this._showBackdropOnAttached=!0))}},{key:"trapFocus",get:function(){return this._trapFocus||vi.OFF},set:function(e){e=An.string(e).toLowerCase(),this._trapFocus=En.enumeration(vi)(e)&&e||vi.OFF,this._trapFocus===vi.ON?(this.tabIndex<0&&(this.tabIndex=0),this.insertBefore(this._elements.topTabCapture,this.firstElementChild),this.appendChild(this._elements.intermediateTabCapture),this.appendChild(this._elements.bottomTabCapture),this._handleTabCaptureFocus=this._handleTabCaptureFocus.bind(this),this._handleRootKeypress=this._handleRootKeypress.bind(this),this._vent.on("keydown",this._handleRootKeypress),this._vent.on("focus","[coral-tabcapture]",this._handleTabCaptureFocus)):this._trapFocus===vi.ON&&(this.removeChild(this._elements.topTabCapture),this.removeChild(this._elements.intermediateTabCapture),this.removeChild(this._elements.bottomTabCapture),this._vent.off("keydown",this._handleRootKeypress),this._vent.off("focus","[coral-tabcapture]",this._handleTabCaptureFocus))}},{key:"returnFocus",get:function(){return this._returnFocus||gi.OFF},set:function(e){e=An.string(e).toLowerCase(),this._returnFocus=En.enumeration(gi)(e)&&e||gi.OFF}},{key:"focusOnShow",get:function(){return this._focusOnShow||bi.ON},set:function(e){("string"==typeof e||e instanceof HTMLElement)&&(this._focusOnShow=e)}},{key:"open",get:function(){return this._open||!1},set:function(e){var t=this,n=t._silenced;if(e=An.booleanAttr(e),!t.trigger(e?"coral-overlay:beforeopen":"coral-overlay:beforeclose").defaultPrevented){var i=t._open=e;t._reflectAttribute("open",i),t.setAttribute("aria-hidden",!i),t.parentNode&&(i?(t._pushOverlay(),t.returnFocus===gi.ON&&(this._elementToFocusWhenHidden=this._elementToFocusWhenHidden||this._returnFocusToElement||(document.activeElement===document.body?null:document.activeElement))):t._popOverlay()),window.requestAnimationFrame(function(){if(t._silenced=n,i){t.trapFocus===vi.ON&&(t._elements.topTabCapture===t.firstElementChild&&t._elements.bottomTabCapture===t.lastElementChild&&t._elements.bottomTabCapture.previousElementSibling===t._elements.intermediateTabCapture||(t.insertBefore(t._elements.intermediateTabCapture,t.firstElementChild),t.appendChild(t._elements.intermediateTabCapture),t.appendChild(t._elements.bottomTabCapture))),t.style.display="block",window.requestAnimationFrame(function(){t.classList.add("is-open")});var e=function(){t.open&&t._debounce(function(){t._handleFocus(),t.trigger("coral-overlay:open"),t._silenced=!1})};t._overlayAnimationTime?Yt.transitionEnd(t,e):e()}else{t.classList.remove("is-open");var o=function(){t.open||(t.style.display="none",t._handleReturnFocus(),t._debounce(function(){t.trigger("coral-overlay:close"),t._silenced=!1}))};t._overlayAnimationTime?Yt.transitionEnd(t,o):o()}})}}}],[{key:"trapFocus",get:function(){return vi}},{key:"returnFocus",get:function(){return gi}},{key:"focusOnShow",get:function(){return bi}},{key:"FADETIME",get:function(){return yi}},{key:"observedAttributes",get:function(){return["trapfocus","trapFocus","returnfocus","returnFocus","focusonshow","focusOnShow","open"]}}]),t}(e)};Si.trapFocus=vi,Si.returnFocus=gi,Si.focusOnShow=bi,Si.FADETIME=yi,Tn._overlay=Si;var xi={"CENTER_CENTER CENTER_CENTER":{placement:"left",lengthOffset:"-50%p - 50%",breadthOffset:"",inner:!1},"LEFT_CENTER RIGHT_CENTER":{placement:"right",lengthOffset:"",breadthOffset:"",inner:!1},"RIGHT_CENTER LEFT_CENTER":{placement:"left",lengthOffset:"",breadthOffset:"",inner:!1},"CENTER_BOTTOM CENTER_TOP":{placement:"top",lengthOffset:"",breadthOffset:"",inner:!1},"CENTER_TOP CENTER_BOTTOM":{placement:"bottom",lengthOffset:"",breadthOffset:"",inner:!1},"LEFT_TOP LEFT_TOP":{placement:"left",lengthOffset:"",breadthOffset:"-100%p",inner:!0},"CENTER_TOP CENTER_TOP":{placement:"top",lengthOffset:"",breadthOffset:"",inner:!0},"LEFT_TOP LEFT_BOTTOM":{placement:"left",lengthOffset:"-100%p",breadthOffset:"100%p",inner:!1},"RIGHT_TOP RIGHT_BOTTOM":{placement:"right",lengthOffset:"-100%",breadthOffset:"100%",inner:!1}},Li="Coral.Overlay: alignAt and alignMy have been deprecated. Please use the offset, inner and placement properties instead.",Oi={LEFT_TOP:"left top",LEFT_CENTER:"left center",LEFT_BOTTOM:"left bottom",CENTER_TOP:"center top",CENTER_CENTER:"center center",CENTER_BOTTOM:"center bottom",RIGHT_TOP:"right top",RIGHT_CENTER:"right center",RIGHT_BOTTOM:"right bottom"},Ii=Yt.swapKeysAndValues(Oi),Ni={FLIP:"flip",FIT:"fit",FLIP_FIT:"flipfit",NONE:"none"},Mi={PREVIOUS:"_prev",NEXT:"_next"},Di={LEFT:"left",RIGHT:"right",BOTTOM:"bottom",TOP:"top"},Pi={ON:"on",OFF:"off"},Fi=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._overlayAnimationTime=0,e._delegateEvents({"global:key:escape":"_handleEscape","click [coral-close]":"_handleCloseClick"}),e}return Bt(t,e),Ft(t,[{key:"_validateParentOverflow",value:function(){for(var e=!1,t=this.parentElement;!e&&t;)if(t!==document.body){var n=window.getComputedStyle(t);"auto"!==n.overflow&&"hidden"!==n.overflow||(e=!0),t=t.parentElement}else t=null;e&&document.body.appendChild(this)}},{key:"_onUpdate",value:function(e){if(this._oldPosition)this._oldPosition=this._oldPosition||e.styles.transform,this._oldPosition!==e.styles.transform&&this.trigger("coral-overlay:positioned",e),this._oldPosition=e.styles.transform;else{this._oldPosition=e.styles.transform;var t=this;window.requestAnimationFrame(function(){t.trigger("coral-overlay:positioned",e)})}}},{key:"_handleCloseClick",value:function(e){var t=e.matchedTarget,n=t.getAttribute("coral-close");n&&!this.matches(n)||(this.hide(),e.stopPropagation())}},{key:"_handleEscape",value:function(){this.interaction===Pi.ON&&this.open&&this._isTopOverlay()&&this.hide()}},{key:"_getTarget",value:function(e){if((e=e||this.target)instanceof Node)return e;var t=null;return"string"==typeof e&&(t=e===Mi.PREVIOUS?this.previousElementSibling:e===Mi.NEXT?this.nextElementSibling:document.querySelector(e)),t}},{key:"_popperMapping",value:function(){var e=xi[Ii[this.alignMy]+" "+Ii[this.alignAt]];e&&this.set(e)}},{key:"reposition",value:function(e){var t=this;if(this._popper){var n=this._getTarget();n&&(this._popper.reference=n),this._popper.options.placement=this.placement,this._popper.modifiers.forEach(function(e){"offset"===e.name?e.offset=t.breadthOffset+", "+t.lengthOffset:"flip"===e.name?e.enabled=t.collision!==Ni.FIT&&t.collision!==Ni.NONE:"inner"===e.name?e.enabled=t.inner:"preventOverflow"===e.name&&(e.enabled=t.collision!==Ni.NONE,e.boundariesElement=t.within)},this),(this.open||e)&&this._popper.update()}}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Overlay"),this.style.display="none",this.target=this.target;var e=this;window.requestAnimationFrame(function(){e.reposition(!0)})}},{key:"target",get:function(){return this._target||null},set:function(e){if(null===e||"string"==typeof e||e instanceof Node){this._target=e;var t=this._getTarget();t&&(this._returnFocus===this.constructor.returnFocus.ON&&this.returnFocusTo(t),this._popper=this._popper||new It(t,this,{onUpdate:this._onUpdate.bind(this)}),this.reposition())}}},{key:"alignMy",get:function(){return this._alignMy||Oi.CENTER_CENTER},set:function(e){console.warn(Li),e=An.string(e).toLowerCase(),this._alignMy=En.enumeration(Oi)(e)&&e||Oi.CENTER_CENTER,this._popperMapping()}},{key:"alignAt",get:function(){return this._alignAt||Oi.CENTER_CENTER},set:function(e){console.warn(Li),e=An.string(e).toLowerCase(),this._alignAt=En.enumeration(Oi)(e)&&e||Oi.CENTER_CENTER,this._popperMapping()}},{key:"offset",get:function(){return An.number(this.lengthOffset)},set:function(e){"number"==typeof e&&(this.lengthOffset=e+"px",this.breadthOffset="0px",this.reposition())}},{key:"inner",get:function(){return this._inner||!1},set:function(e){this._inner=An.booleanAttr(e),this.reposition()}},{key:"lengthOffset",get:function(){return this._lengthOffset||"0px"},set:function(e){this._lengthOffset=An.string(e)||"0px",this.reposition()}},{key:"breadthOffset",get:function(){return this._breadthOffset||"0px"},set:function(e){this._breadthOffset=An.string(e)||"0px",this.reposition()}},{key:"placement",get:function(){return this._placement||Di.RIGHT},set:function(e){e=An.string(e).toLowerCase(),this._placement=En.enumeration(Di)(e)&&e||Di.RIGHT,this.reposition()}},{key:"within",get:function(){return this._within||"scrollParent"},set:function(e){(e instanceof HTMLElement||"string"==typeof e)&&(this._within=e,this.reposition())}},{key:"collision",get:function(){return this._collision||Ni.FLIP},set:function(e){e=An.string(e).toLowerCase(),this._collision=En.enumeration(Ni)(e)&&e||Ni.FLIP,this._collision===Ni.FLIP_FIT&&console.warn("Coral.Overlay.collision.FLIP_FIT has been deprecated. Please use Coral.Overlay.collision.FLIP instead."),this.reposition()}},{key:"interaction",get:function(){return this._interaction||Pi.ON},set:function(e){e=An.string(e).toLowerCase(),this._interaction=En.enumeration(Pi)(e)&&e||Pi.ON}},{key:"smart",get:function(){return this._smart||!1},set:function(e){this._smart=An.booleanAttr(e)}},{key:"open",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",e,this),this.open&&this.smart&&this._validateParentOverflow();var n=this;window.requestAnimationFrame(function(){n.reposition()})}}],[{key:"align",get:function(){return Oi}},{key:"collision",get:function(){return Ni}},{key:"target",get:function(){return Mi}},{key:"placement",get:function(){return Di}},{key:"interaction",get:function(){return Pi}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["alignmy","alignMy","alignat","alignAt","offset","lengthoffset","lengthOffset","breadthoffset","breadthOffset","placement","within","collision","interaction","target","inner","smart"])}}]),t}(Si(Pn(HTMLElement)));window.customElements.define("coral-overlay",Fi),window.Coral=window.Coral||{},window.Coral.Overlay=Fi;var Hi=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e;var i=Coral.i18n.get("Close");e=n;var o=document.createTextNode("\n");t.appendChild(o);var a=this.headerWrapper=document.createElement("div");a.className+=" coral3-Dialog-header coral3-Popover-header",a.setAttribute("handle","headerWrapper");var r=document.createTextNode("\n  ");a.appendChild(r);var s=this.icon=document.createElement("coral-icon");s.setAttribute("handle","icon"),s.setAttribute("size","S"),s.className+=" coral3-Dialog-typeIcon",a.appendChild(s);var l=document.createTextNode("\n  ");a.appendChild(l);var c=this.headerContent=document.createElement("div");c.setAttribute("handle","headerContent"),c.className+=" coral3-Dialog-title coral-Heading coral-Heading--2",c.setAttribute("role","heading"),c.setAttribute("aria-level","2"),a.appendChild(c);var u=document.createTextNode("\n  ");a.appendChild(u);var d=this.closeButton=document.createElement("button","coral-button");d.setAttribute("handle","closeButton"),d.className+=" coral3-Dialog-closeButton",d.setAttribute("type","button"),d.setAttribute("is","coral-button"),d.setAttribute("variant","minimal"),d.setAttribute("icon","close"),d.setAttribute("iconsize","XS"),d.setAttribute("aria-label",i),d.setAttribute("title",i),d.setAttribute("coral-close",""),a.appendChild(d);var h=document.createTextNode("\n");a.appendChild(h),t.appendChild(a);var p=document.createTextNode("\n");t.appendChild(p);var m=this.contentWrapper=document.createElement("div");m.className+=" coral3-Popover-content",m.setAttribute("handle","contentWrapper"),t.appendChild(m);var _=document.createTextNode("\n");return t.appendChild(_),t},Bi=5,Ri={error:"alert",warning:"alert",success:"checkCircle",help:"helpCircle",info:"infoCircle"},ji={ON:"on",OFF:"off"},qi={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},zi=[];for(var Ui in qi)zi.push("coral3-Popover--"+qi[Ui]);var Vi=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements=Yt.extend(e._elements,{header:e.querySelector("coral-popover-header")||document.createElement("coral-popover-header"),content:e.querySelector("coral-popover-content")||document.createElement("coral-popover-content")}),Hi.call(e._elements),e._delegateEvents({"global:capture:click":"_handleClick","click [coral-close]":"_handleCloseClick"}),e._focusOnShow=e.constructor.focusOnShow.ON,e._trapFocus=e.constructor.trapFocus.ON,e._returnFocus=e.constructor.returnFocus.ON,e._overlayAnimationTime=e.constructor.FADETIME,e._lengthOffset=Bi,e._headerObserver=new MutationObserver(e._hideHeaderIfEmpty.bind(e)),e._observeHeader(),e}return Bt(t,e),Ft(t,[{key:"_observeHeader",value:function(){this._headerObserver&&(this._headerObserver.disconnect(),this._headerObserver.observe(this._elements.header,{childList:!0,characterData:!0,subtree:!0}))}},{key:"_hideHeaderIfEmpty",value:function(){var e=this._elements.header,t=this._elements.headerWrapper,n=this._elements.headerContent,i=0===e.children.length&&""===e.textContent.replace(/\s*/g,"");i!==t.hidden&&(t.hidden=i,i?(n.removeAttribute("role"),n.removeAttribute("aria-level")):(n.setAttribute("role","heading"),n.setAttribute("aria-level","2")),this.reposition())}},{key:"_handleCloseClick",value:function(e){var t=e.matchedTarget,n=t.getAttribute("coral-close");n&&!this.matches(n)||(this.hide(),e.stopPropagation())}},{key:"_handleClick",value:function(e){if(this.interaction!==this.constructor.interaction.OFF){var t=e.target,n=this._getTarget();!!n&&n.contains(t)?this.open||n.disabled?this.hide():this.show():this.open&&!this.contains(t)&&this.hide()}}},{key:"connectedCallback",value:function(){var e=this;this.classList.add("coral3-Popover"),this.setAttribute("role","dialog"),this.setAttribute("aria-live","assertive"),this._variant||(this.variant=qi.DEFAULT),this._closable||(this.closable=ji.OFF);var n=["headerWrapper","contentWrapper"],i=document.createDocumentFragment();i.appendChild(this._elements.headerWrapper),i.appendChild(this._elements.contentWrapper);var o=this._elements.header,a=this._elements.content;for(o.parentNode&&o.remove(),a.parentNode&&a.remove(),Array.prototype.filter.call(this.children,function(e){return e.hasAttribute("coral-tabcapture")}).forEach(function(t){e.removeChild(t)},this);this.firstChild;){var r=this.firstChild;r.nodeType===Node.TEXT_NODE||-1===n.indexOf(r.getAttribute("handle"))?a.appendChild(r):this.removeChild(r)}this.appendChild(i),this.header=o,this.content=a,Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this)}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-popover-content",insert:function(e){this._elements.contentWrapper.appendChild(e)}})}},{key:"header",get:function(){return this._getContentZone(this._elements.header)},set:function(e){this._setContentZone("header",e,{handle:"header",tagName:"coral-popover-header",insert:function(e){this._elements.headerContent.appendChild(e)},set:function(){this._observeHeader(),this._hideHeaderIfEmpty()}})}},{key:"variant",get:function(){return this._variant||qi.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(qi)(e)&&e||qi.DEFAULT,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,zi),this._variant===qi.DEFAULT?(this._elements.icon.icon="",this.setAttribute("role","dialog")):(this._elements.icon.icon=Ri[this._variant],this.classList.add("coral3-Popover--"+this._variant),this.setAttribute("role","alertdialog"))}},{key:"closable",get:function(){return this._closable||ji.OFF},set:function(e){e=An.string(e).toLowerCase(),this._closable=En.enumeration(ji)(e)&&e||ji.OFF,this._reflectAttribute("closable",this._closable),this._elements.closeButton.style.display=this.closable===ji.ON?"":"none"}},{key:"icon",get:function(){return this._elements.icon},set:function(e){this._elements.icon=e}},{key:"open",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",e,this);var n=this._getTarget();n&&(this.open?(this._targetWasSelected=n.classList.contains("is-selected"),this._targetWasSelected||n.classList.add("is-selected")):this._targetWasSelected||n.classList.remove("is-selected"))}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-popover-header":"header","coral-popover-content":"content"}}}],[{key:"variant",get:function(){return qi}},{key:"closable",get:function(){return ji}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["closable","variant","icon"])}}]),t}(Fi),Ki=function(){return document.createElement("coral-popover-header")},Zi=function(){return document.createElement("coral-popover-content")},Wi=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-Popover-separator")}}]),t}(HTMLElement);Yt.extend(en,{"coralui-component-popover":_i}),window.customElements.define("coral-popover",Vi),window.customElements.define("coral-popover-separator",Wi),window.Coral=window.Coral||{},window.Coral.Popover=Vi,window.Coral.Popover.Header=Ki,window.Coral.Popover.Content=Zi,window.Coral.Popover.Separator=Wi;var Gi=function(e){var t=document.createDocumentFragment(),n=this.popover=document.createElement("coral-popover");n.setAttribute("handle","popover"),n.setAttribute("placement","bottom"),n.setAttribute("breadthoffset","-50%r + 50%p"),n.setAttribute("coral-actionbar-popover",""),t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},Xi=function(e){var t=this.moreButton=document.createElement("button","coral-button");return t.setAttribute("is","coral-button"),t.setAttribute("handle","moreButton"),t.setAttribute("type","button"),t.setAttribute("variant","quiet"),t.setAttribute("icon","more"),t.setAttribute("coral-actionbar-more",""),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-haspopup","true"),t},Yi=function(e){var t=document.createDocumentFragment(),n=e,i=document.createElement("ul");i.className+=" coral-List coral-List--minimal";var o=document.createTextNode("\n  ");i.appendChild(o);for(var a=e,r=0,s=a.length;r<s;r++){var l=n=a[r],c=document.createTextNode("\n    ");i.appendChild(c);var u=document.createElement("li");u.className+=" coral-List-item";var d=document.createTextNode("\n      ");u.appendChild(d),u.appendChild(l);var h=document.createTextNode("\n    ");u.appendChild(h),i.appendChild(u);var p=document.createTextNode("\n  ");i.appendChild(p)}var m=document.createTextNode("\n");i.appendChild(m),t.appendChild(i);var _=document.createTextNode("\n");return t.appendChild(_),t},Qi=function(e){return function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({'coral-overlay:beforeopen [handle="popover"]':"_onOverlayBeforeOpen",'coral-overlay:beforeclose [handle="popover"]':"_onOverlayBeforeClose"}),e._elements={},e._itemsInPopover=[],Xi.call(e._elements),Gi.call(e._elements),Yi.call(e._elements,e._itemsInPopover),e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onOverlayBeforeOpen",value:function(e){if(e.target===this._elements.popover&&(this._itemsInPopover=this.items._getAllOffScreen(),!(this._itemsInPopover.length<1))){this._elements.popover.hidden=!1;var t=this._elements.popover;t.content.innerHTML="",t.content.appendChild(Yi.call(this._elements,this._itemsInPopover));var n=this,i=void 0,o=!0,a=function e(){if(i=ye(n._itemsInPopover[0]))return i.removeAttribute("tabindex"),void i.focus();o&&(o=!1,window.requestAnimationFrame(e))};window.requestAnimationFrame(a)}}},{key:"_onOverlayBeforeClose",value:function(e){if(e.target===this._elements.popover){var t=document.activeElement.parentNode;this._elements.popover.hidden=!0;for(var n=this._elements.popover.getElementsByTagName("coral-popover"),i=0;i<n.length;i++)n[i].open=!1;this._returnElementsFromPopover(),this._itemsInPopover=[];var o=this.parentNode.contains(t),a=t.hasAttribute&&t.hasAttribute("coral-actionbar-offscreen");o&&a&&this._elements.moreButton.focus()}}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this);for(var e=this.getElementsByTagName("object"),n=0;n<e.length;++n){var i=e[n];i.parentNode===this&&this.removeChild(i)}var o=this.querySelector("[coral-actionbar-more]");o&&this.removeChild(o);var a=this.querySelector("[coral-actionbar-popover]");a&&this.removeChild(a),this._elements.moreButton.label.textContent=this.moreButtonText,this.appendChild(this._elements.moreButton),this._elements.popover.target=this._elements.moreButton,this.insertBefore(this._elements.popover,this.firstChild)}},{key:"items",get:function(){return this._items||(this._items=new ri({host:this,itemTagName:"coral-actionbar-item"})),this._items}},{key:"threshold",get:function(){return"number"==typeof this._threshold?this._threshold:-1},set:function(e){this._threshold=An.number(e),this._reflectAttribute("threshold",this._threshold)}},{key:"moreButtonText",get:function(){return this._moreButtonText||""},set:function(e){this._moreButtonText=An.string(e),this._elements.moreButton&&(this._elements.moreButton.label.innerHTML=this._moreButtonText,this._elements.moreButton[""===this._moreButtonText.trim()?"setAttribute":"removeAttribute"]("title",an.get("More")))}}],[{key:"observedAttributes",get:function(){return["moreButtonText","morebuttontext","threshold"]}}]),t}(e)},Ji=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_returnElementsFromPopover",value:function(){for(var e=null,t=null,n=0;n<this._itemsInPopover.length;n++)e=this._itemsInPopover[n],t=ye(e),t&&t.hasAttribute("tabindex")&&t.setAttribute("tabindex",-1),this.insertBefore(e,this._elements.moreButton)}},{key:"_attachMoreButtonToContainer",value:function(){this.appendChild(this._elements.moreButton)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ActionBar-primary"),this._attachMoreButtonToContainer()}}]),t}(Qi(Pn(HTMLElement))),$i=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_returnElementsFromPopover",value:function(){for(var e=null,t=null,n=0;n<this._itemsInPopover.length;n++)e=this._itemsInPopover[n],t=ye(e),t&&t.hasAttribute("tabindex")&&t.setAttribute("tabindex",-1),this.insertBefore(e,this.firstChild.nextSibling)}},{key:"_attachMoreButtonToContainer",value:function(){this.insertBefore(this._elements.moreButton,this.firstChild)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ActionBar-secondary"),this._attachMoreButtonToContainer()}}]),t}(Qi(Pn(HTMLElement))),eo={PRIMARY:"primary",SECONDARY:"secondary",INVALID:"invalid"},to=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return console.warn("@deprecated: coral-actionbar-container is deprecated, use coral-actionbar-primary and coral-actionbar-secondary instead"),e}return Bt(t,e),Ft(t,[{key:"_beforePopoverOpen",value:function(e){if(e.target===this._elements.popover&&(this._itemsInPopover=this.items._getAllOffScreen(),!(this._itemsInPopover.length<1))){this._elements.popover.hidden=!1;var t=this._elements.popover.content;t.innerHTML="",t.appendChild(Yi.call(this._itemsInPopover));var n=this,i=void 0,o=!0,a=function e(){if(i=ye(n._itemsInPopover[0]))return i.removeAttribute("tabindex"),void i.focus();o&&(o=!1,window.requestAnimationFrame(e))};window.requestAnimationFrame(a)}}},{key:"_beforePopoverClose",value:function(e){if(e.target===this._elements.popover){var t=document.activeElement.parentNode;this._elements.popover.hidden=!0;for(var n=this._elements.popover.getElementsByTagName("coral-popover"),i=0;i<n.length;i++)n[i].open=!1;this._position===eo.PRIMARY?this._returnLeftElementsFromPopover():this._position===eo.SECONDARY&&this._returnRightElementsFromPopover(),this._itemsInPopover=[];var o=this.parentNode!==t&&this.parentNode.contains(t),a=t.hasAttribute&&t.hasAttribute("coral-actionbar-offscreen");o&&a&&this._elements.moreButton.focus()}}},{key:"_returnLeftElementsFromPopover",value:function(){for(var e=null,t=null,n=0;n<this._itemsInPopover.length;n++)e=this._itemsInPopover[n],t=ye(e),t&&t.hasAttribute("tabindex")&&t.setAttribute("tabindex",-1),this.insertBefore(e,this._elements.moreButton)}},{key:"_returnRightElementsFromPopover",value:function(){for(var e=null,t=null,n=this._itemsInPopover.length-1;n>=0;n--)e=this._itemsInPopover[n],t=ye(e),t&&t.hasAttribute("tabindex")&&t.setAttribute("tabindex",-1),this.insertBefore(e,this.firstChild.nextSibling)}},{key:"_attachMoreButtonToContainer",value:function(){this.parentNode&&this.parentNode.secondary===this?this.insertBefore(this._elements.moreButton,this.firstChild):this.appendChild(this._elements.moreButton)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ActionBar-container");for(var e=this.getElementsByTagName("object"),n=0;n<e.length;++n){var i=e[n];i.parentNode===this&&this.removeChild(i)}this._elements.moreButton=this.querySelector("[coral-actionbar-more]"),this._elements.moreButton&&this.removeChild(this._elements.moreButton),this._elements.popover=this.querySelector("[coral-actionbar-popover]"),this._elements.popover&&this.removeChild(this._elements.popover),this._elements.moreButton.label.textContent=this.moreButtonText,this.appendChild(this._elements.moreButton),this._elements.popover.target=this._elements.moreButton,this.insertBefore(this._elements.popover,this.firstChild),this._attachMoreButtonToContainer()}},{key:"items",get:function(){return this._items||(this._items=new ri({host:this,itemTagName:"coral-actionbar-item"})),this._items}},{key:"threshold",get:function(){return"number"==typeof this._threshold?this._threshold:-1},set:function(e){this._threshold=An.number(e),this._reflectAttribute("threshold",this._threshold)}},{key:"moreButtonText",get:function(){return this._moreButtonText||""},set:function(e){this._moreButtonText=An.string(e),this._reflectAttribute("moreButtonText",this._moreButtonText),this._elements.moreButton&&(this._elements.moreButton.label.innerHTML=this._moreButtonText,this._elements.moreButton[""===this._moreButtonText.trim()?"setAttribute":"removeAttribute"]("title",an.get("More")))}},{key:"_position",get:function(){if(this.parentNode){var e=this.parentNode.getElementsByTagName("coral-actionbar-container");if(e.length>0&&e[0]===this)return eo.PRIMARY;if(e.length>1&&e[1]===this)return eo.SECONDARY}return eo.INVALID}}],[{key:"position",get:function(){return eo}}]),t}(Qi(Pn(HTMLElement)));Yt.extend(en,{"coralui-component-actionbar":ii}),window.customElements.define("coral-actionbar",oi),window.customElements.define("coral-actionbar-item",ai),window.customElements.define("coral-actionbar-primary",Ji),window.customElements.define("coral-actionbar-secondary",$i),window.customElements.define("coral-actionbar-container",to),window.Coral=window.Coral||{},window.Coral.ActionBar=oi,window.Coral.ActionBar.Item=ai,window.Coral.ActionBar.Primary=Ji,window.Coral.ActionBar.Secondary=$i,window.Coral.ActionBar.Container=to;var no=function(e){var t=this.icon=document.createElement("coral-icon");return t.className+=" coral3-Alert-typeIcon",t.setAttribute("size","XS"),t.setAttribute("handle","icon"),t},io={success:"checkCircle",info:"infoCircle",error:"alert",warning:"alert",help:"helpCircle"},oo={ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},ao={SMALL:"S",LARGE:"L"},ro={S:"small",
L:"large"},so=[];for(var lo in oo)so.push("coral3-Alert--"+oo[lo]);var co=[];for(var uo in ao)co.push("coral3-Alert--"+ro[ao[uo]]);var ho=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={header:e.querySelector("coral-alert-header")||document.createElement("coral-alert-header"),content:e.querySelector("coral-alert-content")||document.createElement("coral-alert-content"),footer:e.querySelector("coral-alert-footer")||document.createElement("coral-alert-footer")},no.call(e._elements),e._delegateEvents({"click [coral-close]":"_onCloseClick"}),e}return Bt(t,e),Ft(t,[{key:"_onCloseClick",value:function(e){var t=e.matchedTarget,n=t.getAttribute("coral-close");n&&!this.matches(n)||(this.hidden=!0,e.stopPropagation())}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Alert"),this._variant||(this.variant=oo.INFO),this._size||(this.size=ao.SMALL);for(var e in this._contentZones){var n=this._elements[this._contentZones[e]];n.parentNode&&n.parentNode.removeChild(n)}for(;this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE&&"icon"!==i.getAttribute("handle")?this._elements.content.appendChild(i):this.removeChild(i)}var o=this.querySelector("coral-icon");null===o?this.appendChild(this._elements.icon):this._elements.icon=o;for(var a in this._contentZones){var r=this._contentZones[a],s=this._elements[this._contentZones[a]];this[r]=s}}},{key:"variant",get:function(){return this._variant||oo.INFO},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(oo)(e)&&e||oo.INFO,this._reflectAttribute("variant",this._variant),this._elements.icon.icon=io[this._variant],(t=this.classList).remove.apply(t,so),this.classList.add("coral3-Alert--"+this._variant),this.setAttribute("role",this._variant===oo.ERROR||this._variant===oo.WARNING?"alert":"status")}},{key:"size",get:function(){return this._size||ao.SMALL},set:function(e){var t;e=An.string(e).toUpperCase(),this._size=En.enumeration(ao)(e)&&e||ao.SMALL,this._reflectAttribute("size",this._size),(t=this.classList).remove.apply(t,co),this.classList.add("coral3-Alert--"+ro[this._size])}},{key:"header",get:function(){return this._getContentZone(this._elements.header)},set:function(e){this._setContentZone("header",e,{handle:"header",tagName:"coral-alert-header",insert:function(e){this.insertBefore(e,this._elements.icon.nextElementSibling)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-alert-content",insert:function(e){this.insertBefore(e,this.header.nextElementSibling)}})}},{key:"footer",get:function(){return this._getContentZone(this._elements.footer)},set:function(e){this._setContentZone("footer",e,{handle:"footer",tagName:"coral-alert-footer",insert:function(e){this.insertBefore(e,this.content.nextElementSibling)}})}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-alert-header":"header","coral-alert-content":"content","coral-alert-footer":"footer"}}}],[{key:"variant",get:function(){return oo}},{key:"size",get:function(){return ao}},{key:"observedAttributes",get:function(){return["variant","size"]}}]),t}(Pn(HTMLElement)),po=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-Alert-header")}}]),t}(HTMLElement),mo=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-Alert-content")}}]),t}(HTMLElement),_o=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-Alert-footer")}}]),t}(HTMLElement);window.customElements.define("coral-alert",ho),window.customElements.define("coral-alert-header",po),window.customElements.define("coral-alert-content",mo),window.customElements.define("coral-alert-footer",_o),window.Coral=window.Coral||{},window.Coral.Alert=ho,window.Coral.Alert.Header=po,window.Coral.Alert.Content=mo,window.Coral.Alert.Footer=_o;var fo=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{keydown:"_onKeyDown",keyup:"_onKeyUp"})),e.addEventListener("click",e._onClick.bind(e)),e}return Bt(t,e),Ft(t,[{key:"_onKeyDown",value:function(e){32===e.keyCode&&(e.preventDefault(),this.click(),this.classList.add("is-selected"))}},{key:"_onKeyUp",value:function(e){32===e.keyCode&&(e.preventDefault(),this.classList.remove("is-selected"))}},{key:"_onClick",value:function(e){this.disabled&&e.preventDefault()}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.setAttribute("role","button"),this.disabled||(this.setAttribute("tabindex","0"),this.setAttribute("aria-disabled","false"))}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this.setAttribute("tabindex",this._disabled?"-1":"0"),this.setAttribute("aria-disabled",this._disabled)}},{key:"_contentZones",get:function(){return{"coral-anchorbutton-label":"label"}}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["disabled"])}}]),t}(hi(Pn(HTMLAnchorElement))),vo=function(){return document.createElement("coral-anchorbutton-label")};window.customElements.define("coral-anchorbutton",fo,{extends:"a"}),window.Coral=window.Coral||{},window.Coral.AnchorButton=fo,window.Coral.AnchorButton.Label=vo;var go={"en-US":{"No matching results&period;":"No matching results.","Show suggestion":"Show suggestion","Show {0} suggestions":"Show {0} suggestions","Show suggestions":"Show suggestions"},"de-DE":{"No matching results&period;":"Keine passenden Ergebnisse.","Show suggestion":"Vorschlag anzeigen","Show {0} suggestions":"{0} Vorschläge anzeigen","Show suggestions":"Vorschläge anzeigen"},"es-ES":{"No matching results&period;":"No hay resultados coincidentes.","Show suggestion":"Mostrar sugerencia","Show {0} suggestions":"Mostrar {0} sugerencias","Show suggestions":"Mostrar sugerencias"},"ko-KR":{"No matching results&period;":"일치하는 결과가 없습니다.","Show suggestion":"제안 사항 표시","Show {0} suggestions":"{0}제안 사항 표시","Show suggestions":"제안 사항 표시"},"fr-FR":{"No matching results&period;":"Aucun résultat correspondant.","Show suggestion":"Afficher la suggestion","Show {0} suggestions":"Afficher {0} suggestions","Show suggestions":"Afficher les suggestions"},"ja-JP":{"No matching results&period;":"一致する結果がありません。","Show suggestion":"入力候補を表示","Show {0} suggestions":"{0}入力候補を表示","Show suggestions":"入力候補を表示"},"zh-CN":{"No matching results&period;":"无匹配的结果。","Show suggestion":"显示建议","Show {0} suggestions":"显示 {0} 个建议","Show suggestions":"显示建议"},"zh-TW":{"No matching results&period;":"沒有相符的結果。","Show suggestion":"顯示建議","Show {0} suggestions":"顯示 {0} 個建議","Show suggestions":"顯示建議"},"pt-BR":{"No matching results&period;":"Nenhum resultado correspondente.","Show suggestion":"Mostrar sugestão","Show {0} suggestions":"Mostrar {0} sugestões","Show suggestions":"Mostrar sugestões"},"it-IT":{"No matching results&period;":"Nessun risultato corrispondente.","Show suggestion":"Mostra suggerimento","Show {0} suggestions":"Mostra {0} suggerimenti","Show suggestions":"Mostra suggerimenti"},"nl-NL":{"No matching results&period;":"Geen overeenkomende resultaten.","Show suggestion":"Voorstel tonen","Show {0} suggestions":"{0} voorstellen tonen","Show suggestions":"Voorstellen tonen"},"da-DK":{"No matching results&period;":"Ingen matchende resultater.","Show suggestion":"Vis forslag","Show {0} suggestions":"Vis  {0} forslag","Show suggestions":"Vis forslag"},"fi-FI":{"No matching results&period;":"Vastaavia tuloksia ei ole.","Show suggestion":"Näytä ehdotus","Show {0} suggestions":"Näytä {0} ehdotusta","Show suggestions":"Näytä ehdotukset"},"nb-NO":{"No matching results&period;":"Ingen tilsvarende resultater.","Show suggestion":"Vis forslag","Show {0} suggestions":"Vis {0} forslag","Show suggestions":"Vis forslag"},"sv-SE":{"No matching results&period;":"Inga matchande resultat.","Show suggestion":"Visa förslag","Show {0} suggestions":"Visa {0} förslag","Show suggestions":"Visa förslag"},"cs-CZ":{"No matching results&period;":"Neodpovídají žádné výsledky.","Show suggestion":"Zobrazit doporučení","Show {0} suggestions":"Zobrazit následující počet návrhů: {0}","Show suggestions":"Zobrazit doporučení"},"pl-PL":{"No matching results&period;":"Brak pasujących wyników.","Show suggestion":"Pokaż sugestię","Show {0} suggestions":"Wyświetl {0} sugestii","Show suggestions":"Pokaż sugestie"},"ru-RU":{"No matching results&period;":"Нет соответствующих результатов.","Show suggestion":"Показать предложение","Show {0} suggestions":"Показать предложения ({0})","Show suggestions":"Показать предложения"},"tr-TR":{"No matching results&period;":"Eşleşen sonuç yok.","Show suggestion":"Öneriyi göster","Show {0} suggestions":"{0} önerilerini göster","Show suggestions":"Önerileri göster"}},bo="button,input:not([type=hidden]),keygen,meter,output,progress,select,textarea";(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&(bo="button,keygen,meter,output,progress,select,textarea,",["text","password","submit","reset","radio","checkbox","button","color","date","datetime-local","email","month","number","range","search","tel","time","url","week"].forEach(function(e){bo+="input[type="+e+"],"}),bo=bo.slice(0,-1));var yo=function(e){return function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._events={"capture:change input":"_onTargetInputChange","global:reset":"_onFormReset"},e}return Bt(t,e),Ft(t,[{key:"_getLabellableElement",value:function(){return this.querySelector(bo)||this}},{key:"_getTargetChangeInput",value:function(){return this._targetChangeInput||(this._targetChangeInput=this._getLabellableElement().matches("input:not([type=hidden])")?this._getLabellableElement():null)}},{key:"_onInputChange",value:function(e){e.stopPropagation(),this[this._componentTargetProperty]=e.target[this._eventTargetProperty],this._triggerChangeEvent&&this.trigger("change")}},{key:"_onFormReset",value:function(e){e.target.contains(this)&&this.reset()}},{key:"_onTargetInputChange",value:function(e){var t=this._getTargetChangeInput();t!==e.target&&null!==t||this._onInputChange(e)}},{key:"_updateForAttributes",value:function(e,t,n){e.split(/\s+/).forEach(function(e){var i=document.getElementById(e);if(i&&"LABEL"===i.tagName){var o=i.getAttribute("for");n?o===t&&i.removeAttribute("for"):i.setAttribute("for",t)}})}},{key:"clear",value:function(){this.value=""}},{key:"reset",value:function(){this.value=An.string(this.getAttribute("value"))}},{key:"invalid",get:function(){return this._invalid||!1},set:function(e){this._invalid=An.booleanAttr(e),this._reflectAttribute("invalid",this._invalid),this.setAttribute("aria-invalid",this._invalid),this.classList.toggle("is-invalid",this._invalid)}},{key:"labelledBy",get:function(){return this._getLabellableElement().getAttribute("aria-labelledby")},set:function(e){e=An.string(e);var t=this._getLabellableElement(),n=t.id=t.id||Yt.getUID(),i=t.getAttribute("aria-labelledby");i&&i!==e&&this._updateForAttributes(i,n,!0),e?(t.setAttribute("aria-labelledby",e),t.matches(bo)&&this._updateForAttributes(e,n)):t.removeAttribute("aria-labelledby")}},{key:"_componentTargetProperty",get:function(){return"value"}},{key:"_eventTargetProperty",get:function(){return"value"}},{key:"_triggerChangeEvent",get:function(){return!0}}],[{key:"_nativeObservedAttributes",get:function(){return["labelledby","labelledBy","invalid"]}},{key:"observedAttributes",get:function(){return["labelledby","labelledBy","invalid","readonly","readOnly","name","value","disabled","required"]}}]),t}(e)};Tn._formField=yo;var Co={"en-US":{Remove:"Remove"},"fr-FR":{Remove:"Supprimer"},"de-DE":{Remove:"Entfernen"},"it-IT":{Remove:"Rimuovi"},"es-ES":{Remove:"Eliminar"},"pt-BR":{Remove:"Remover"},"ja-JP":{Remove:"削除"},"ko-KR":{Remove:"제거"},"zh-CN":{Remove:"删除"},"zh-TW":{Remove:"移除"},"nl-NL":{Remove:"Verwijderen"},"da-DK":{Remove:"Fjern"},"fi-FI":{Remove:"Poista"},"nb-NO":{Remove:"Fjern"},"sv-SE":{Remove:"Ta bort"},"cs-CZ":{Remove:"Odebrat"},"pl-PL":{Remove:"Usuń"},"ru-RU":{Remove:"Удалить"},"tr-TR":{Remove:"Kaldır"}},ko=function(e){var t=document.createDocumentFragment(),n=this.button=document.createElement("button","coral-button");n.setAttribute("handle","button"),n.setAttribute("is","coral-button"),n.setAttribute("type","button"),n.setAttribute("variant","minimal"),n.setAttribute("icon","close"),n.setAttribute("iconSize","XS"),n.className+=" coral3-Tag-removeButton",n.setAttribute("title",Coral.i18n.get("Remove")),n.setAttribute("hidden",""),n.setAttribute("tabindex","-1"),n.setAttribute("coral-close",""),t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},Ao={SMALL:"S",MEDIUM:"M",LARGE:"L"},wo={DEFAULT:"",GREY:"grey",BLUE:"blue",LIGHT_BLUE:"lightblue",PERIWINKLE:"periwinkle",PLUM:"plum",FUCHSIA:"fuchsia",MAGENTA:"magenta",RED:"red",ORANGE:"orange",TANGERINE:"tangerine",YELLOW:"yellow",CHARTREUSE:"chartreuse",GREEN:"green",KELLY_GREEN:"kellygreen",SEA_FOAM:"seafoam",CYAN:"cyan"},Eo={S:"small",M:"medium",L:"large"},To=[];for(var So in Ao)To.push("coral3-Tag--"+Eo[Ao[So]]);var xo=[];for(var Lo in wo)xo.push("coral3-Tag--"+wo[Lo]);var Oo=null,Io=function(e){var t=e.getBoundingClientRect(),n=document.body,i=document.documentElement,o=window.pageYOffset||i.scrollTop||n.scrollTop,a=window.pageXOffset||i.scrollLeft||n.scrollLeft,r=i.clientTop||n.clientTop||0,s=i.clientLeft||n.clientLeft||0,l=t.left+t.width/2+a-s,c=t.top+t.height/2+o-r;return{x:Math.round(l),y:Math.round(c)}},No=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({click:"_onClick","key:backspace":"_onRemoveButtonClick","key:delete":"_onRemoveButtonClick","key:space":"_onRemoveButtonClick",mousedown:"_onMouseDown"}),e._elements={label:e.querySelector("coral-tag-label")||document.createElement("coral-tag-label")},ko.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"_onRemoveButtonClick",value:function(e){if(e.preventDefault(),this.closable){e.stopPropagation(),this.focus();var t=this._host;this.remove(),t&&t._onTagButtonClicked()}}},{key:"_onClick",value:function(e){this._elements.button.disabled||(e.target===this._elements.button||this._elements.button.contains(e.target)||null!==Oo||e.clientX<=0&&e.clientY<=0)&&(this._onRemoveButtonClick(e),Oo=null)}},{key:"_onMouseDown",value:function(e){var t=Io(e.target);Oo=e.target===this&&Math.abs(e.pageX-t.x)<2&&Math.abs(e.pageY-t.y)<2?{x:e.pageX,y:e.pageY}:null,Jt.on("mouseup",this._onMouseUp)}},{key:"_onMouseUp",value:function(e){null===Oo||e.pageX===Oo.x&&e.pageY===Oo.y||(Oo=null),Jt.off("mouseup",this._onMouseUp)}},{key:"_updateAriaLabel",value:function(){var e=this._elements.button,t=this._elements.label;if("option"!==this.getAttribute("role"))return e.removeAttribute("aria-hidden"),void t.removeAttribute("aria-hidden");var n=[],i=e.getAttribute("title"),o=t.textContent;e.parentElement&&(t.parentElement&&o===i||(e.hidden||n.push(i),e.setAttribute("aria-hidden","true"))),t.parentElement&&(e.parentElement&&i===o||(n.push(o),t.setAttribute("aria-hidden","true"))),n.length?this.setAttribute("aria-label",n.join(" ")):this.removeAttribute("aria-label")}},{key:"attributeChangedCallback",value:function(e,n,i){"disabled"===e?this._elements.button.disabled=!0:Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attributeChangedCallback",this).call(this,e,n,i)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Tag"),this._size||(this.size=Ao.LARGE),this._color||(this.color=wo.DEFAULT);var e=document.createDocumentFragment(),n=["input","button"],i=this._elements.label;for(i.parentNode&&this.removeChild(i);this.firstChild;){var o=this.firstChild;o.nodeType===Node.TEXT_NODE||-1===n.indexOf(o.getAttribute("handle"))?i.appendChild(o):this.removeChild(o)}this.appendChild(e),this.label=i,this.trigger("coral-tag:_connected")}},{key:"disconnectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disconnectedCallback",this).call(this),this._host&&this._host._onItemDisconnected(this)}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:"coral-tag-label",insert:function(e){this.appendChild(e),this._updateAriaLabel()}})}},{key:"closable",get:function(){return this._closable||!1},set:function(e){this._closable=An.booleanAttr(e),this._reflectAttribute("closable",this._closable),this.closable&&!this.contains(this._elements.button)&&this.insertBefore(this._elements.button,this.firstChild),this._elements.button.hidden=!this.closable,this._updateAriaLabel()}},{key:"value",get:function(){return"string"==typeof this._value?this._value:this.textContent.replace(/\s{2,}/g," ").trim()},set:function(e){this._value=An.string(e),this._reflectAttribute("value",this._value),this.trigger("coral-tag:_valuechanged")}},{key:"quiet",get:function(){return this._quiet||!1},set:function(e){this._quiet=An.booleanAttr(e),this._reflectAttribute("quiet",this._quiet),this.classList.toggle("coral3-Tag--quiet",this._quiet)}},{key:"multiline",get:function(){return this._multiline||!1},set:function(e){this._multiline=An.booleanAttr(e),this._reflectAttribute("multiline",this._multiline),this.classList.toggle("coral3-Tag--multiline",this._multiline)}},{key:"size",get:function(){return this._size||Ao.LARGE},set:function(e){var t;e=An.string(e).toUpperCase(),this._size=En.enumeration(Ao)(e)&&e||Ao.LARGE,this._reflectAttribute("size",this._size),(t=this.classList).remove.apply(t,To),this.classList.add("coral3-Tag--"+Eo[this._size])}},{key:"color",get:function(){return this._color||wo.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._color=En.enumeration(wo)(e)&&e||wo.DEFAULT,this._reflectAttribute("color",this._color),(t=this.classList).remove.apply(t,xo),this.color!==wo.DEFAULT&&this.classList.add("coral3-Tag--"+this._color)}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-tag-label":"label"}}}],[{key:"size",get:function(){return Ao}},{key:"color",get:function(){return wo}},{key:"observedAttributes",get:function(){return["closable","value","quiet","multiline","size","color","disabled"]}}]),t}(Pn(HTMLElement)),Mo=function(){return document.createElement("coral-tag-label")},Do=function(e){var t=e.getAttribute("value");return null!==t?t:e.textContent.replace(/\s{2,}/g," ").trim()},Po=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{"capture:focus coral-tag":"_onItemFocus","capture:blur coral-tag":"_onItemBlur","key:right coral-tag":"_onNextItemFocus","key:down coral-tag":"_onNextItemFocus","key:pagedown coral-tag":"_onNextItemFocus","key:left coral-tag":"_onPreviousItemFocus","key:up coral-tag":"_onPreviousItemFocus","key:pageup coral-tag":"_onPreviousItemFocus","key:home coral-tag":"_onFirstItemFocus","key:end coral-tag":"_onLastItemFocus","coral-tag:_valuechanged":"_onTagValueChanged","coral-tag:_connected":"_onTagConnected"})),e._itemToFocusAfterDelete=null,e}return Bt(t,e),Ft(t,[{key:"_attachInputToItem",value:function(e){e._input||(e._input=document.createElement("input"),e._input.type="hidden",e._input.setAttribute("handle","input"));var t=e._input;t.disabled=this.disabled,t.name=this.name,t.value=e.value,e.contains(t)||e.appendChild(t)}},{key:"_onItemConnected",value:function(e){var t=this,n=t.items.getAll();if(!n.some(function(t){return Do(t)===Do(e)&&t!==e&&((n.indexOf(t)<n.indexOf(e)?e:t).remove(),!0)})){if(this._attachInputToItem(e),e.setAttribute("role","option"),e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),e[this.readOnly?"removeAttribute":"setAttribute"]("closable",""),!this.querySelector('coral-tag[tabindex="0"]')){var i=n[0];i&&i.setAttribute("tabindex","0")}e._host=this,this.trigger("coral-collection:add",{item:e})}}},{key:"_onItemDisconnected",value:function(e){e.removeAttribute("role"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex"),e._host=void 0,this._itemToFocusAfterDelete&&this._itemToFocusAfterDelete.focus(),this.trigger("coral-collection:remove",{item:e})}},{key:"_onItemFocus",value:function(e){if(!this.disabled){this.setAttribute("aria-live","polite");var t=e.matchedTarget;t.setAttribute("aria-selected",!0),this.items.getAll().forEach(function(e){e!==t&&e.setAttribute("tabindex","-1")}),t.setAttribute("tabindex","0"),this._setItemToFocusOnDelete(t)}}},{key:"_onItemBlur",value:function(e){if(!this.disabled){this.setAttribute("aria-live","off");var t=e.matchedTarget;t.setAttribute("aria-selected",!1),this._setItemToFocusOnDelete(t)}}},{key:"_onSiblingItemFocus",value:function(e,t){if(!this.disabled){e.preventDefault();for(var n=e.target[t];n;){if("coral-tag"===n.tagName.toLowerCase()&&!n.hidden){n.focus();break}n=n[t]}}}},{key:"_onNextItemFocus",value:function(e){this._onSiblingItemFocus(e,"nextElementSibling")}},{key:"_onPreviousItemFocus",value:function(e){this._onSiblingItemFocus(e,"previousElementSibling")}},{key:"_onFirstItemFocus",value:function(e){e.preventDefault(),this.items.length>0&&this.items.getAll()[0].focus()}},{key:"_onLastItemFocus",value:function(e){e.preventDefault();var t=this.items.length;t>0&&this.items.getAll()[t-1].focus()}},{key:"_onTagButtonClicked",value:function(){this.trigger("change")}},{key:"_onTagValueChanged",value:function(e){e.stopImmediatePropagation();var t=e.target;t._input&&(t._input.value=t.value)}},{key:"_setItemToFocusOnDelete",value:function(e){for(var t=e.nextElementSibling;t;){if("coral-tag"===t.tagName.toLowerCase()&&!t.hidden)return void(this._itemToFocusAfterDelete=t);t=t.nextElementSibling}for(t=e.previousElementSibling;t;){if("coral-tag"===t.tagName.toLowerCase()&&!t.hidden){this._itemToFocusAfterDelete=t;break}t=t.previousElementSibling}var n=this;window.requestAnimationFrame(function(){null===e.parentElement||n.contains(document.activeElement)||(t=void 0)})}},{key:"_getLabellableElement",value:function(){return this}},{key:"_onTagConnected",value:function(e){e.stopImmediatePropagation();var t=e.target;this._onItemConnected(t)}},{key:"reset",value:function(){this.values=this._initialValues}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this);var e=this;e.classList.add("coral3-TagList"),e.setAttribute("role","listbox"),e.setAttribute("aria-live","off"),e.setAttribute("aria-atomic","false"),e.setAttribute("aria-relevant","additions"),e.hasAttribute("value")?e._initialValues=[e.getAttribute("value")]:e._initialValues=e.items.getAll().map(function(e){return Do(e)}),this.items.getAll().forEach(function(t){e._onItemConnected(t)})}},{key:"values",get:function(){return this.items.getAll().map(function(e){return e.value})},set:function(e){var t=this;Array.isArray(e)&&(this.items.clear(),e.forEach(function(e){var n=(new No).set({label:{innerHTML:e},value:e});t._attachInputToItem(n),t.items.add(n)},this))}},{key:"items",get:function(){return this._items||(this._items=new Rn({host:this,itemTagName:"coral-tag"})),this._items}},{key:"name",get:function(){return this._name||""},set:function(e){var t=this;this._name=An.string(e),this._reflectAttribute("name",e),this.items.getAll().forEach(function(e){e._input&&(e._input.name=t._name)},this)}},{key:"value",get:function(){var e=this.items.getAll();return e.length?e[0].value:""},set:function(e){if(this.items.clear(),e){var t=(new No).set({label:{innerHTML:e},value:e});this._attachInputToItem(t),this.items.add(t)}}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){var t=this;this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this.items.getAll().forEach(function(e){e[t._disabled?"setAttribute":"removeAttribute"]("disabled",""),e._input&&(e._input.disabled=t._disabled)},this),this.setAttribute("aria-disabled",this._disabled)}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){var t=this;this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.items.getAll().forEach(function(e){e.closable=!t._readOnly},this),this.setAttribute("aria-readonly",this._readOnly)}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required)}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["closable","value","quiet","multiline","size","color"])}}]),t}(yo(Pn(HTMLElement)));Yt.extend(en,{"coralui-component-taglist":Co}),window.customElements.define("coral-tag",No),window.customElements.define("coral-taglist",Po),window.Coral=window.Coral||{},window.Coral.Tag=No,window.Coral.Tag.Label=Mo,window.Coral.TagList=Po;var Fo=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._observer=new MutationObserver(e._handleMutation.bind(e)),e._observer.observe(e,{characterData:!0,childList:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_handleMutation",value:function(){this.trigger("coral-autocomplete-item:_contentchanged",{content:this.textContent})}},{key:"value",get:function(){return void 0===this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value},set:function(e){this._value=An.string(e),this._reflectAttribute("value",this._value),this.trigger("coral-autocomplete-item:_valuechanged")}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.trigger("coral-autocomplete-item:_selectedchanged")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled)}}],[{key:"observedAttributes",get:function(){return["selected","disabled","value"]}}]),t}(Pn(HTMLElement)),Ho={ON:"on",OFF:"off"},Bo=function(e){return function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._events={"capture:mouseenter [coral-list-item]":"_onItemMouseEnter","key:down [coral-list-item]":"_focusNextItem","key:right [coral-list-item]":"_focusNextItem","key:left [coral-list-item]":"_focusPreviousItem","key:up [coral-list-item]":"_focusPreviousItem","key:pageup [coral-list-item]":"_focusPreviousItem","key:pagedown [coral-list-item]":"_focusNextItem","key:home [coral-list-item]":"_focusFirstItem","key:end [coral-list-item]":"_focusLastItem"},e}return Bt(t,e),Ft(t,[{key:"_onItemMouseEnter",value:function(e){e.matchedTarget.hasAttribute("disabled")||this.interaction!==Ho.ON||e.matchedTarget.focus()}},{key:"_eventIsAtTarget",value:function(e){var t=e.target,n=e.matchedTarget,i=t===n;return i&&(e.preventDefault(),e.stopPropagation()),i}},{key:"_focusFirstItem",value:function(e){if(this.interaction!==Ho.OFF&&this._eventIsAtTarget(e)){this._getSelectableItems()[0].focus()}}},{key:"_focusLastItem",value:function(e){if(this.interaction!==Ho.OFF&&this._eventIsAtTarget(e)){var t=this._getSelectableItems();t[t.length-1].focus()}}},{key:"_focusNextItem",value:function(e){if(this.interaction!==Ho.OFF&&this._eventIsAtTarget(e)){var t=e.matchedTarget,n=this._getSelectableItems(),i=n.indexOf(t);-1!==i&&(i<n.length-1?n[i+1].focus():n[0].focus())}}},{key:"_focusPreviousItem",value:function(e){if(this.interaction!==Ho.OFF&&this._eventIsAtTarget(e)){var t=e.matchedTarget,n=this._getSelectableItems(),i=n.indexOf(t);-1!==i&&(i>0?n[i-1].focus():n[n.length-1].focus())}}},{key:"_getSelectableItems",value:function(){return this.items._getSelectableItems().filter(function(e){return!e.hasAttribute("hidden")&&e.offsetParent})}},{key:"focus",value:function(){if(!this.contains(document.activeElement)){var e=this._getSelectableItems();e.length>0&&e[0].focus()}}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-BasicList"),this._interaction||(this.interaction=Ho.ON)}},{key:"items",get:function(){return this._items||(this._items=new jn({itemTagName:this._itemTagName,itemBaseTagName:this._itemBaseTagName,itemSelector:"[coral-list-item]",host:this})),this._items}},{key:"_itemTagName",get:function(){return"coral-list-item"}},{key:"interaction",get:function(){return this._interaction||Ho.ON},set:function(e){e=An.string(e).toLowerCase(),this._interaction=En.enumeration(Ho)(e)&&e||Ho.ON,this._reflectAttribute("interaction",this._interaction)}}],[{key:"interaction",get:function(){return Ho}},{key:"observedAttributes",get:function(){return["interaction"]}}]),t}(e)},Ro=function(e){var t=document.createDocumentFragment(),n=this.icon=document.createElement("coral-icon");n.setAttribute("size","S"),n.className+=" coral3-BasicList-item-icon",n.setAttribute("handle","icon"),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.outerContainer=document.createElement("div");o.className+=" coral3-BasicList-item-outerContainer",o.setAttribute("handle","outerContainer");var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.contentContainer=document.createElement("div");r.className+=" coral3-BasicList-item-contentContainer",r.setAttribute("handle","contentContainer"),o.appendChild(r);var s=document.createTextNode("\n");return o.appendChild(s),t.appendChild(o),t},jo=function(e){return function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-list-item-content")||document.createElement("coral-list-item-content")},Ro.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){var e=this;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-BasicList-item"),this.setAttribute("coral-list-item","");var n=document.createDocumentFragment();n.appendChild(this._elements.icon),n.appendChild(this._elements.outerContainer);var i=this._elements.content;for(Array.prototype.filter.call(this.children,function(e){return e.hasAttribute("handle")}).forEach(function(t){e.removeChild(t)},this);this.firstChild;)i.appendChild(this.firstChild);this.content=i,this.appendChild(n)}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-list-item-content",insert:function(e){this._elements.contentContainer.appendChild(e)}})}},{key:"disabled",get:function(){
return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled)}},{key:"icon",get:function(){return this._elements.icon.icon},set:function(e){this._elements.icon.icon=e,this._elements.icon.hidden=""===this._elements.icon.icon}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-list-item-content":"content"}}}],[{key:"observedAttributes",get:function(){return["disabled","icon"]}}]),t}(e)};Tn._list=Bo,Tn._list.item=jo;var qo=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(e._events),e}return Bt(t,e),t}(Bo(Pn(HTMLElement))),zo=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(e._events),e}return Bt(t,e),t}(jo(Pn(HTMLElement))),Uo=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-BasicList-item-content")}}]),t}(HTMLElement),Vo=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(e._events),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-AnchorList")}},{key:"_itemTagName",get:function(){return"coral-anchorlist-item"}},{key:"_itemBaseTagName",get:function(){return"a"}}]),t}(Bo(Pn(HTMLElement))),Ko=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({click:"_onClick"}),e}return Bt(t,e),Ft(t,[{key:"_onClick",value:function(e){this.disabled&&e.preventDefault()}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-AnchorList-item")}},{key:"disabled",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disabled",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disabled",e,this),this.disabled?this.setAttribute("tabindex","-1"):this.setAttribute("tabindex","0")}}]),t}(jo(Pn(HTMLAnchorElement))),Zo=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(e._events),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ButtonList")}},{key:"_itemTagName",get:function(){return"coral-buttonlist-item"}},{key:"_itemBaseTagName",get:function(){return"button"}}]),t}(Bo(Pn(HTMLElement))),Wo=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ButtonList-item")}}]),t}(jo(Pn(HTMLButtonElement)));window.customElements.define("coral-list",qo),window.customElements.define("coral-list-item",zo),window.customElements.define("coral-list-item-content",Uo),window.customElements.define("coral-anchorlist",Vo),window.customElements.define("coral-anchorlist-item",Ko,{extends:"a"}),window.customElements.define("coral-buttonlist",Zo),window.customElements.define("coral-buttonlist-item",Wo,{extends:"button"}),window.Coral=window.Coral||{},window.Coral.List=qo,window.Coral.List.Item=zo,window.Coral.List.Item.Content=Uo,window.Coral.AnchorList=Vo,window.Coral.AnchorList.Item=Ko,window.Coral.ButtonList=Zo,window.Coral.ButtonList.Item=Wo;var Go={DEFAULT:"default",QUIET:"quiet"},Xo=[];for(var Yo in Go)Xo.push("coral3-Textfield--"+Go[Yo]);var Qo=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(e._events),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Textfield"),this._variant||(this.variant=Go.DEFAULT)}},{key:"variant",get:function(){return this._variant||Go.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(Go)(e)&&e||Go.DEFAULT,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,Xo),this._variant!==Go.DEFAULT&&this.classList.add("coral3-Textfield--"+this._variant)}}],[{key:"variant",get:function(){return Go}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"_nativeObservedAttributes",this).concat(["variant"])}}]),t}(yo(Pn(HTMLInputElement)));window.customElements.define("coral-textfield",Qo,{extends:"input"}),window.Coral=window.Coral||{},window.Coral.Textfield=Qo;var Jo={DEFAULT:"default",DOTS:"dots"},$o={SMALL:"S",MEDIUM:"M",LARGE:"L"},ea=[];for(var ta in Jo)ea.push("coral3-Wait--"+Jo[ta]);var na=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this._size||(this.size=$o.SMALL),this._variant||(this.variant=Jo.DEFAULT),this.classList.add("coral3-Wait")}},{key:"size",get:function(){return this._size||$o.SMALL},set:function(e){e=An.string(e).toUpperCase(),this._size=En.enumeration($o)(e)&&e||$o.SMALL,this._reflectAttribute("size",this._size),this.classList.toggle("coral3-Wait--large",this._size===$o.LARGE),this.classList.toggle("coral3-Wait--medium",this._size===$o.MEDIUM)}},{key:"centered",get:function(){return this._centered||!1},set:function(e){this._centered=An.booleanAttr(e),this._reflectAttribute("centered",this._centered),this.classList.toggle("coral3-Wait--centered",this._centered)}},{key:"variant",get:function(){return this._variant||Jo.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(Jo)(e)&&e||Jo.DEFAULT,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,ea),this._variant!==Jo.DEFAULT&&this.classList.add("coral3-Wait--"+this._variant)}}],[{key:"size",get:function(){return $o}},{key:"variant",get:function(){return Jo}},{key:"observedAttributes",get:function(){return["size","centered","variant"]}}]),t}(Pn(HTMLElement));window.customElements.define("coral-wait",na),window.Coral=window.Coral||{},window.Coral.Wait=na;var ia=function(e){var t=document.createDocumentFragment(),n=this.overlay=document.createElement("coral-overlay");n.className+=" coral3-Autocomplete-overlay",n.setAttribute("returnfocus","off"),n.setAttribute("placement","bottom"),n.setAttribute("handle","overlay"),n.setAttribute("role","presentation");var i=document.createTextNode("\n  ");n.appendChild(i);var o=this.selectList=document.createElement("coral-buttonlist");o.id=Coral.commons.getUID(),o.className+=" coral3-Autocomplete-selectList",o.setAttribute("handle","selectList"),o.setAttribute("role","listbox"),o.setAttribute("interaction","off"),n.appendChild(o);var a=document.createTextNode("\n");n.appendChild(a),t.appendChild(n);var r=document.createTextNode("\n");t.appendChild(r);var s=this.field=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("handle","field"),t.appendChild(s);var l=document.createTextNode("\n");t.appendChild(l);var c=this.inputGroup=document.createElement("div");c.className+=" coral-InputGroup coral-InputGroup--block coral3-Autocomplete-inputGroup",c.setAttribute("handle","inputGroup"),c.setAttribute("role","presentation");var u=document.createTextNode("\n  ");c.appendChild(u);var d=this.label=document.createElement("div");d.className+=" coral-InputGroup-input coral-DecoratedTextfield",d.setAttribute("handle","label"),d.setAttribute("role","presentation");var h=document.createTextNode("\n    ");d.appendChild(h);var p=this.icon=document.createElement("coral-icon");p.setAttribute("hidden",""),p.setAttribute("size","XS"),p.className+=" coral-DecoratedTextfield-icon coral3-Autocomplete-icon",p.setAttribute("handle","icon"),d.appendChild(p);var m=document.createTextNode("\n    ");d.appendChild(m);var _=this.input=document.createElement("input","coral-textfield");_.className+=" coral-DecoratedTextfield-input coral3-Autocomplete-input",_.setAttribute("type","text"),_.setAttribute("autocomplete","off"),_.setAttribute("handle","input"),_.setAttribute("role","textbox"),_.setAttribute("is","coral-textfield"),d.appendChild(_);var f=document.createTextNode("\n  ");d.appendChild(f),c.appendChild(d);var v=document.createTextNode("\n  ");c.appendChild(v);var g=document.createElement("span");g.className+=" coral-InputGroup-button",g.setAttribute("role","presentation");var b=document.createTextNode("\n    ");g.appendChild(b);var y=this.trigger=document.createElement("button","coral-button");y.setAttribute("tabindex","-1"),y.setAttribute("is","coral-button"),y.setAttribute("type","button"),y.setAttribute("icon","chevronDown"),y.setAttribute("iconsize","XS"),y.setAttribute("handle","trigger"),y.className+=" coral3-Autocomplete-trigger",y.setAttribute("aria-label",Coral.i18n.get("Show suggestions")),y.setAttribute("title",Coral.i18n.get("Show suggestions")),g.appendChild(y);var C=document.createTextNode("\n  ");g.appendChild(C),c.appendChild(g);var k=document.createTextNode("\n");c.appendChild(k),t.appendChild(c);var A=document.createTextNode("\n");t.appendChild(A);var w=this.tagList=document.createElement("coral-taglist");w.className+=" coral3-Autocomplete-tagList",w.setAttribute("handle","tagList"),t.appendChild(w);var E=document.createTextNode("\n");return t.appendChild(E),t},oa=function(e){var t=document.createElement("div");t.className+=" coral3-Autocomplete-loading",t.setAttribute("role","progressbar");var n=document.createTextNode("\n  ");t.appendChild(n);var i=document.createElement("coral-wait");i.setAttribute("centered",""),t.appendChild(i);var o=document.createTextNode("\n");return t.appendChild(o),t},aa={STARTSWITH:"startswith",CONTAINS:"contains"},ra=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={},ia.call(e._elements),e._elements.tagList.reset=function(){},e._delegateEvents({'key:up [handle="input"]':"_handleInputUpKeypress",'key:alt+up [handle="input"]':"_handleInputUpKeypress",'key:down [handle="input"]':"_handleInputDownKeypress",'key:alt+down [handle="input"]':"_handleInputDownKeypress",'key:tab [handle="input"]':"_handleInputTabKeypress",'key:shift+tab [handle="input"]':"_handleListFocusShift",'capture:change [handle="input"]':"_handleInput",'input [handle="input"]':"_handleInputEvent",keydown:"_handleInputKeypressEnter",'click [handle="trigger"]':"_handleTriggerClick",'mousedown [handle="trigger"]':"_handleTriggerMousedown","key:escape":"_hideSuggestionsAndFocus",'key:shift+tab [is="coral-buttonlist-item"]':"_handleListFocusShift","capture:blur":"_handleFocusOut",'capture:focus [handle="inputGroup"]':"_handleInputGroupFocusIn",'capture:blur [handle="inputGroup"]':"_handleInputGroupFocusOut",'coral-collection:remove [handle="tagList"]':"_handleTagRemoved",'change [handle="tagList"]':"_preventTagListChangeEvent",'key:enter button[is="coral-buttonlist-item"]':"_handleSelect",'click button[is="coral-buttonlist-item"]':"_handleSelect",'capture:scroll [handle="overlay"]':"_onScroll",'capture:mousewheel [handle="overlay"]':"_onMouseWheel",'mousedown button[is="coral-buttonlist-item"]':"_handleSelect",'capture:mouseenter [is="coral-buttonlist-item"]':"_handleListItemFocus","coral-overlay:positioned":"_handleOverlayPositioned","coral-autocomplete-item:_valuechanged":"_handleItemValueChange","coral-autocomplete-item:_selectedchanged":"_handleItemSelectedChange","coral-autocomplete-item:_contentchanged":"_handleItemContentChange"}),e._tagMap={},e._values=[],e._options=[],e._optionsMap={},e._initialSelectedValues=[],e._handleScrollBottom=e._handleScrollBottom.bind(e),e._observer=new MutationObserver(e._handleMutation.bind(e)),e._startObserving(),e}return Bt(t,e),Ft(t,[{key:"_getName",value:function(){return this.multiple?this._elements.tagList.name:this._elements.field.name}},{key:"_setName",value:function(e){this.multiple?(this._elements.tagList.name=e,this._elements.field.name=""):(this._elements.field.name=e,this._elements.tagList.name="")}},{key:"_startObserving",value:function(){this._observer.observe(this,{childList:!0})}},{key:"_stopObserving",value:function(){this._observer.disconnect()}},{key:"_onInputChange",value:function(e){if(e.stopPropagation(),!this.multiple){var t=this._elements.input.value.toLowerCase();if(this.forceSelection||""===t)for(var n=this.items.getAll(),i=0;i<n.length;i++)n[i].value.toLowerCase()!==t&&(n[i].selected=!1)}}},{key:"_handleMutation",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.target;if("childList"===n.type&&i===this)return void this._setStateFromDOM()}}},{key:"_setStateFromDOM",value:function(){this._createOptionsFromDOM(),this._setSelectedFromDOM()}},{key:"_createOptionsFromDOM",value:function(){var e=this;this._options.length=0,this._optionsMap={},this.items.getAll().forEach(function(t){var n={value:t.getAttribute("value"),icon:t.getAttribute("icon"),disabled:t.hasAttribute("disabled"),content:t.innerHTML,text:t.innerText};e._options.push(n),e._optionsMap[n.value]=n})}},{key:"_setInputValues",value:function(e,t){this._elements.field.value=e,(this.multiple||""!==t)&&(this._elements.input.value=t.trim())}},{key:"_reflectCurrentValue",value:function(){var e=this._values.length>0?this._values[0]:"";this._elements.field.value=e;var t="";if(""!==e){var n=this._optionsMap[e];t=n?n.content:e}this._setInputValues(e,t)}},{key:"_setSelectedFromDOM",value:function(){var e=this.selectedItems;if(e.length)if(this.hasAttribute("multiple")){this._resetValues();for(var t=0;t<e.length;t++){var n=e[t].getAttribute("value"),i=e[t].innerHTML;this._addValue(n,i,!0)}}else{var o=e[e.length-1];this._deselectExcept(o,e),this.value=o.getAttribute("value")}else this.hasAttribute("multiple")?this._resetValues():this.value=""}},{key:"_deselectExcept",value:function(e,t){var n=t||this.selectedItems;this._stopObserving();for(var i=0;i<n.length;i++)n[i]!==e&&n[i].removeAttribute("selected");this._startObserving()}},{key:"_addValue",value:function(e,t,n){if(!t){var i=this._optionsMap[e];t=i?i.content:e}-1===this._values.indexOf(e)&&this._values.push(e);var o={};n?o.innerHTML=t:o.textContent=t;var a=(new No).set({label:o,value:e});this._tagMap[e]=a,this._elements.tagList.items.add(a),this._setInputValues("","")}},{key:"_removeValue",value:function(e){var t=this._values.indexOf(e);if(-1!==t){this._values.splice(t,1);var n=this.querySelector("coral-autocomplete-item[value="+JSON.stringify(e)+"]");n&&n.hasAttribute("selected")&&(this._stopObserving(),n.removeAttribute("selected"),this._startObserving());var i=this._tagMap[e];i&&(this._tagMap[e]=null,this._elements.tagList.items.remove(i)),-1!==t&&this.trigger("change")}}},{key:"_clearValues",value:function(){this._resetValues(),this._stopObserving();for(var e=this.querySelectorAll("coral-autocomplete-item[selected]"),t=0;t<e.length;t++)e[t].removeAttribute("selected");this._startObserving()}},{key:"_resetValues",value:function(){this._values=[],this._tagMap={},this._elements.tagList.items.clear()}},{key:"_focusNextItem",value:function(){var e=this._elements.selectList,t=e.querySelector(".is-focused"),n=this._elements.input,i=e._getSelectableItems(),o=void 0,a=void 0,r=this;t?(o=i.indexOf(t))<i.length-1&&(a=i[o+1]):i&&i.length>0&&(a=i[0]),window.requestAnimationFrame(function(){a&&(t&&t.classList.remove("is-focused"),r._scrollItemIntoView(a),a.classList.add("is-focused"),n.setAttribute("aria-activedescendant",a.id)),e.querySelector(".is-focused")||n.removeAttribute("aria-activedescendant")})}},{key:"_focusPreviousItem",value:function(){var e=this._elements.selectList,t=e.querySelector(".is-focused"),n=this._elements.input,i=e._getSelectableItems(),o=void 0,a=void 0,r=this;t?(o=i.indexOf(t),o>0&&(a=i[o-1]),t.classList.remove("is-focused")):i&&i.length>0&&(a=i[i.length-1]),window.requestAnimationFrame(function(){a&&(r._scrollItemIntoView(a),a.classList.add("is-focused"),n.setAttribute("aria-activedescendant",a.id)),e.querySelector(".is-focused")||n.removeAttribute("aria-activedescendant")})}},{key:"_showSuggestions",value:function(){var e=this._elements.input.value.toLowerCase().trim();this.clearSuggestions();var t=this.trigger("coral-autocomplete:showsuggestions",{value:e,start:0});this._showSuggestionsCalled=!0,t.defaultPrevented?(this.loading=!0,this.showSuggestions()):(this.addSuggestions(this._getMatches(e,this._optionContainsValue)),this.showSuggestions())}},{key:"_onScroll",value:function(){window.clearTimeout(this._scrollTimeout),this._scrollTimeout=window.setTimeout(this._handleScrollBottom,100)}},{key:"_onMouseWheel",value:function(e){var t=this._elements.overlay;(e.deltaY<0&&0===t.scrollTop||e.deltaY>0&&t.scrollTop>=t.scrollHeight-t.clientHeight)&&e.preventDefault()}},{key:"_handleScrollBottom",value:function(){var e=this._elements.overlay,t=this._elements.selectList;if(e.scrollTop>=e.scrollHeight-e.clientHeight-50){var n=this._elements.input.value;this.trigger("coral-autocomplete:showsuggestions",{value:n,start:t.items.length}).defaultPrevented&&(this.loading=!0)}}},{key:"_handleFocusOut",value:function(e){var t=this,n=this._elements.selectList,i=e.target,o=i===this._elements.input;this._blurTimeout&&clearTimeout(this._blurTimeout),this._blurTimeout=window.setTimeout(function(){var a=document.activeElement,r=!t.contains(a);o&&r&&!t.multiple?t._handleInput(e):(!a||(o||a!==document.body)&&r||n.contains(i)&&!n.contains(a))&&t.hideSuggestions()},0)}},{key:"_handleInputGroupFocusIn",value:function(){this.classList.add("is-focused")}},{key:"_handleInputGroupFocusOut",value:function(){this.classList.remove("is-focused")}},{key:"_handleOverlayPositioned",value:function(e){"top"===e.detail.vertical?(this.classList.remove("is-openAbove"),this.classList.add("is-openBelow")):(this.classList.remove("is-openBelow"),this.classList.add("is-openAbove"))}},{key:"_handleListFocusShift",value:function(e){this._elements.overlay.open&&(e.preventDefault(),e.stopImmediatePropagation(),this._hideSuggestionsAndFocus())}},{key:"_hideSuggestionsAndFocus",value:function(){this.hideSuggestions(),this._elements.input.focus()}},{key:"_handleTriggerClick",value:function(){this._elements.overlay.open?this._hideSuggestionsAndFocus():(this._showSuggestions(),this._elements.input.focus())}},{key:"_handleTriggerMousedown",value:function(){this._elements.trigger.focus()}},{key:"_handleListItemFocus",value:function(e){var t=e.matchedTarget,n=this._elements.selectList,i=n.querySelector(".is-focused"),o=this._elements.input;i&&(i.classList.remove("is-focused"),o.removeAttribute("aria-activedescendant")),t.disabled||(this._scrollItemIntoView(t),t.classList.add("is-focused"),o.setAttribute("aria-activedescendant",t.id))}},{key:"_scrollItemIntoView",value:function(e){var t=e.getBoundingClientRect(),n=this._elements.overlay.getBoundingClientRect();t.top<n.top?e.scrollIntoView():t.bottom>n.bottom&&e.scrollIntoView(!1)}},{key:"_getMatches",value:function(e,t){t=t||this._matchFunction;for(var n=[],i=0;i<this._options.length;i++)t(this._options[i],e)&&n.push(this._options[i]);if(!n.length)for(var o=this._elements.selectList.items.getAll(),a=0;a<o.length;a++){var r={value:o[a].value,content:o[a].textContent.trim()};t(r,e)&&n.push(r)}return n}},{key:"_handleInputKeypressEnter",value:function(e){13===e.which&&this._handleInput(e)}},{key:"_handleInputEvent",value:function(){this.invalid=!1,this.delay?(window.clearTimeout(this._timeout),this._timeout=window.setTimeout(this._showSuggestions.bind(this),this.delay)):this._showSuggestions()}},{key:"_handleInput",value:function(e){var t=void 0;if(e.preventDefault(),this._elements.overlay.open&&this._elements.input.getAttribute("aria-activedescendant")){var n=this._elements.selectList.querySelector(".is-focused");n&&(t=n.textContent.trim())}var i=t||this._elements.input.value,o=!1,a=this._getMatches(i,this._optionEqualsValue);if(a.length){var r=a.filter(function(e){return e.content===i})[0]||a[0];o=this.value!==r.value,this._selectItem(r.value,r.content,!1),this.multiple?i.trim()&&this._addValue(r.value,r.content,!1):this.value=r.value,this.forceSelection&&(this.invalid=!1),this.hideSuggestions(),!0===o&&this.trigger("change")}else this.forceSelection?this.multiple?this.invalid=""!==i||1===this.values.length&&""===this.values[0]||0===this.values.length:this.invalid=!0:(o=this.value!==i,this.multiple?i.trim()&&this._addValue(i,null,!1):this.value=i,this.hideSuggestions(),!0===o&&this.trigger("change"));this._updateButtonAccessibilityLabel()}},{key:"_selectItem",value:function(e,t,n){this._stopObserving();var i=this.querySelector("coral-autocomplete-item[value="+JSON.stringify(e)+"]");if(i)i.setAttribute("selected","");else{var o={};t=void 0===t?e:t,n?o.innerHTML=t:o.textContent=t,this.items.add((new Fo).set({value:e,content:o,selected:!0}))}this._startObserving()}},{key:"_handleInputUpKeypress",value:function(e){e.preventDefault(),this._elements.overlay.open?e.altKey?this.hideSuggestions():this._focusPreviousItem():this._showSuggestions()}},{key:"_handleInputDownKeypress",value:function(e){e.preventDefault(),this._elements.overlay.open?this._focusNextItem():this._showSuggestions()}},{key:"_handleInputTabKeypress",value:function(e){this._elements.overlay.open&&this._elements.input.getAttribute("aria-activedescendant")&&e.preventDefault()}},{key:"_handleSelect",value:function(e){var t=e.matchedTarget;if(t&&!t.disabled){this._selectItem(t.value,t.content.innerHTML,!0),this.multiple?this._addValue(t.value,t.content.innerHTML,!0):(this.value=t.value,this._setInputValues(this.value,t.content.textContent,!1));var n=this;window.requestAnimationFrame(function(){n._elements.input.focus()}),this.hideSuggestions(),this.trigger("change")}}},{key:"_preventTagListChangeEvent",value:function(e){e.stopImmediatePropagation()}},{key:"_handleTagRemoved",value:function(e){for(var t=e.detail.item.value,n=!0,i=this._elements.tagList.items.getAll(),o=0;o<i.length;o++)if(i[o].value===t){n=!1;break}n&&this._removeValue(t),0===this.selectedItems.length&&this._elements.input.focus(),this._updateButtonAccessibilityLabel()}},{key:"_handleItemValueChange",value:function(e){e.stopImmediatePropagation(),this._createOptionsFromDOM()}},{key:"_handleItemContentChange",value:function(e){e.stopImmediatePropagation(),this._createOptionsFromDOM()}},{key:"_handleItemSelectedChange",value:function(e){e.stopImmediatePropagation();var t=e.target,n=t.hasAttribute("selected");this.multiple?this[n?"_addValue":"_removeValue"](t.value,t.content.innerHTML,!0):n?(this._elements.input.value=t.content.textContent.replace(/\s{2,}/g," ").trim(),this.value=t.value,this.invalid=!1,this._deselectExcept(t)):this.value===t.value&&(this.value="",this.trigger("change"))}},{key:"_optionContainsValue",value:function(e,t){return t=("string"==typeof t?t:"").toLowerCase(),-1!==(e.text||e.content).toLowerCase().indexOf(t)}},{key:"_optionStartsWithValue",value:function(e,t){return t=("string"==typeof t?t:"").toLowerCase(),0===e.content.toLowerCase().trim().indexOf(t)}},{key:"_optionEqualsValue",value:function(e,t){return t=("string"==typeof t?t:"").toLowerCase(),e.content.toLowerCase().trim()===t}},{key:"_updateButtonAccessibilityLabel",value:function(e){var t=an.get("Show suggestions");1===e?t=an.get("Show suggestion"):e>1&&(t=an.get("Show {0} suggestions",e)),this._elements.trigger.setAttribute("aria-label",t),this._elements.trigger.setAttribute("title",t)}},{key:"clear",value:function(){this.value="",this._elements.input.clear(),this.multiple&&this._clearValues()}},{key:"clearSuggestions",value:function(){this._elements.selectList.items.clear(),this._updateButtonAccessibilityLabel()}},{key:"addSuggestions",value:function(e,t){this.loading=!1,t&&this.clearSuggestions();for(var n=0;n<e.length;n++){var i=e[n].value,o=e[n].content,a=e[n].icon,r=!!e[n].disabled;this.multiple&&-1!==this.values.indexOf(i)||(this._elements.selectList.items.add({value:i,type:"button",icon:a,disabled:r,id:Yt.getUID(),tabIndex:-1,content:{innerHTML:o}}),this._elements.selectList.items.last().setAttribute("role","option"))}e.length||this._elements.selectList.items.length?this._updateButtonAccessibilityLabel(this._elements.selectList.items.length):(this._elements.selectList.items.add({type:"button",content:{innerHTML:"<em>"+an.get("No matching results.")+"</em>"},disabled:!0}),this._elements.selectList.items.last().setAttribute("role","status"),this._elements.selectList.items.last().setAttribute("aria-live","polite"),this._elements.input.removeAttribute("aria-activedescendant"),this._updateButtonAccessibilityLabel()),this._elements.selectList.style.height="";var s=window.getComputedStyle(this._elements.selectList),l=parseInt(s.height,10);l<parseInt(s.maxHeight,10)&&(this._elements.selectList.style.height=l-1+"px")}},{key:"showSuggestions",value:function(){this._showSuggestionsCalled?this._showSuggestionsCalled=!1:this._showSuggestions(),this._elements.overlay.style.minWidth=this.offsetWidth+"px",this._elements.overlay.open?this._elements.overlay.reposition():this._elements.overlay.open=!0,this.setAttribute("aria-expanded","true"),this.classList.add("is-open")}},{key:"hideSuggestions",value:function(){this._elements.overlay.open=!1,this.setAttribute("aria-expanded","false"),this.classList.remove("is-open","is-openBelow","is-openAbove"),this._elements.input.removeAttribute("aria-activedescendant"),window.clearTimeout(this._timeout),this.trigger("coral-autocomplete:hidesuggestions")}},{key:"reset",value:function(){this.values=this._initialSelectedValues}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Autocomplete"),this.setAttribute("role","presentation"),this._elements.input.setAttribute("role","combobox"),this._elements.input.setAttribute("aria-autocomplete","list"),this._elements.input.setAttribute("aria-haspopup","true"),this._elements.input.setAttribute("aria-controls",this._elements.selectList.id),this._elements.trigger.setAttribute("aria-haspopup","true"),this._elements.trigger.setAttribute("aria-controls",this._elements.selectList.id);var e=document.createDocumentFragment();for(e.appendChild(this._elements.overlay),e.appendChild(this._elements.field),e.appendChild(this._elements.inputGroup),e.appendChild(this._elements.tagList),this._elements.overlay.target=this._elements.inputGroup;this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||n.hasAttribute&&!n.hasAttribute("handle")?e.appendChild(n):this.removeChild(n)}this.appendChild(e),this._setStateFromDOM(),this._initialSelectedValues=this.values.slice(0)}},{key:"items",get:function(){return this._items||(this._items=new jn({itemTagName:"coral-autocomplete-item",host:this})),this._items}},{key:"multiple",get:function(){return this._multiple||!1},set:function(e){this._multiple=An.booleanAttr(e),this._reflectAttribute("multiple",this._multiple),this._setName(this.name),this._multiple?this._elements.tagList.hidden=!1:(this._elements.tagList.hidden=!0,this._elements.tagList.items.clear()),this.labelledBy=this.labelledBy}},{key:"delay",get:function(){return"number"==typeof this._delay?this._delay:200},set:function(e){"number"==typeof(e=An.number(e))&&e>=0&&(this._delay=An.number(e))}},{key:"forceSelection",get:function(){return this._forceSelection||!1},set:function(e){this._forceSelection=An.booleanAttr(e),this._reflectAttribute("forceselection",this._forceSelection)}},{key:"placeholder",get:function(){return this._elements.input.placeholder},set:function(e){this._elements.input.placeholder=e,this._reflectAttribute("placeholder",this.placeholder)}},{key:"maxLength",get:function(){return this._elements.input.maxLength},set:function(e){this._elements.input.maxLength=e,this._reflectAttribute("maxlength",this._elements.input.maxLength)}},{key:"icon",get:function(){return this._elements.icon.icon},set:function(e){this._elements.icon.icon=e,this._elements.icon.hidden=!this._elements.icon.icon}},{key:"match",get:function(){return this._match||aa.CONTAINS},set:function(e){"function"==typeof e?(this._match=e,this._matchFunction=e):(e=An.string(e).toLowerCase(),this._match=En.enumeration(aa)(e)&&e||aa.CONTAINS,this._match===aa.STARTSWITH?this._matchFunction=this._optionStartsWithValue:this._match===aa.CONTAINS&&(this._matchFunction=this._optionContainsValue))}},{key:"loading",get:function(){return this._loading||!1},set:function(e){this._loading=An.booleanAttr(e);var t=this._elements.loadIndicator;if(this._loading){var n=this._elements.overlay,i=n.scrollTop>=n.scrollHeight-n.clientHeight;t||(t=this._elements.loadIndicator=oa.call(this._elements).firstChild),this._elements.overlay.appendChild(t),i&&(n.scrollTop=n.scrollHeight)}else t&&t.parentNode&&this._elements.overlay.removeChild(t)}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getAllSelected()[0]||null}},{key:"value",get:function(){var e=this.values;return e&&e.length>0?e[0]:""},set:function(e){this.values=[An.string(e)]}},{key:"values",get:function(){return this._values},set:function(e){if(void 0!==e&&null!==e||(e=[]),Array.isArray(e)){1===e.length&&""===e[0]&&(e=[]);var t=void 0,n=void 0,i=[];if(this.forceSelection)for(t=0;t<e.length;t++)n=e[t],void 0!==this._optionsMap[n]&&i.push(n);else for(t=0;t<e.length;t++)n=e[t],i.push(n);if(this.multiple)for(this._clearValues(),t=0;t<i.length;t++)n=i[t],this._selectItem(n),this._addValue(n,null,!0);else this._values=i.length>0?[i[0]]:[],this._reflectCurrentValue()}}},{key:"name",get:function(){return this._getName()},set:function(e){this._reflectAttribute("name",e),this._setName(e)}},{key:"invalid",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",e,this),this.classList.toggle("is-invalid",this.invalid),this._elements.input.classList.toggle("is-invalid",this.invalid)}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled,this._elements.trigger.disabled=this._disabled||this.readOnly,this._elements.tagList.disabled=this._disabled||this.readOnly}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly),this._elements.input.readOnly=this._readOnly,this._elements.trigger.disabled=this._readOnly||this.disabled}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.input.required=this._required}},{key:"labelledBy",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this),
this.labelledBy&&this.multiple?this._elements.tagList.setAttribute("aria-labelledby",this.labelledBy):this._elements.tagList.removeAttribute("aria-labelledby")}}],[{key:"match",get:function(){return aa}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["multiple","delay","forceselection","forceSelection","placeholder","maxlength","maxLength","icon","match","loading"])}}]),t}(yo(Pn(HTMLElement)));Yt.extend(en,{"coralui-component-autocomplete":go}),window.customElements.define("coral-autocomplete-item",Fo),window.customElements.define("coral-autocomplete",ra),window.Coral=window.Coral||{},window.Coral.Autocomplete=ra,window.Coral.Autocomplete.Item=Fo;var sa=function(e){var t=this.nativeSelect=document.createElement("select");return t.className+=" coral3-ButtonGroup-select",t.setAttribute("tabindex","-1"),t.setAttribute("handle","nativeSelect"),t},la={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"},ca=function(e){var t=e.getAttribute("value");return null!==t?t:e.textContent.replace(/\s{2,}/g," ").trim()},ua=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={},sa.call(e._elements),e._initalSelectedValues=[],e._delegateEvents(Yt.extend(e._events,{'click button[is="coral-button"]':"_onButtonClick",'capture:focus button[is="coral-button"]':"_onButtonFocus",'capture:blur button[is="coral-button"]':"_onButtonBlur",'key:up button[is="coral-button"]':"_onButtonKeyUpLeft",'key:left button[is="coral-button"]':"_onButtonKeyUpLeft",'key:down button[is="coral-button"]':"_onButtonKeyDownRight",'key:right button[is="coral-button"]':"_onButtonKeyDownRight",'key:home button[is="coral-button"]':"_onButtonKeyHome",'key:end button[is="coral-button"]':"_onButtonKeyEnd",'coral-button:_valuechanged button[is="coral-button"]':"_onButtonValueChanged",'coral-button:_selectedchanged button[is="coral-button"]':"_onButtonSelectedChanged"})),e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"reset",value:function(){this.values=this._initalSelectedValues}},{key:"_onButtonClick",value:function(e){var t=e.matchedTarget;if(this._onButtonFocus(e),this.readOnly)return e.preventDefault(),void e.stopImmediatePropagation();if(this.selectionMode===la.SINGLE){e.preventDefault();var n=this.items._getAllSelected();0!==n.length&&n[0]!==t&&this._toggleItemSelection(n[0],!1),this._toggleItemSelection(t,!0),n[0]!==t&&this.trigger("change")}else this.selectionMode===la.MULTIPLE&&(e.preventDefault(),this._toggleItemSelection(t),this.trigger("change"))}},{key:"_onButtonFocus",value:function(e){for(var t=e.matchedTarget,n=this.items.getAll(),i=n.length,o=void 0,a=0;a<i;a++)o=n[a],o.setAttribute("tabindex",o===t?0:-1)}},{key:"_onButtonBlur",value:function(e){for(var t=e.matchedTarget,n=this.items.getAll(),i=n.length,o=void 0,a=void 0,r=this.selectedItems.length,s=this.items._getFirstSelectable(),l=!1,c=0;c<i;c++)o=n[c],l=o.hasAttribute("selected"),a=this.selectionMode===la.SINGLE?l?0:-1:this.selectionMode===la.MULTIPLE?!r&&0===c||l&&o===t||!t.hasAttribute("selected")&&o===(this.selectedItems[r-1]||s)?0:-1:o===s?0:-1,o.setAttribute("tabindex",a)}},{key:"_onButtonKeyUpLeft",value:function(e){e.preventDefault();for(var t=e.matchedTarget,n=t.previousElementSibling;!n||n.disabled||"BUTTON"!==n.nodeName;)n=n?n.previousElementSibling:this.items._getLastSelectable();n!==t&&(this.selectionMode===la.SINGLE&&n.click(),this._setFocusToButton(n))}},{key:"_onButtonKeyDownRight",value:function(e){e.preventDefault();for(var t=e.matchedTarget,n=t.nextElementSibling;!n||n.disabled||"BUTTON"!==n.nodeName;)n=n?n.nextElementSibling:this.items._getFirstSelectable();n!==t&&(this.selectionMode===la.SINGLE&&n.click(),this._setFocusToButton(n))}},{key:"_onButtonKeyHome",value:function(e){e.preventDefault();var t=e.matchedTarget,n=this.items._getFirstSelectable();n!==t&&(this.selectionMode===la.SINGLE&&n.click(),this._setFocusToButton(n))}},{key:"_onButtonKeyEnd",value:function(e){e.preventDefault();var t=e.matchedTarget,n=this.items._getLastSelectable();n!==t&&(this.selectionMode===la.SINGLE&&n.click(),this._setFocusToButton(n))}},{key:"_setFocusToButton",value:function(e){e&&e.focus()}},{key:"_onItemAdded",value:function(e){if(e.classList.add("coral3-ButtonGroup-item"),this.selectionMode!==la.NONE?(this.selectionMode===la.SINGLE?(e.setAttribute("role","radio"),e.setAttribute("tabindex",e.hasAttribute("selected")?0:-1)):e.setAttribute("role","checkbox"),e.setAttribute("aria-checked",e.hasAttribute("selected"))):e.removeAttribute("role"),e.disabled=this.disabled||this.readOnly&&!e.hasAttribute("selected"),this.readOnly?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this._addItemOption(e),this.selectionMode===la.SINGLE){this.items._getAllSelected().length>1&&e.hasAttribute("selected")&&e.removeAttribute("selected")}}},{key:"_onItemRemoved",value:function(e){e.classList.remove("coral3-ButtonGroup-item"),e.removeAttribute("role");var t=this;if(!e.parentNode){var n=t._initalSelectedValues.indexOf(e.value);-1!==n&&t._initalSelectedValues.splice(n,1)}e.option&&(e.option.parentNode.removeChild(e.option),e.option=void 0)}},{key:"_onCollectionChange",value:function(){this._validateSelection()}},{key:"_onButtonSelectedChanged",value:function(e){e.stopImmediatePropagation();var t=e.target,n=t.hasAttribute("selected");this.selectionMode===la.SINGLE?this._validateSelection(n?t:null):this._toggleItemSelection(t,n)}},{key:"_onButtonValueChanged",value:function(e){e.stopImmediatePropagation();var t=e.target;this.selectionMode!==la.NONE&&(t.option.value=ca(t))}},{key:"_toggleItemSelection",value:function(e,t){var n=e.getAttribute("aria-checked"),i=e.getAttribute("tabindex");t=void 0!==t?t:!e.hasAttribute("selected"),t?(e.hasAttribute("selected")||e.setAttribute("selected",""),"true"!==n&&e.setAttribute("aria-checked",!0),this.selectionMode===la.SINGLE&&"0"!==i&&e.setAttribute("tabindex",0)):t||(e.hasAttribute("selected")&&e.removeAttribute("selected"),this.selectionMode!==la.NONE?("false"!==n&&e.setAttribute("aria-checked",!1),this.selectionMode===la.SINGLE&&"-1"!==i&&e.setAttribute("tabindex",-1)):(e.removeAttribute("aria-checked"),e.removeAttribute("tabindex"))),e.option&&(e.option.selected=t)}},{key:"_selectItemByValue",value:function(e){for(var t=this.items.getAll(),n=void 0,i=0,o=t.length;i<o;i++)n=t[i],this._toggleItemSelection(n,-1!==e.indexOf(ca(n)))}},{key:"_setInitialValues",value:function(){if(this.selectionMode!==la.NONE)for(var e=this.selectedItems,t=0,n=e.length;t<n;t++)this._initalSelectedValues.push(e[t].value),this._addItemOption(e[t])}},{key:"_addItemOption",value:function(e){if(this.selectionMode!==la.NONE&&!e.option){var t=document.createElement("option");t.value=ca(e),e.hasAttribute("selected")&&t.setAttribute("selected",""),e.option=t,this._elements.nativeSelect.add(t),this._toggleItemSelection(e,e.hasAttribute("selected"))}}},{key:"_removeItemOptions",value:function(){for(var e=this.items.getAll(),t=void 0,n=0,i=e.length;n<i;n++)t=e[n],t.removeAttribute("role"),t.removeAttribute("aria-checked"),t.hasAttribute("selected")&&this._toggleItemSelection(t,!1),t.option&&(t.option.parentNode.removeChild(t.option),delete t.option)}},{key:"_syncItemOptions",value:function(){var e=this.items.getAll(),t=e.length,n=0,i=null;this.selectionMode===la.SINGLE?i="radio":this.selectionMode===la.MULTIPLE&&(i="checkbox");var o=void 0,a=!1;for(n;n<t;n++)this._addItemOption(e[n]);for(n=t-1;n>=0;n--)o=e[n],a=o.hasAttribute("selected"),o.option.selected=a,o.setAttribute("aria-checked",a),i?o.setAttribute("role",i):o.removeAttribute("role")}},{key:"_validateSelection",value:function(e){if(this.selectionMode===la.SINGLE){var t=this.items._getAllSelected(),n=t.length;if(0===n){var i=this.items._getFirstSelectable();i&&this._toggleItemSelection(i,!0)}else if(n>1){e=e||t[0],this._toggleItemSelection(e,!0);for(var o=0;o<n;o++)t[o]!==e&&this._toggleItemSelection(t[o],!1)}}}},{key:"_getLabellableElement",value:function(){return this}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ButtonGroup"),this._selectionMode||(this.selectionMode=la.NONE);var e=document.createDocumentFragment();for(e.appendChild(this._elements.nativeSelect);this.firstChild;){var n=this.firstChild;n.nodeType===Node.TEXT_NODE||"nativeSelect"!==n.getAttribute("handle")?e.appendChild(n):this.removeChild(n)}this.appendChild(e),this._setInitialValues(),this.items._startHandlingItems()}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemBaseTagName:"button",itemTagName:"coral-button",itemSelector:'button[is="coral-button"]',onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange})),this._items}},{key:"selectionMode",get:function(){return this._selectionMode||la.NONE},set:function(e){e=An.string(e).toLowerCase(),this._selectionMode=En.enumeration(la)(e)&&e||la.NONE,this._reflectAttribute("selectionmode",this._selectionMode),this._elements.nativeSelect.multiple=this._selectionMode===la.MULTIPLE,this._selectionMode===la.SINGLE?(this.setAttribute("role","radiogroup"),this._syncItemOptions(),this._validateSelection()):this._selectionMode===la.MULTIPLE?(this.setAttribute("role","group"),this._syncItemOptions()):(this.setAttribute("role","group"),this._removeItemOptions())}},{key:"name",get:function(){return this._elements.nativeSelect.name},set:function(e){this._reflectAttribute("name",e),this._elements.nativeSelect.name=e}},{key:"value",get:function(){return this._elements.nativeSelect.value},set:function(e){this.selectionMode!==la.NONE&&this._selectItemByValue([e])}},{key:"selectedItems",get:function(){if(this.selectionMode===la.MULTIPLE)return this.items._getAllSelected();var e=this.selectedItem;return e?[e]:[]}},{key:"selectedItem",get:function(){return this.selectionMode===la.MULTIPLE?this.items._getFirstSelected():this.items._getLastSelected()}},{key:"values",get:function(){for(var e=[],t=this._elements.nativeSelect.querySelectorAll(":checked"),n=0,i=t.length;n<i;n++)e.push(t[n].value);return e},set:function(e){Array.isArray(e)&&this.selectionMode!==la.NONE&&(this.selectionMode!==la.MULTIPLE&&e.length>1&&(e=[e[0]]),this._selectItemByValue(e))}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled);var t=this.disabled||this.readOnly;this._elements.nativeSelect.disabled=t,this.items.getAll().forEach(function(e){e.disabled=t}),this.setAttribute("aria-disabled",t)}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly);var t=this;this._elements.nativeSelect.disabled=this.readOnly||this.disabled,this.items.getAll().forEach(function(e){e.disabled=t.disabled||t.readOnly&&!e.hasAttribute("selected"),t.readOnly?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled")}),this.removeAttribute("aria-readonly")}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this._elements.nativeSelect.required=this.required,this.selectionMode!==la.SINGLE&&this.removeAttribute("aria-required")}},{key:"labelledBy",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this),this._elements.nativeSelect.setAttribute("aria-labelledby",this.labelledBy)}}],[{key:"selectionMode",get:function(){return la}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["selectionmode","selectionMode"])}}]),t}(yo(Pn(HTMLElement)));window.customElements.define("coral-buttongroup",ua),window.Coral=window.Coral||{},window.Coral.ButtonGroup=ua;var da={"en-US":{Previous:"Previous",Next:"Next","Today, {0} selected/[translation hint:date]":"Today, {0} selected","Today, {0}/[translation hint:date]":"Today, {0}","{0} selected/[translation hint:date]":"{0} selected"},"fr-FR":{Previous:"Précédent",Next:"Suivant","Today, {0} selected/[translation hint:date]":"Aujourd’hui, sélection de {0}","Today, {0}/[translation hint:date]":"Aujourd’hui, {0}","{0} selected/[translation hint:date]":"Sélection de {0}"},"de-DE":{Previous:"Zurück",Next:"Weiter","Today, {0} selected/[translation hint:date]":"Heute, {0} ausgewählt","Today, {0}/[translation hint:date]":"Heute, {0}","{0} selected/[translation hint:date]":"{0} ausgewählt"},"it-IT":{Previous:"Precedente",Next:"Successivo","Today, {0} selected/[translation hint:date]":"Oggi, {0} selezionati","Today, {0}/[translation hint:date]":"Oggi, {0}","{0} selected/[translation hint:date]":"{0} selezionati"},"es-ES":{Previous:"Anterior",Next:"Siguiente","Today, {0} selected/[translation hint:date]":"Hoy, {0} seleccionados","Today, {0}/[translation hint:date]":"Hoy, {0}","{0} selected/[translation hint:date]":"{0} seleccionados"},"pt-BR":{Previous:"Anterior",Next:"Próximo","Today, {0} selected/[translation hint:date]":"Hoje, {0} selecionados","Today, {0}/[translation hint:date]":"Hoje, {0}","{0} selected/[translation hint:date]":"{0} selecionados"},"ja-JP":{Previous:"前へ",Next:"次へ","Today, {0} selected/[translation hint:date]":"今日、{0} が選択されました","Today, {0}/[translation hint:date]":"今日、{0}","{0} selected/[translation hint:date]":"{0} が選択されました"},"ko-KR":{Previous:"이전으로",Next:"다음","Today, {0} selected/[translation hint:date]":"현재 {0}이(가) 선택됨","Today, {0}/[translation hint:date]":"현재 {0}","{0} selected/[translation hint:date]":"{0}이(가) 선택됨"},"zh-CN":{Previous:"上一步",Next:"下一步","Today, {0} selected/[translation hint:date]":"已选定今天 {0}","Today, {0}/[translation hint:date]":"今天 {0}","{0} selected/[translation hint:date]":"已选定 {0}"},"zh-TW":{Previous:"上一頁",Next:"下一頁","Today, {0} selected/[translation hint:date]":"今天，已選取 {0}","Today, {0}/[translation hint:date]":"今天，{0}","{0} selected/[translation hint:date]":"已選取 {0} "},"nl-NL":{Previous:"Vorige",Next:"Volgende","Today, {0} selected/[translation hint:date]":"Vandaag {0} geselecteerd","Today, {0}/[translation hint:date]":"Vandaag {0} ","{0} selected/[translation hint:date]":"{0} geselecteerd"},"da-DK":{Previous:"Foregående",Next:"Næste","Today, {0} selected/[translation hint:date]":"I dag, {0} valgt","Today, {0}/[translation hint:date]":"I dag, {0} ","{0} selected/[translation hint:date]":"{0} valgt"},"fi-FI":{Previous:"Edellinen",Next:"Seuraava","Today, {0} selected/[translation hint:date]":"Tänään, {0} valittu","Today, {0}/[translation hint:date]":"Tänään, {0}","{0} selected/[translation hint:date]":"{0} valittu"},"nb-NO":{Previous:"Forrige",Next:"Neste","Today, {0} selected/[translation hint:date]":"I dag, {0} valgt","Today, {0}/[translation hint:date]":"I dag, {0}","{0} selected/[translation hint:date]":"{0} valgt"},"sv-SE":{Previous:"Föregående",Next:"Nästa","Today, {0} selected/[translation hint:date]":"Idag, {0} vald","Today, {0}/[translation hint:date]":"Idag, {0}","{0} selected/[translation hint:date]":"{0} vald"},"cs-CZ":{Previous:"Předchozí",Next:"Další","Today, {0} selected/[translation hint:date]":"Dnes je vybráno: {0}","Today, {0}/[translation hint:date]":"Dnes, {0}","{0} selected/[translation hint:date]":"Vybráno: {0}"},"pl-PL":{Previous:"Wstecz",Next:"Dalej","Today, {0} selected/[translation hint:date]":"Dziś, wybrano {0}","Today, {0}/[translation hint:date]":"Dziś, {0}","{0} selected/[translation hint:date]":"wybrano {0}"},"ru-RU":{Previous:"Предыдущий",Next:"Следующий","Today, {0} selected/[translation hint:date]":"Сегодня, {0}, выбрано","Today, {0}/[translation hint:date]":"Сегодня, {0}","{0} selected/[translation hint:date]":"{0} выбрано"},"tr-TR":{Previous:"Önceki",Next:"İleri","Today, {0} selected/[translation hint:date]":"Bugün, {0} seçildi","Today, {0}/[translation hint:date]":"Bugün, {0}","{0} selected/[translation hint:date]":"{0} seçildi"}},ha={},pa=function(e){var t=e.toString();return 1===t.length?"0"+t:t},ma=document.documentElement.lang||window.navigator.language||"en-US",_a=function(e,t,n){var i="";try{var o=""+JSON.stringify(t)+JSON.stringify(n);ha[o]||(ha[o]=new window.Intl.DateTimeFormat(t,n)),i=ha[o].format(e)}catch(e){console.warn(e.message)}return i},fa=function(){function e(t){if(Pt(this,e),t instanceof this.constructor)this._locale=t._locale,this._value=t._value,this._date=t._date;else if(this._locale=ma,this._value=t,Array.isArray(t))this._date=t.length?new Date(t[0],t[1]||0,t[2]||1):new Date;else if("string"==typeof t){var n=2===t.indexOf(":");if(n){var i=t.split(":"),o=parseInt(i[0],10),a=parseInt(i[1],10);o>=0&&o<=23&&a>=0&&a<=59?(this._date=new Date,this._date.setHours(i[0]),this._date.setMinutes(i[1])):this._date=new Date("Invalid Date")}else this._date=new Date(this._value.replace(/-/g,"/").replace(/T.+/,""))}else null===this._value?this._date=new Date("Invalid Date"):this._date=this._value?new Date(this._value):new Date}return Ft(e,[{key:"locale",value:function(e){return e&&(this._locale=e),this._locale}},{key:"toDate",value:function(){return this._date}},{key:"clone",value:function(){var e=new this.constructor(this._value);return e._date=this._date,e}},{key:"format",value:function(e){var t="";if(e||(e="YYYY-MM-DD"),"YYYY-MM-DD"===e)t+=this._date.getFullYear(),t+="-",t+=pa(this._date.getMonth()+1),t+="-",t+=pa(this._date.getDate());else if("MMMM YYYY"===e)t+=_a(this._date,this._locale,{month:"long"}),t+=" ",t+=this._date.getFullYear();else if("LL"===e)t+=_a(this._date,this._locale,{month:"long",year:"numeric",day:"2-digit"});else if("dd"===e)t+=_a(this._date,this._locale,{weekday:"short"});else if("dddd"===e)t+=_a(this._date,this._locale,{weekday:"long"});else if("HH:mm"===e)t+=pa(this._date.getHours()),t+=":",t+=pa(this._date.getMinutes());else if("HH"===e)t+=pa(this._date.getHours());else if("mm"===e)t+=pa(this._date.getMinutes());else if("YYYY-MM-DD[T]HH:mmZ"===e){t+=this._date.getFullYear(),t+="-",t+=pa(this._date.getMonth()+1),t+="-",t+=pa(this._date.getDate()),t+="T",t+=pa(this._date.getHours()),t+=":",t+=pa(this._date.getMinutes());var n=this._date.getTimezoneOffset()/60*-1,i=Math.abs(n);i=i<10?"0"+i:i.toString(),t+=n<0?"-"+i+":00":"+"+i+":00"}else e="object"===(void 0===e?"undefined":Dt(e))?e:{},t=_a(this._date,this._locale,e);return t}},{key:"year",value:function(){return this._date.getFullYear()}},{key:"month",value:function(){return this._date.getMonth()}},{key:"week",value:function(){var e=new Date(Date.UTC(this._date.getFullYear(),this._date.getMonth(),this._date.getDate())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);var n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-n)/864e5+1)/7)}},{key:"day",value:function(e){return"number"==typeof e?(this._date.setDate(this._date.getDate()-(this._date.getDay()||7)+e),this):this._date.getDay()}},{key:"hours",value:function(e){return"number"==typeof e?(this._date.setHours(e),this):this._date.getHours()}},{key:"minutes",value:function(e){return"number"==typeof e?(this._date.setMinutes(e),this):this._date.getMinutes()}},{key:"date",value:function(){return this._date.getDate()}},{key:"add",value:function(e,t){return 0===t.indexOf("month")?this._date.setMonth(this._date.getMonth()+e):"days"===t&&this._date.setDate(this._date.getDate()+e),this}},{key:"subtract",value:function(e,t){return 0===t.indexOf("month")?this._date.setMonth(this._date.getMonth()-e):"days"===t&&this._date.setDate(this._date.getDate()-e),this}},{key:"diff",value:function(e){return(this._date.getTime()-e._date.getTime())/864e5}},{key:"startOf",value:function(e){return"day"===e?this._date=new Date(this._date.getFullYear(),this._date.getMonth(),this._date.getDate()):"month"===e?this._date=new Date(this._date.getFullYear(),this._date.getMonth(),1):"year"===e&&(this._date=new Date((new Date).getFullYear(),0,1)),this}},{key:"isBefore",value:function(e){var t=e&&e._date;return!!t&&t>this._date}},{key:"isAfter",value:function(e){var t=e&&e._date;return!!t&&t<this._date}},{key:"isSame",value:function(e,t){return"hour"===t?e&&e.clone()._date.getHours()===this.clone()._date.getHours():"minute"===t?e&&e.clone()._date.getMinutes()===this.clone()._date.getMinutes():"day"===t?e&&e.clone().startOf("day")._date.getTime()===this.clone().startOf("day")._date.getTime():e&&e.clone()._date.getTime()===this.clone()._date.getTime()}},{key:"isValid",value:function(){return"Invalid Date"!==this._date.toString()}}],[{key:"localeData",value:function(){return{}}},{key:"locale",value:function(e){return e&&(ma=e),ma}},{key:"isMoment",value:function(e){return e instanceof this}},{key:"Moment",get:function(){return window.moment||this}}]),e}();window.Coral=window.Coral||{},window.Coral.DateTime=fa,void 0!==window.moment&&window.moment.locale(document.documentElement.lang||window.navigator.language||"en");var va=function(e){var t=document.createDocumentFragment(),n=this.input=document.createElement("input");n.setAttribute("handle","input"),n.setAttribute("type","hidden"),n.setAttribute("name",""),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.header=document.createElement("div");o.setAttribute("handle","header"),o.className+=" coral3-Calendar-calendarHeader";var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.heading=document.createElement("div");r.setAttribute("handle","heading"),r.className+=" coral-Heading coral-Heading--2",r.id=Coral.commons.getUID(),r.setAttribute("role","heading"),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true"),o.appendChild(r);var s=document.createTextNode("\n  ");o.appendChild(s);var l=this.prev=document.createElement("button","coral-button");l.setAttribute("type","button"),l.setAttribute("handle","prev"),l.className+=" coral3-Calendar-prevMonth",l.setAttribute("is","coral-button"),l.setAttribute("variant","minimal"),l.setAttribute("icon","chevronLeft"),l.setAttribute("iconsize","XS"),l.setAttribute("aria-label",Coral.i18n.get("Previous")),l.setAttribute("title",Coral.i18n.get("Previous")),o.appendChild(l);var c=document.createTextNode("\n  ");o.appendChild(c);var u=this.next=document.createElement("button","coral-button");u.setAttribute("type","button"),u.setAttribute("handle","next"),u.className+=" coral3-Calendar-nextMonth",u.setAttribute("is","coral-button"),u.setAttribute("variant","minimal"),u.setAttribute("icon","chevronRight"),u.setAttribute("iconsize","XS"),u.setAttribute("aria-label",Coral.i18n.get("Next")),u.setAttribute("title",Coral.i18n.get("Next")),o.appendChild(u);var d=document.createTextNode("\n");o.appendChild(d),t.appendChild(o);var h=document.createTextNode("\n");t.appendChild(h);var p=this.body=document.createElement("div");p.className+=" coral3-Calendar-calendarBody",p.setAttribute("handle","body"),p.setAttribute("role","grid"),p.setAttribute("tabindex","0"),p.setAttribute("aria-readonly","true"),t.appendChild(p);var m=document.createTextNode("\n");return t.appendChild(m),t},ga=function(e){var t=this.container=document.createElement("div");return t.className+=" coral3-DatePicker-calendarSlidingContainer",t.setAttribute("handle","container"),t.setAttribute("style","width: "+e.width+"px; height: "+e.height+"px;"),t},ba=function(e){var t=e=void 0===e?{}:e,n=this.table=document.createElement("table");n.setAttribute("handle","table"),n.setAttribute("role","presentation");var i=document.createTextNode("\n  ");n.appendChild(i);var o=document.createElement("thead");o.setAttribute("role","presentation");var a=document.createTextNode("\n    ");o.appendChild(a);var r=document.createElement("tr");r.setAttribute("role","row");var s=document.createTextNode("\n      ");r.appendChild(s);for(var l=e.dayNames,c=0,u=l.length;c<u;c++){var d=t=l[c],h=document.createTextNode("\n        ");r.appendChild(h);var p=document.createElement("th");p.setAttribute("role","columnheader"),p.setAttribute("scope","col");var m=document.createTextNode("\n          ");p.appendChild(m);var _=document.createElement("abbr");_.className+=" coral3-Calendar-dayOfWeek",_.setAttribute("title",d.dayFullName),_.textContent=d.dayAbbr,p.appendChild(_);var f=document.createTextNode("\n        ");p.appendChild(f),r.appendChild(p);var v=document.createTextNode("\n      ");r.appendChild(v)}var g=document.createTextNode("\n    ");r.appendChild(g),o.appendChild(r);var b=document.createTextNode("\n  ");o.appendChild(b),n.appendChild(o);var y=document.createTextNode("\n  ");n.appendChild(y);var C=document.createElement("tbody");C.setAttribute("role","presentation");var k=document.createTextNode("\n    ");C.appendChild(k);for(var l=e.weeks,c=0,u=l.length;c<u;c++){var d=t=l[c],A=document.createTextNode("\n      ");C.appendChild(A);var w=document.createElement("tr");w.setAttribute("role","row");var E=document.createTextNode("\n        ");w.appendChild(E);for(var T=d,S=0,x=T.length;S<x;S++){var L=t=T[S],O=document.createTextNode("\n          ");w.appendChild(O),t=L;var I,N=t.dateLabel+", "+t.formattedDate;I=t.isToday?t.ariaSelected?Coral.i18n.get("Today, {0} selected",N,"date"):Coral.i18n.get("Today, {0}",N,"date"):t.ariaSelected?Coral.i18n.get("{0} selected",N,"date"):I=N,L=t;var M=document.createTextNode("\n          ");w.appendChild(M);var D=document.createElement("td");D.setAttribute("role","gridcell"),D.id=Coral.commons.getUID()+"-row"+c+"-col"+S,D.className+=" "+L.cssClass,D.setAttribute("aria-selected",L.ariaSelected),L.isDisabled&&D.setAttribute("aria-disabled","true"),L.ariaInvalid&&D.setAttribute("aria-invalid","true"),L.formattedDate&&D.setAttribute("title",I);var P=document.createTextNode("\n            ");if(D.appendChild(P),L.dateAttr){var F=document.createTextNode("\n                ");D.appendChild(F);var H=document.createElement("a");H.setAttribute("role","presentation"),H.className+=" coral3-Calendar-date",H.setAttribute("data-date",L.dateAttr),H.textContent=L.dateText,D.appendChild(H);var B=document.createTextNode("\n              ");D.appendChild(B)}else{var R=document.createTextNode("\n                ");D.appendChild(R);var j=document.createElement("span");j.setAttribute("role","presentation"),j.className+=" coral3-Calendar-secondaryDate",j.textContent=L.dateText,D.appendChild(j);var q=document.createTextNode("\n            ");D.appendChild(q)}var z=document.createTextNode("\n          ");D.appendChild(z),w.appendChild(D);var U=document.createTextNode("\n        ");w.appendChild(U)}var V=document.createTextNode("\n      ");w.appendChild(V),C.appendChild(w);var K=document.createTextNode("\n    ");C.appendChild(K)}var Z=document.createTextNode("\n  ");C.appendChild(Z),n.appendChild(C);var W=document.createTextNode("\n  ");n.appendChild(W);var G=document.createElement("caption");G.className+=" u-coral-screenReaderOnly",G.setAttribute("aria-live","assertive"),G.setAttribute("aria-atomic","true"),n.appendChild(G);var X=document.createTextNode("\n");return n.appendChild(X),n},ya=[0,0,0,0,0,0],Ca=[0,0,0,0,0,0,0],ka={YEAR:"year",MONTH:"month",WEEK:"week",DAY:"day"},Aa=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._value=null,e._delegateEvents(Yt.extend(e._events,{"click .coral3-Calendar-nextMonth,.coral3-Calendar-prevMonth":"_onNextOrPreviousMonthClick","click .coral3-Calendar-calendarBody .coral3-Calendar-date":"_onDayClick","mousedown .coral3-Calendar-calendarBody .coral3-Calendar-date":"_onDayMouseDown","key:up .coral3-Calendar-calendarBody":"_onUpKey","key:right .coral3-Calendar-calendarBody":"_onRightKey","key:down .coral3-Calendar-calendarBody":"_onDownKey","key:left .coral3-Calendar-calendarBody":"_onLeftKey","key:home .coral3-Calendar-calendarBody":"_onHomeOrEndKey","key:end .coral3-Calendar-calendarBody":"_onHomeOrEndKey","key:pageup":"_onPageUpKey","key:pagedown":"_onPageDownKey","key:meta+pageup":"_onCtrlPageUpKey","key:meta+pagedown":"_onCtrlPageDownKey","key:ctrl+pageup":"_onCtrlPageUpKey","key:ctrl+pagedown":"_onCtrlPageDownKey","key:enter .coral3-Calendar-calendarBody":"_onEnterKey","key:space .coral3-Calendar-calendarBody":"_onEnterKey"})),e._elements={},va.call(e._elements),e._cursor=null,e._activeDescendant=null,e._animator=new De(e._elements.body),e}return Bt(t,e),Ft(t,[{key:"_renderCalendar",value:function(e){var t=this._requireCursor(),n=t.year(),i=t.month(),o=this._animator.oldTable;this._elements.heading.innerHTML=new fa.Moment([n,i,1]).format(this.headerFormat);var a=this._renderTable(n,i+1);if(o){var r=this;Yt.transitionEnd(a,function(){r._setActiveDescendant()})}this._animator.slide(a,e);var s=this._elements.body.querySelector(".is-selected");this._activeDescendant=s?s.id:null,this._setActiveDescendant()}},{key:"_isBeforeMin",value:function(e){var t=this.min?new fa.Moment(this.min):null;return t&&e.isBefore(t)}},{key:"_isAfterMax",value:function(e){var t=this.max?new fa.Moment(this.max):null;return t&&e.isAfter(t)}},{key:"_isInRange",value:function(e){return!(this._isBeforeMin(e)||this._isAfterMax(e))}},{key:"_setActiveDescendant",value:function(){var e=void 0;if(!this._activeDescendant||!this._elements.body.querySelector("#"+this._activeDescendant+" [data-date]")){this._activeDescendant=null,e=this._elements.body.querySelector(".is-selected");var t=e?e.id:null;e=this._elements.body.querySelector(".is-today");var n=e?e.id:null;if(this._activeDescendant=t||n,!this._activeDescendant||!this._elements.body.querySelector("#"+this._activeDescendant+" [data-date]")){var i=this._value;if(i){var o=this._elements.body.querySelectorAll("[data-date]");o.length&&(this._isBeforeMin(i)?e=o[0]:this._isAfterMax(i)&&(e=o[o.length-1]))}e&&(this._activeDescendant=e.parentElement.id)}}e=this._elements.body.querySelector(".is-focused"),e&&e.classList.remove("is-focused"),this._elements.body.setAttribute("aria-activedescendant",this._activeDescendant),this._updateTableCaption(),this._activeDescendant&&(e=document.getElementById(this._activeDescendant))&&e.classList.add("is-focused")}},{key:"_updateTableCaption",value:function(){var e=this._elements.body.querySelector("caption");if(e&&(e.firstChild&&e.removeChild(e.firstChild),this._activeDescendant)){var t=this._elements.body.querySelector("#"+this._activeDescendant),n=document.createTextNode(t.getAttribute("title"));e.appendChild(n)}}},{key:"_renderTable",value:function(e,t){var n=this,i=new fa.Moment([e,t-1,1]),o=(i.day()-this.startDay)%7,a=this._value?this._value.clone().startOf("day"):null;o<0&&(o+=7);var r={dayNames:Ca.map(function(e,t){var i=(new fa.Moment).day((t+n.startDay)%7);return{dayAbbr:i.format("dd"),dayFullName:i.format("dddd")}},this),weeks:ya.map(function(i,r){return Ca.map(function(i,s){var l={},c=n.disabled?["is-disabled"]:[],u=!1,d=!1,h=7*r+s-o,p=new fa.Moment([e,t-1]);p.add(h,"days");var m=p.month()+1===parseFloat(t),_=(new fa.Moment).day((s+n.startDay)%7).format("dddd"),f=p.isSame(new fa.Moment,"day"),v=p.clone().startOf("day");return f&&c.push("is-today"),a&&v.isSame(a,"day")&&(u=!0,c.push("is-selected"),n.invalid&&(d=!0,c.push("is-invalid"))),m&&(c.push("is-currentMonth"),!n.disabled&&Ie(p,n.min,n.max)&&(l.dateAttr=v.format("YYYY-MM-DD"),l.weekIndex=p.week(),l.formattedDate=p.format("LL"))),l.isDisabled=n.disabled||!l.dateAttr,l.dateText=p.date(),l.cssClass=c.join(" "),l.isToday=f,l.ariaSelected=u,l.ariaInvalid=d,l.dateLabel=_,l.weekIndex=p.week(),l},n)},this)},s={};return ba.call(s,r),s.table}},{key:"_requireCursor",value:function(){var e=this._cursor;return e&&e.isValid()||(e=(this._value?this._value.clone().startOf("day"):new fa.Moment).startOf("month"),this._cursor=e),e}},{key:"_gotoPreviousOrNextTimeUnit",value:function(e,t){var n=t?"left":"right",i=t?"add":"subtract",o=this._elements.body.querySelector("td.is-focused .coral3-Calendar-date"),a=void 0,r=void 0,s=void 0,l=void 0;if(e!==ka.MONTH&&o)a=o.dataset.date,r=new fa.Moment(a),
s=r[i](1,e),this._isInRange(s)&&(l=Math.abs(new fa.Moment(a).diff(s,"days")),this._getToNewMoment(n,i,l),this._setActiveDescendant());else{if(this._requireCursor(),!this._isInRange(this._cursor))return this._isBeforeMin(this._cursor)?s=this.min:this._isAfterMax(this._cursor)&&(s=this.max),s=new fa.Moment(s),l=Math.abs(this._cursor.diff(s,"days")),this._getToNewMoment(n,i,l),void this._setActiveDescendant();this._cursor[i](1,e),this._renderCalendar(n)}}},{key:"_validateCalendar",value:function(){var e=!(null===this._value||Ie(this._value,this.min,this.max));this.invalid!==e&&(this.invalid=e)}},{key:"_onNextOrPreviousMonthClick",value:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(ka.MONTH,this._elements.next===e.matchedTarget),e.matchedTarget.focus(),this._validateCalendar()}},{key:"_getToNewMoment",value:function(e,t,n){var i=this._elements.body.querySelector("td.is-focused .coral3-Calendar-date"),o=void 0;i?o=i.dataset.date:(this._requireCursor(),o=this._cursor.format("YYYY-MM-DD"));var a=new fa.Moment(o),r=a.month(),s=a.year(),l=a[t](n,"days"),c=l.month(),u=l.year(),d=l.format("YYYY-MM-DD");c!==r?(this._requireCursor(),this._cursor[t](1,"months"),this._renderCalendar(e)):c===r&&u!==s&&(this._requireCursor(),this._cursor[t](1,"years"),this._renderCalendar(e));var h=".coral3-Calendar-date[data-date^="+JSON.stringify(d)+"]",p=this._elements.body.querySelector(h);p&&(this._activeDescendant=p.parentNode.getAttribute("id"))}},{key:"_onDayMouseDown",value:function(e){this._activeDescendant=e.target.parentNode.id,this._setActiveDescendant(),this._elements.body.focus(),this._validateCalendar()}},{key:"_onDayClick",value:function(e){e.preventDefault(),this._elements.body.focus();var t=new fa.Moment(e.target.dataset.date,"YYYY-MM-DD"),n=void 0;this._value&&(n=this._value.clone()),Me(t,n)&&(this.value=t,this.trigger("change")),this._validateCalendar()}},{key:"_onEnterKey",value:function(e){e.preventDefault();var t=this._elements.body.querySelector("td.is-focused .coral3-Calendar-date");t&&t.click(),this._validateCalendar()}},{key:"_onUpKey",value:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(ka.WEEK,!1),this._validateCalendar()}},{key:"_onDownKey",value:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(ka.WEEK,!0),this._validateCalendar()}},{key:"_onRightKey",value:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(ka.DAY,!0),this._validateCalendar()}},{key:"_onLeftKey",value:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(ka.DAY,!1),this._validateCalendar()}},{key:"_onHomeOrEndKey",value:function(e){e.preventDefault();var t=e.keyCode===yn.keyToCode("home"),n=t?"subtract":"add",i=this._elements.body.querySelector("td.is-focused .coral3-Calendar-date");if(i){var o=i.dataset.date,a=new fa.Moment(o),r=t?a.date()-1:a.daysInMonth()-a.date();this._getToNewMoment("",n,r),this._setActiveDescendant()}this._validateCalendar()}},{key:"_onPageDownKey",value:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(ka.MONTH,!0),this._validateCalendar()}},{key:"_onPageUpKey",value:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(ka.MONTH,!1),this._validateCalendar()}},{key:"_onCtrlPageDownKey",value:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(ka.YEAR,!0),this._validateCalendar()}},{key:"_onCtrlPageUpKey",value:function(e){e.preventDefault(),this._gotoPreviousOrNextTimeUnit(ka.YEAR,!1),this._validateCalendar()}},{key:"focus",value:function(){this.contains(document.activeElement)||this.disabled||(this._setActiveDescendant(),this._elements.body.focus())}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Calendar"),this.setAttribute("role","region"),this._valueFormat||(this.valueFormat="YYYY-MM-DD");var e=document.createDocumentFragment();for(e.appendChild(this._elements.input),e.appendChild(this._elements.header),e.appendChild(this._elements.body);this.firstChild;)this.removeChild(this.firstChild);this.appendChild(e),this._elements.body.firstElementChild||this._renderCalendar()}},{key:"startDay",get:function(){return this._startDay?this._startDay:void 0!==fa.Moment.localeData().firstDayOfWeek?fa.Moment.localeData(an.locale).firstDayOfWeek():0},set:function(e){e>=0&&e<7&&(this._startDay=e,this._renderCalendar())}},{key:"headerFormat",get:function(){return this._headerFormat||"MMMM YYYY"},set:function(e){this._headerFormat=An.string(e),this._renderCalendar()}},{key:"min",get:function(){return this._min?this._min.toDate():null},set:function(e){e=Ne(e,this.valueFormat),Me(e,this._min)&&(this._min=e,this._renderCalendar())}},{key:"max",get:function(){return this._max?this._max.toDate():null},set:function(e){e=Ne(e,this.valueFormat),Me(e,this._max)&&(this._max=e,this._renderCalendar())}},{key:"valueFormat",get:function(){return this._valueFormat||"YYYY-MM-DD"},set:function(e){var t=this;e=An.string(e);var n=function(e){t._valueFormat=e,t._reflectAttribute("valueformat",t._valueFormat)};!this._valueFormat&&this._originalValue?(n(e),this.value=this._originalValue):(n(e),this._elements.input.value=this.value)}},{key:"valueAsDate",get:function(){return this._value?this._value.toDate():null},set:function(e){e instanceof Date?(this._valueAsDate=new fa.Moment(e),this.value=this._valueAsDate):(this._valueAsDate=null,this.value="")}},{key:"value",get:function(){return this._value?this._value.format(this.valueFormat):""},set:function(e){this._originalValue=e,e=Ne(e,this.valueFormat),Me(e,this._value)&&(this._value=e,this._elements.input.value=this.value,this._cursor=null,this._renderCalendar(),this.required=this.required)}},{key:"name",get:function(){return this._elements.input.name},set:function(e){this._reflectAttribute("name",e),this._elements.input.name=e}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this.classList.toggle("is-required",this._required&&null===this._value)}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.prev.disabled=this._disabled,this._elements.next.disabled=this._disabled,this._elements.body.setAttribute("aria-disabled",this._disabled),this._elements.body[this._disabled?"removeAttribute":"setAttribute"]("tabindex","0"),this._renderCalendar()}},{key:"invalid",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",e,this),this._renderCalendar()}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly)}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["startday","startDay","headerformat","headerFormat","min","max","valueformat","valueFormat"])}}]),t}(yo(Pn(HTMLElement)));Yt.extend(en,{"coralui-component-calendar":da}),window.customElements.define("coral-calendar",Aa),window.Coral=window.Coral||{},window.Coral.Calendar=Aa;var wa=function(e){var t=document.createDocumentFragment(),n=this.wrapper=document.createElement("div");n.setAttribute("handle","wrapper"),n.className+=" coral3-Card-wrapper",t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},Ea=/^#[0-9A-F]{6}$/i,Ta={DEFAULT:"default",CONDENSED:"condensed",INVERTED:"inverted",ASSET:"asset"},Sa=[];for(var xa in Ta)Sa.push("coral3-Card--"+Ta[xa]);var La=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={asset:e.querySelector("coral-card-asset")||document.createElement("coral-card-asset"),content:e.querySelector("coral-card-content")||document.createElement("coral-card-content"),info:e.querySelector("coral-card-info")||document.createElement("coral-card-info"),overlay:e.querySelector("coral-card-overlay")||document.createElement("coral-card-overlay")},wa.call(e._elements),e._delegateEvents({"capture:load coral-card-asset img":"_onLoad"}),e}return Bt(t,e),Ft(t,[{key:"_onLoad",value:function(e){this._loaded=!0,this._elements.asset.style.height="",e.target.classList.remove("is-loading")}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Card"),this._variant||(this.variant=Ta.DEFAULT);for(var e=this._elements.content,n=this._elements.asset,i=n.querySelectorAll("img"),o=i.length,a=0;a<o;a++){var r=i[a];r.complete||r.classList.add("is-loading")}for(var s in this._contentZones){var l=this._elements[this._contentZones[s]];l.parentNode&&l.parentNode.removeChild(l)}for(;this.firstChild;){var c=this.firstChild;c.nodeType===Node.TEXT_NODE&&""!==c.textContent.trim()||c.nodeType===Node.ELEMENT_NODE&&"wrapper"!==c.getAttribute("handle")?e.appendChild(c):this.removeChild(c)}this.overlay=this._elements.overlay,this.content=e,this.info=this._elements.info,this.appendChild(this._elements.wrapper),this.asset=n}},{key:"asset",get:function(){return this._getContentZone(this._elements.asset)},set:function(e){this._setContentZone("asset",e,{handle:"asset",tagName:"coral-card-asset",insert:function(e){this.insertBefore(e,this.info||this._elements.wrapper||null)}})}},{key:"assetHeight",get:function(){return this._assetHeight||""},set:function(e){this._assetHeight=An.number(e);var t=this;window.requestAnimationFrame(function(){if(!t._loaded&&t._elements.asset&&t.assetWidth&&t._assetHeight){var e=t.getBoundingClientRect(),n=e.right-e.left,i=n/t.assetWidth;i>1?t._elements.asset.style.height=t._assetHeight+32+"px":t.variant!==Ta.CONDENSED&&t.variant!==Ta.INVERTED&&(t._elements.asset.style.height=i*t._assetHeight+"px")}})}},{key:"assetWidth",get:function(){return this._assetWidth||""},set:function(e){this._assetWidth=An.number(e)}},{key:"colorHint",get:function(){return this._colorHint||""},set:function(e){Ea.test(e)&&(this._colorHint=e,this._loaded||(this._elements.asset.style["background-color"]=this._colorHint))}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-card-content",insert:function(e){this._elements.wrapper.insertBefore(e,this.overlay||null)}})}},{key:"info",get:function(){return this._getContentZone(this._elements.info)},set:function(e){this._setContentZone("info",e,{handle:"info",tagName:"coral-card-info",insert:function(e){this.appendChild(e)}})}},{key:"fixedWidth",get:function(){return this._fixedWidth||!1},set:function(e){this._fixedWidth=An.booleanAttr(e),this._reflectAttribute("fixedwidth",this._fixedWidth),this.classList.toggle("coral3-Card--fixedWidth",this._fixedWidth)}},{key:"overlay",get:function(){return this._getContentZone(this._elements.overlay)},set:function(e){this._setContentZone("overlay",e,{handle:"overlay",tagName:"coral-card-overlay",insert:function(e){this._elements.wrapper.appendChild(e)}})}},{key:"stacked",get:function(){return this._stacked||!1},set:function(e){this._stacked=An.booleanAttr(e),this._reflectAttribute("stacked",this._stacked),this.classList.toggle("coral3-Card--stacked",this._stacked)}},{key:"variant",get:function(){return this._variant||Ta.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(Ta)(e)&&e||Ta.DEFAULT,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,Sa),this._variant!==Ta.DEFAULT&&this.classList.add("coral3-Card--"+this._variant),this.assetHeight=this.assetHeight}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-card-asset":"asset","coral-card-content":"content","coral-card-info":"info","coral-card-overlay":"overlay"}}}],[{key:"variant",get:function(){return Ta}},{key:"observedAttributes",get:function(){return["assetwidth","assetWidth","assetheight","assetHeight","colorhint","colorHint","fixedwidth","fixedWidth","variant","stacked"]}}]),t}(Pn(HTMLElement)),Oa=function(e){var t=document.createDocumentFragment(),n=this.icon=document.createElement("coral-icon");n.setAttribute("handle","icon"),n.setAttribute("size","XS"),n.className+=" coral3-Card-property-icon",t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},Ia=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-card-property-content")||document.createElement("coral-card-property-content")},Oa.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Card-property");var e=document.createDocumentFragment();this.icon&&e.appendChild(this._elements.icon);var n=this._elements.content;for(n.parentNode&&n.parentNode.removeChild(n);this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE&&"icon"!==i.getAttribute("handle")?n.appendChild(i):this.removeChild(i)}this.appendChild(e),this.content=n}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-card-property-content",insert:function(e){this.appendChild(e)}})}},{key:"icon",get:function(){return this._elements.icon.icon},set:function(e){this._elements.icon.icon=e,""===this.icon?this._elements.icon.remove():this._elements.icon.parentNode||this.insertBefore(this._elements.icon,this.firstChild)}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-card-property-content":"content"}}}],[{key:"observedAttributes",get:function(){return["icon"]}}]),t}(Pn(HTMLElement)),Na=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Card-title")}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}}]),t}(Pn(HTMLElement)),Ma=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Card-context")}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}}]),t}(Pn(HTMLElement)),Da=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Card-description")}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}}]),t}(Pn(HTMLElement)),Pa=function(){return document.createElement("coral-card-asset")},Fa=function(){return document.createElement("coral-card-overlay")},Ha=function(){return document.createElement("coral-card-info")},Ba=function(){return document.createElement("coral-card-content")},Ra=function(){return document.createElement("coral-card-propertylist")},ja=function(){return document.createElement("coral-card-property-content")};window.customElements.define("coral-card",La),window.customElements.define("coral-card-property",Ia),window.customElements.define("coral-card-title",Na),window.customElements.define("coral-card-context",Ma),window.customElements.define("coral-card-description",Da),window.Coral=window.Coral||{},window.Coral.Card=La,window.Coral.Card.Property=Ia,window.Coral.Card.Title=Na,window.Coral.Card.Context=Ma,window.Coral.Card.Description=Da,window.Coral.Card.Asset=Pa,window.Coral.Card.Overlay=Fa,window.Coral.Card.Info=Ha,window.Coral.Card.Content=Ba,window.Coral.Card.PropertyList=Ra,window.Coral.Card.Property.Content=ja;var qa={PREVIOUS:"_prev",NEXT:"_next"},za=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_getCharCount",value:function(){var e=0;return this._targetEl&&this._targetEl.value&&(e=this._targetEl.value.length),this._maxLength?this._maxLength-e:e}},{key:"_refreshCharCount",value:function(){var e=this._getCharCount();this.innerHTML=e;var t=e<0;this._targetEl&&(this._targetEl.classList.toggle("is-invalid",t),this.classList.toggle("is-invalid",t))}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-CharacterCount"),this.target=this.target,this._maxLength||(this.maxLength=this._maxLength)}},{key:"target",get:function(){return this._target||qa.PREVIOUS},set:function(e){("string"==typeof e||e instanceof Node)&&(this._target=e,this._targetEl&&this._targetEl.removeEventListener("input",this._refreshCharCount.bind(this)),this._targetEl=e===qa.NEXT?this.nextElementSibling:e===qa.PREVIOUS?this.previousElementSibling:"string"==typeof e?document.querySelector(e):e,this._targetEl&&(this._targetEl.addEventListener("input",this._refreshCharCount.bind(this)),this._targetEl.getAttribute("maxlength")&&(this.maxLength=this._targetEl.getAttribute("maxlength"))))}},{key:"maxLength",get:function(){return this._maxLength||null},set:function(e){this._maxLength=An.number(e),this._reflectAttribute("maxlength",this._maxLength),this._refreshCharCount()}}],[{key:"target",get:function(){return qa}},{key:"observedAttributes",get:function(){return["target","maxlength","maxLength"]}}]),t}(Pn(HTMLElement));window.customElements.define("coral-charactercount",za),window.Coral=window.Coral||{},window.Coral.CharacterCount=za;var Ua=function(e){var t=document.createDocumentFragment(),n=this.input=document.createElement("input");n.setAttribute("type","checkbox"),n.setAttribute("handle","input"),n.className+=" coral3-Checkbox-input",n.id=Coral.commons.getUID(),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.checkbox=document.createElement("span");o.className+=" coral3-Checkbox-checkmark",o.setAttribute("handle","checkbox"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.labelWrapper=document.createElement("label");r.className+=" coral3-Checkbox-description",r.setAttribute("handle","labelWrapper"),r.setAttribute("for",this.input.id),r.setAttribute("hidden",""),t.appendChild(r);var s=document.createTextNode("\n");return t.appendChild(s),t},Va=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0||-1!==window.navigator.userAgent.indexOf("Edge"),Ka=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{click:"_onClick",mousedown:"_onMouseDown"})),e._elements={label:e.querySelector("coral-checkbox-label")||document.createElement("coral-checkbox-label")},Ua.call(e._elements),e._observer=new MutationObserver(e._hideLabelIfEmpty.bind(e)),e._observer.observe(e._elements.labelWrapper,{childList:!0,characterData:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_onInputChange",value:function(e){if(e.stopPropagation(),this[this._componentTargetProperty]=e.target[this._eventTargetProperty],this.indeterminate=!1,this._triggerChangeEvent)if(Va){var t=this;window.requestAnimationFrame(function(){t.trigger("change")})}else this.trigger("change")}},{key:"_onClick",value:function(e){Va&&this.indeterminate?(this.checked=!this.checked,this._onInputChange(e)):e.target===this&&(this.indeterminate=!1,this.checked=!this.checked,this.trigger("change"))}},{key:"_onMouseDown",value:function(){var e=this._elements.input;window.requestAnimationFrame(function(){e!==document.activeElement&&e.focus()})}},{key:"_hideLabelIfEmpty",value:function(){var e=this._elements.label,t=0===e.children.length&&""===e.textContent.replace(/\s*/g,"");t!==this._elements.labelWrapper.hidden&&(this._elements.labelWrapper.hidden=t)}},{key:"clear",value:function(){this.checked=!1}},{key:"reset",value:function(){this.checked=this._initialCheckedState}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Checkbox");var e=document.createDocumentFragment(),n=["input","checkbox","labelWrapper"];e.appendChild(this._elements.input),e.appendChild(this._elements.checkbox),e.appendChild(this._elements.labelWrapper);var i=this._elements.label;for(i.parentNode&&i.parentNode.removeChild(i),this._elements.labelWrapper.hidden=!0;this.firstChild;){var o=this.firstChild;o.nodeType===Node.TEXT_NODE||o.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(o.getAttribute("handle"))?i.appendChild(o):this.removeChild(o)}this.appendChild(e),this.label=i,this._initialCheckedState=this.checked,this._hideLabelIfEmpty()}},{key:"checked",get:function(){return this._checked||!1},set:function(e){this._checked=An.booleanAttr(e),this._reflectAttribute("checked",this._checked),this._elements.input.checked=this._checked}},{key:"indeterminate",get:function(){return this._indeterminate||!1},set:function(e){this._indeterminate=An.booleanAttr(e),this._reflectAttribute("indeterminate",this._indeterminate),this._elements.input.indeterminate=this._indeterminate,this._elements.input[this._indeterminate?"setAttribute":"removeAttribute"]("aria-checked","mixed")}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:"coral-checkbox-label",insert:function(e){this._elements.labelWrapper.appendChild(e)}})}},{key:"name",get:function(){return this._elements.input.name},set:function(e){this._reflectAttribute("name",e),this._elements.input.name=e}},{key:"value",get:function(){return this._elements.input.value||"on"},set:function(e){this._elements.input.value=e}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly)}},{key:"_componentTargetProperty",get:function(){return"checked"}},{key:"_eventTargetProperty",get:function(){return"checked"}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-checkbox-label":"label"}}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["indeterminate","checked"])}}]),t}(yo(Pn(HTMLElement))),Za=function(){return document.createElement("coral-checkbox-label")};window.customElements.define("coral-checkbox",Ka),window.Coral=window.Coral||{},window.Coral.Checkbox=Ka,window.Coral.Checkbox.Label=Za;var Wa={"en-US":{am:"am",pm:"pm",Hours:"Hours",Minutes:"Minutes","AM/PM":"AM/PM"},"de-DE":{am:"vormittags",pm:"nachmittags",Hours:"Stunden",Minutes:"Minuten","AM/PM":"AM/PM"},"fr-FR":{am:"matin",pm:"après-midi",Hours:"Heures",Minutes:"Minutes","AM/PM":"AM/PM"},"ja-JP":{am:"午前",pm:"午後",Hours:"時間",Minutes:"分","AM/PM":"午前 / 午後"},"es-ES":{am:"a. m.",pm:"p. m.",Hours:"Horas",Minutes:"Minutos","AM/PM":"a. m./p. m."},"ko-KR":{am:"오전",pm:"오후",Hours:"시간",Minutes:"분","AM/PM":"오전/오후"},"zh-CN":{am:"上午",pm:"下午",Hours:"小时",Minutes:"分钟","AM/PM":"上午/下午"},"zh-TW":{am:"上午",pm:"下午",Hours:"小時",Minutes:"分鐘","AM/PM":"上午/下午"},"pt-BR":{am:"am",pm:"pm",Hours:"Horas",Minutes:"Minutos","AM/PM":"AM/PM"},"it-IT":{am:"am",pm:"pm",Hours:"Ore",Minutes:"Minuti","AM/PM":"AM/PM"},"nl-NL":{am:"am",pm:"pm",Hours:"Uren",Minutes:"Minuten","AM/PM":"AM/PM"},"da-DK":{am:"am",pm:"pm",Hours:"Timer",Minutes:"Minutter","AM/PM":"AM/PM"},"fi-FI":{am:"ap.",pm:"ip.",Hours:"Tunnit",Minutes:"Minuutit","AM/PM":"ap./ip."},"nb-NO":{am:"am",pm:"pm",Hours:"Timer",Minutes:"Minutter","AM/PM":"AM/PM"},"sv-SE":{am:"am",pm:"pm",Hours:"Timmar",Minutes:"Minuter","AM/PM":"AM/PM"},"cs-CZ":{am:"am",pm:"pm",Hours:"hodin",Minutes:"minut","AM/PM":"AM/PM"},"pl-PL":{am:"przed południem",pm:"po południu",Hours:"Godz.",Minutes:"Min","AM/PM":"Przed południem / Po południu"},"ru-RU":{am:"дп",pm:"пп",Hours:"ч.",Minutes:"мин.","AM/PM":"ДП/ПП"},"tr-TR":{am:"öö",pm:"ös",Hours:"Saat",Minutes:"Dakika","AM/PM":"ÖÖ/ÖS"}},Ga={"en-US":{Select:"Select"},"fr-FR":{Select:"Sélectionner"},"de-DE":{Select:"Auswählen"},"it-IT":{Select:"Seleziona"},"es-ES":{Select:"Seleccionar"},"pt-BR":{Select:"Selecionar"},"ja-JP":{Select:"選択"},"ko-KR":{Select:"선택"},"zh-CN":{Select:"选择"},"zh-TW":{Select:"選取"},"nl-NL":{Select:"Selecteren"},"da-DK":{Select:"Vælg"},"fi-FI":{Select:"Valitse"},"nb-NO":{Select:"Velg"},"sv-SE":{Select:"Välj"},"cs-CZ":{Select:"Vybrat"},"pl-PL":{Select:"Wybierz"},"ru-RU":{Select:"Выберите"},"tr-TR":{Select:"Seç"}},Xa=function(e){var t=this.loadIndicator=document.createElement("div");t.setAttribute("handle","loadIndicator"),t.className+=" coral3-SelectList-loading";var n=document.createTextNode("\n  ");t.appendChild(n);var i=document.createElement("coral-wait");i.setAttribute("centered",""),t.appendChild(i);var o=document.createTextNode("\n");return t.appendChild(o),t},Ya=1e3,Qa=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({scroll:"_onScroll","capture:focus":"_onFocus","capture:blur":"_onBlur","click coral-selectlist-item":"_onItemClick","capture:mouseenter coral-selectlist-item":"_onItemMouseEnter","capture:mouseleave coral-selectlist-item":"_onItemMouseLeave","key:space coral-selectlist-item":"_onToggleItemKey","key:return coral-selectlist-item":"_onToggleItemKey","key:pageup coral-selectlist-item":"_focusPreviousItem","key:left coral-selectlist-item":"_focusPreviousItem","key:up coral-selectlist-item":"_focusPreviousItem","key:pagedown coral-selectlist-item":"_focusNextItem","key:right coral-selectlist-item":"_focusNextItem","key:down coral-selectlist-item":"_focusNextItem","key:home coral-selectlist-item":"_onHomeKey","key:end coral-selectlist-item":"_onEndKey","keypress coral-selectlist-item":"_onKeyPress","coral-selectlist-item:_selectedchanged":"_onItemSelectedChanged"}),e._keypressTimeoutDuration=Ya,e._elements={},Xa.call(e._elements),e._oldSelection=[],e._keypressTimeoutID=null,e._keypressSearchString="",e._onDebouncedScroll=e._onDebouncedScroll.bind(e),e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_toggleItemSelection",value:function(e){if(e){this.trigger("coral-selectlist:beforechange",{item:e}).defaultPrevented||e[e.hasAttribute("selected")?"removeAttribute":"setAttribute"]("selected","")}}},{key:"_onItemMouseEnter",value:function(e){e.target.disabled||(this.classList.contains("is-focused")?this._focusItem(e.target):e.target.classList.add("is-highlighted"))}},{key:"_onItemMouseLeave",value:function(e){e.target.classList.remove("is-highlighted")}},{key:"_onFocus",value:function(){this.classList.add("is-focused")}},{key:"_onBlur",value:function(){this._resetTabTarget(),this.classList.remove("is-focused")}},{key:"_onItemClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.matchedTarget;this._toggleItemSelection(t),this._focusItem(t)}},{key:"_focusItem",value:function(e){e&&e.focus(),this._tabTarget=e}},{key:"_onToggleItemKey",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target;this._toggleItemSelection(t),this._focusItem(t)}},{key:"_focusPreviousItem",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items._getPreviousSelectable(e.target))}},{key:"_focusNextItem",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items._getNextSelectable(e.target))}},{key:"_onHomeKey",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items._getFirstSelectable())}},{key:"_onEndKey",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusItem(this.items._getLastSelectable())}},{key:"_onKeyPress",value:function(e){var t=this,n=String.fromCharCode(e.which);window.clearTimeout(this._keypressTimeoutID),n!==this._keypressSearchString&&(this._keypressSearchString+=n),this._keypressTimeoutID=window.setTimeout(function(){t._keypressSearchString=""},this._keypressTimeoutDuration);var i=this.items._getSelectableItems(),o=i.indexOf(this._tabTarget);this._keypressSearchString=this._keypressSearchString.trim().toLowerCase();var a=void 0;a=-1===o?0:1===this._keypressSearchString.length?o+1:o;for(var r=void 0,s=void 0,l=void 0,c=a;c<i.length;c++)if(l=i[c],s=l.textContent.trim().toLowerCase(),0===s.indexOf(this._keypressSearchString)){r=l;break}if(!r)for(var u=0;u<a;u++)if(l=i[u],s=l.textContent.trim().toLowerCase(),0===s.indexOf(this._keypressSearchString)){r=l;break}void 0!==r&&this._focusItem(r)}},{key:"_resetTabTarget",value:function(){var e=this.items._getAllSelected().filter(function(e){return!e.hasAttribute("hidden")});this._tabTarget=e.length?e[0]:this.items._getSelectableItems().filter(function(e){return!e.hasAttribute("hidden")})[0]}},{key:"_onScroll",value:function(){window.clearTimeout(this._scrollTimeout),this._scrollTimeout=window.setTimeout(this._onDebouncedScroll,100)}},{key:"_onDebouncedScroll",value:function(){this.scrollTop>=this.scrollHeight-this.clientHeight-50&&this.trigger("coral-selectlist:scrollbottom")}},{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation(),this._validateSelection(e.target)}},{key:"_validateSelection",value:function(e){var t=this,n=this.selectedItems;this.multiple||(e=e||n[n.length-1])&&e.hasAttribute("selected")&&n.length>1&&(n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1),this._resetTabTarget(),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItems,t=this._oldSelection;!this._preventTriggeringEvents&&this._arraysAreDifferent(e,t)&&(this.multiple?this.trigger("coral-selectlist:change",{oldSelection:t,selection:e}):this.trigger("coral-selectlist:change",{oldSelection:t.length>1?t:t[0]||null,selection:e[0]||null}),this._oldSelection=e)}},{key:"_arraysAreDifferent",value:function(e,t){var n=[];return t.length===e.length&&(n=t.filter(function(t){return-1===e.indexOf(t)})),t.length!==e.length||0!==n.length}},{key:"focus",value:function(){this.contains(document.activeElement)||(this._resetTabTarget(),this._focusItem(this._tabTarget))}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),
this.classList.add("coral3-SelectList"),this.setAttribute("role","listbox"),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItems}},{key:"groups",get:function(){return this._groups||(this._groups=new jn({host:this,itemTagName:"coral-selectlist-group",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._groups}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-selectlist-item",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getAllSelected()[0]||null}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"multiple",get:function(){return this._multiple||!1},set:function(e){this._multiple=An.booleanAttr(e),this._reflectAttribute("multiple",this._multiple),this.setAttribute("aria-multiselectable",this._multiple),this._validateSelection()}},{key:"loading",get:function(){return this._loading||!1},set:function(e){this._loading=An.booleanAttr(e),this._reflectAttribute("loading",this._loading);var t=this._elements.loadIndicator;if(this.loading){var n=this.scrollTop>=this.scrollHeight-this.clientHeight;this.appendChild(t),n&&(this.scrollTop=this.scrollHeight)}else t.remove()}},{key:"_tabTarget",get:function(){return this.__tabTarget||null},set:function(e){this.__tabTarget=e,this.items.getAll().forEach(function(t){t.setAttribute("tabindex",t===e?0:-1)})}}],[{key:"observedAttributes",get:function(){return["loading","multiple"]}}]),t}(Pn(HTMLElement)),Ja=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({focus:"_onFocus",blur:"_onBlur"}),e}return Bt(t,e),Ft(t,[{key:"_onFocus",value:function(){this.classList.add("is-highlighted")}},{key:"_onBlur",value:function(){this.classList.remove("is-highlighted")}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-SelectList-item"),this.setAttribute("role","option")}},{key:"value",get:function(){return"string"==typeof this._value?this._value:this.textContent.replace(/\s{2,}/g," ").trim()},set:function(e){this._value=An.string(e),this._reflectAttribute("value",this._value)}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",!this.disabled&&this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-selected",this._selected),this.trigger("coral-selectlist-item:_selectedchanged")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.selected=this.selected}}],[{key:"observedAttributes",get:function(){return["selected","disabled"]}}]),t}(Pn(HTMLElement)),$a=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-SelectList-group"),this.setAttribute("role","group")}},{key:"label",get:function(){return this._label||""},set:function(e){this._label=An.string(e),this._reflectAttribute("label",this._label),this.setAttribute("aria-label",this._label)}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-selectlist-item"})),this._items}}],[{key:"observedAttributes",get:function(){return["label"]}}]),t}(Pn(HTMLElement));window.customElements.define("coral-selectlist",Qa),window.customElements.define("coral-selectlist-item",Ja),window.customElements.define("coral-selectlist-group",$a),window.Coral=window.Coral||{},window.Coral.SelectList=Qa,window.Coral.SelectList.Item=Ja,window.Coral.SelectList.Group=$a;var er=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e;var i=Coral.commons.getUID(),o=Coral.commons.getUID();e=n;var a=document.createTextNode("\n");t.appendChild(a);var r=this.button=document.createElement("button","coral-button");r.setAttribute("handle","button"),r.setAttribute("type","button"),r.setAttribute("is","coral-button"),r.setAttribute("block",""),r.setAttribute("role","combobox"),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-haspopup","true"),r.id=i,r.setAttribute("aria-controls",o),r.setAttribute("aria-owns",o),r.className+=" coral3-Select-button";var s=document.createTextNode("\n  ");r.appendChild(s);var l=this.label=document.createElement("span");l.setAttribute("handle","label"),l.className+=" coral3-Select-label",l.setAttribute("role","textbox"),l.setAttribute("aria-readonly","true"),l.textContent="​",r.appendChild(l);var c=document.createTextNode("\n  ");r.appendChild(c);var u=document.createTextNode("\n  ");r.appendChild(u);var d=this.buttonLabel=document.createElement("coral-button-label");d.setAttribute("style","margin-left:0"),d.setAttribute("handle","buttonLabel"),r.appendChild(d);var h=document.createTextNode("\n  ");r.appendChild(h);var p=this.icon=document.createElement("coral-icon");p.setAttribute("handle","icon"),p.setAttribute("icon","chevronDown"),p.setAttribute("size","xxs"),p.className+=" coral3-Select-openIcon",r.appendChild(p);var m=document.createTextNode("\n");r.appendChild(m),t.appendChild(r);var _=document.createTextNode("\n");t.appendChild(_),n=e,this.button._elements.label=this.buttonLabel,e=n;var f=document.createTextNode("\n");t.appendChild(f);var v=this.overlay=document.createElement("coral-overlay");v.setAttribute("handle","overlay"),v.className+=" coral3-Select-overlay",v.setAttribute("placement","bottom"),v.setAttribute("collision","fit"),v.setAttribute("trapfocus","on"),v.setAttribute("focusonshow","on"),v.setAttribute("target","#"+i),v.setAttribute("role","presentation");var g=document.createTextNode("\n  ");v.appendChild(g),n=e;e=n;var b=document.createTextNode("\n  ");v.appendChild(b);var y=this.list=document.createElement("coral-selectlist");y.setAttribute("style","max-height:252px"),y.setAttribute("handle","list"),y.className+=" coral3-Select-selectList",y.setAttribute("role","listbox"),y.id=o,v.appendChild(y);var C=document.createTextNode("\n");v.appendChild(C),t.appendChild(v);var k=document.createTextNode("\n");t.appendChild(k);var A=this.input=document.createElement("input");A.setAttribute("handle","input"),A.setAttribute("type","hidden"),t.appendChild(A);var w=document.createTextNode("\n");t.appendChild(w);var E=this.nativeSelect=document.createElement("select");E.setAttribute("handle","nativeSelect"),E.className+=" coral3-Select-select",E.setAttribute("tabindex","-1"),t.appendChild(E);var T=document.createTextNode("\n");t.appendChild(T);var S=this.taglist=document.createElement("coral-taglist");S.setAttribute("handle","taglist"),S.className+=" coral3-Select-tagList",t.appendChild(S);var x=document.createTextNode("\n");return t.appendChild(x),t},tr={DEFAULT:"default",QUIET:"quiet"},nr={default:-1,quiet:4},ir=[];for(var or in tr)ir.push("coral3-Select--"+tr[or]);var ar=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),rr=function(e){var t=e.getAttribute("value");return null!==t?t:e.textContent.replace(/\s{2,}/g," ").trim()},sr=function(e,t){return e.filter(function(e){return!t.some(function(t){return e===t})})},lr=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{"coral-collection:add coral-taglist":"_onInternalEvent","coral-collection:add coral-selectlist":"_onSelectListItemAdd","coral-collection:remove coral-taglist":"_onInternalEvent","coral-collection:remove coral-selectlist":"_onInternalEvent","coral-select-item:_valuechanged coral-select-item":"_onItemValueChange","coral-select-item:_contentchanged coral-select-item":"_onItemContentChange","coral-select-item:_disabledchanged coral-select-item":"_onItemDisabledChange","coral-select-item:_selectedchanged coral-select-item":"_onItemSelectedChange","coral-selectlist:beforechange":"_onSelectListBeforeChange","coral-selectlist:change":"_onSelectListChange","coral-selectlist:scrollbottom":"_onSelectListScrollBottom","change coral-taglist":"_onTagListChange","change select":"_onNativeSelectChange","click select":"_onNativeSelectClick","click > .coral3-Select-button":"_onButtonClick","key:space > .coral3-Select-button":"_onSpaceKey","key:down > .coral3-Select-button":"_onSpaceKey","key:tab coral-selectlist-item":"_onTabKey","key:tab+shift coral-selectlist-item":"_onTabKey","coral-overlay:close":"_onOverlayToggle","coral-overlay:open":"_onOverlayToggle","coral-overlay:positioned":"_onOverlayPositioned","coral-overlay:beforeopen":"_onInternalEvent","coral-overlay:beforeclose":"_onInternalEvent","global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick"})),e._elements={},er.call(e._elements),e._bulkSelectionChange=!1,e._useNativeInput=ar,e._elements.taglist.reset=function(){},e._elements.overlay.returnFocusTo(e._elements.button),e._initialValues=[],e.items._startHandlingItems(),e}return Bt(t,e),Ft(t,[{key:"_setName",value:function(e){this.multiple?(this._elements.input.name="",this._elements.taglist.name=e):(this._elements.taglist.name="",this._elements.input.name=e)}},{key:"_showOptions",value:function(e){if(e){var t=this._elements.list.scrollHeight,n=this._elements.list.clientHeight,i=this._elements.list.scrollTop,o=this._elements.list._elements.loadIndicator;if(o&&o.parentNode){t-=function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}(o)}if(i+n<t-30)return}this._useNativeInput||(this._elements.overlay.open=!0,this._elements.overlay.reposition());var a=this.trigger("coral-select:showitems",{start:this.items.length});this._useNativeInput||(this._elements.list.loading=a.defaultPrevented)}},{key:"_hideOptions",value:function(){this._elements.overlay.open=!1,this.trigger("coral-select:hideitems")}},{key:"_onGlobalClick",value:function(e){if(this._elements.overlay.open){var t=this._elements.button.contains(e.target),n=this._elements.overlay.contains(e.target);t||n||this._hideOptions()}}},{key:"_onSelectListItemAdd",value:function(e){e.stopImmediatePropagation(),this.loading=!1,this._elements.list.style.height="";var t=window.getComputedStyle(this._elements.list),n=parseInt(t.height,10);n<parseInt(t.maxHeight,10)&&(this._elements.list.style.height=n-1+"px")}},{key:"_onInternalEvent",value:function(e){e.stopImmediatePropagation()}},{key:"_onItemAdded",value:function(e){var t=this._elements.list,n=e._selectListItem||new Ja;t.appendChild(n),n.set({value:e.value,content:{innerHTML:e.innerHTML},disabled:e.disabled,selected:e.selected},!0);var i=e._nativeOption||new Option;this._elements.nativeSelect.appendChild(i),-1!==this._initialValues.indexOf(e.value)&&i.setAttribute("selected","selected"),i.selected=e.selected,i.value=e.value,i.disabled=e.disabled,i.innerHTML=e.innerHTML,this.multiple?e.selected&&(n.hidden=!0,this._addTagToTagList(e)):e.selected&&(this._elements.input.value=e.value),e._selectListItem=n,e._nativeOption=i,n._selectItem=e,i._selectItem=e}},{key:"_onItemRemoved",value:function(e){e._selectListItem&&(e._selectListItem.remove(),e._selectListItem._selectItem=void 0,e._selectListItem=void 0),e._nativeOption&&(this._elements.nativeSelect.removeChild(e._nativeOption),e._nativeOption._selectItem=void 0,e._nativeOption=void 0),this._removeTagFromTagList(e,!0)}},{key:"_onItemSelected",value:function(e){e._selectListItem&&e._selectListItem.parentNode||this._onItemAdded(e),e._selectListItem.selected=!0,e._nativeOption.selected=!0,this.multiple?(this._addTagToTagList(e),e._selectListItem.hidden=!0):this._elements.input.value=e.value}},{key:"_onItemDeselected",value:function(e){e._selectListItem&&e._selectListItem.parentNode||this._onItemAdded(e),e._selectListItem.selected=!1,e._nativeOption.selected=!1,this.multiple&&(this._removeTagFromTagList(e),e._selectListItem.hidden=!1)}},{key:"_onSelectListBeforeChange",value:function(e){e.stopImmediatePropagation(),!this.multiple&&e.detail.item.selected&&(e.preventDefault(),this._elements.overlay.open=!1)}},{key:"_onSelectListChange",value:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){var t=e.detail.oldSelection||[];t=Array.isArray(t)?t:[t];var n=e.detail.selection||[];if(n=Array.isArray(n)?n:[n],e.detail.oldSelection!==e.detail.selection){this._bulkSelectionChange=!0;sr(t,n).forEach(function(e){e._selectItem&&e._selectItem.removeAttribute("selected")});var i=sr(n,t);i.forEach(function(e){e._selectItem&&e._selectItem.setAttribute("selected","")}),this._bulkSelectionChange=!1,this._elements.overlay.open&&(this._hideOptions(),i.length&&this.trigger("change"))}else this._elements.overlay.open&&this._hideOptions()}}},{key:"_onTagListChange",value:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){this._bulkSelectionChange=!0;var t=e.target.values,n=void 0;this.items._getAllSelected().forEach(function(e){n=rr(e),e[-1!==t.indexOf(n)?"setAttribute":"removeAttribute"]("selected","")}),this._bulkSelectionChange=!1,t.length||this._elements.button.focus(),this.trigger("change")}}},{key:"_addTagToTagList",value:function(e){e._tag=e._tag||new No,e._tag.set({value:e.value,multiline:!0,label:{innerHTML:e.innerHTML}},!0),this._elements.taglist.items.add(e._tag)}},{key:"_removeTagFromTagList",value:function(e,t){e._tag&&(e._tag.remove(),e._tag=t?void 0:e._tag)}},{key:"_onSelectListScrollBottom",value:function(e){e.stopImmediatePropagation(),this._elements.overlay.open&&this._showOptions()}},{key:"_onButtonClick",value:function(e){e.preventDefault(),this.disabled||this._useNativeInput||(this._elements.overlay.open?this._hideOptions():this._showOptions(!0))}},{key:"_onNativeSelectClick",value:function(){this._showOptions(!1)}},{key:"_onSpaceKey",value:function(e){this.disabled||(e.preventDefault(),this._useNativeInput?this._elements.nativeSelect.dispatchEvent(new MouseEvent("mousedown")):this._elements.overlay.open&&e.keyCode!==yn.keyToCode("space")||this._elements.button.click())}},{key:"_onTabKey",value:function(e){e.preventDefault()}},{key:"_onOverlayToggle",value:function(e){e.stopImmediatePropagation(),this._elements.button.classList.toggle("is-selected",e.target.open),this._elements.button.setAttribute("aria-expanded",e.target.open),e.target.open||this.classList.remove("is-openAbove","is-openBelow"),this._elements.overlay.returnFocusTo(this._elements.button)}},{key:"_onOverlayPositioned",value:function(e){e.stopImmediatePropagation(),this.classList.add("top"===e.detail.vertical?"is-openBelow":"is-openAbove"),this._elements.overlay.style.minWidth=this.offsetWidth+"px"}},{key:"_onNativeSelectChange",value:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){this._bulkSelectionChange=!0;var t=this.selectedItems.map(function(e){return e._nativeOption}),n=Array.prototype.slice.call(e.target.querySelectorAll(":checked"));sr(t,n).forEach(function(e){e._selectItem.selected=!1});sr(n,t).forEach(function(e){e._selectItem.selected=!0}),this._bulkSelectionChange=!1,this.multiple||(this._elements.button.focus(),this.trigger("coral-select:hideitems")),this.trigger("change")}}},{key:"_onItemContentChange",value:function(e){e.stopImmediatePropagation();var t=e.target;t._selectListItem&&t._selectListItem.content&&(t._selectListItem.content.innerHTML=t.innerHTML),t._nativeOption&&(t._nativeOption.innerHTML=t.innerHTML),t._tag&&t._tag.label&&(t._tag.label.innerHTML=t.innerHTML),this._syncSelectedItemPlaceholder()}},{key:"_syncSelectedItemPlaceholder",value:function(){this.placeholder=this.getAttribute("placeholder"),this.selectedItem&&!this.multiple&&(this._elements.button.classList.remove("is-placeholder"),this._elements.label.innerHTML=this.selectedItem.innerHTML)}},{key:"_onItemValueChange",value:function(e){e.stopImmediatePropagation();var t=e.target;t._selectListItem&&(t._selectListItem.value=t.value),t._nativeOption&&(t._nativeOption.value=t.value),t._tag&&(t._tag.value=t.value)}},{key:"_onItemDisabledChange",value:function(e){e.stopImmediatePropagation();var t=e.target;t._selectListItem&&(t._selectListItem.disabled=t.disabled),t._nativeOption&&(t._nativeOption.disabled=t.disabled)}},{key:"_validateInitialState",value:function(e){for(var t=void 0,n=void 0,i=0,o=e.length;i<o;i++)t=e[i],-1!==(n=this._initialValues.indexOf(t.value))&&this._initialValues.splice(n,1)}},{key:"_onCollectionChange",value:function(e,t){this._validateInitialState(t),this._setStateFromDOM()}},{key:"_updateLabel",value:function(){this._syncSelectedItemPlaceholder()}},{key:"_setStateFromDOM",value:function(){if(!this.hasAttribute("multiple")){this.items._deselectAllExceptLast();var e=this.items._getFirstSelected();if(e)this._elements.input.value=rr(e);else if(this._elements.input.value="",""===An.string(this.getAttribute("placeholder"))){var t=this.items._getFirstSelectable();t&&(t.setAttribute("selected",""),this._elements.input.value=rr(t))}}this._updateLabel()}},{key:"_onItemSelectedChange",value:function(e){e.stopImmediatePropagation();var t=e.target;this._bulkSelectionChange=!0,t.selected?(this._onItemSelected(t),this.hasAttribute("multiple")||this.items._deselectAllExcept(t)):this._onItemDeselected(t),this._bulkSelectionChange=!1,this._updateLabel()}},{key:"clear",value:function(){this.value=""}},{key:"focus",value:function(){this.contains(document.activeElement)||this._elements.button.focus()}},{key:"reset",value:function(){this.values=this._initialValues}},{key:"connectedCallback",value:function(){var e=this;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Select"),this._variant||(this.variant=tr.DEFAULT),this.classList.toggle("coral3-Select--native",this._useNativeInput),!this._useNativeInput&&this.contains(this._elements.nativeSelect)&&this.removeChild(this._elements.nativeSelect),this._setStateFromDOM(),this.selectedItems.forEach(function(t){e._initialValues.push(rr(t))},this);for(var n=this.querySelectorAll("[handle]"),i=0;i<n.length;++i){var o=n[i];o.parentNode===this&&this.removeChild(o)}var a=document.createDocumentFragment();a.appendChild(this._elements.button),a.appendChild(this._elements.input),a.appendChild(this._elements.nativeSelect),a.appendChild(this._elements.taglist),a.appendChild(this._elements.overlay),this.insertBefore(a,this.firstChild)}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-select-item",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange})),this._items}},{key:"multiple",get:function(){return this._multiple||!1},set:function(e){var t=this;this._multiple=An.booleanAttr(e),this._reflectAttribute("multiple",this._multiple),this._multiple?this.appendChild(this._elements.taglist):this.removeChild(this._elements.taglist),this._nativeInput&&this.removeChild(this._elements.nativeSelect),this._elements.nativeSelect.multiple=this._multiple,this._elements.nativeSelect.selectedIndex=-1,this._nativeInput&&(this._multiple?this._elements.nativeSelect.parentNode&&this.insertBefore(this._elements.nativeSelect,this._elements.taglist):this.appendChild(this._elements.nativeSelect)),this._elements.list.multiple=e,this._setName(this.name),this._setStateFromDOM(),this.items.getAll().forEach(function(e){t._multiple&&e.hasAttribute("selected")?(e._selectListItem&&e._selectListItem.setAttribute("hidden",""),t._addTagToTagList(e)):(e._selectListItem&&e._selectListItem.removeAttribute("hidden"),t._removeTagFromTagList(e),e.hasAttribute("selected")&&(t._elements.input.value=rr(e)))},this)}},{key:"placeholder",get:function(){return this._placeholder||""},set:function(e){if(this._placeholder=An.string(e),this._reflectAttribute("placeholder",this._placeholder),!this._placeholder||!this.hasAttribute("multiple")&&this.selectedItem){if(this.hasAttribute("multiple"))this._elements.button.classList.add("is-placeholder"),this._elements.label.textContent=an.get("Select");else if(!this.selectedItem){this._elements.input.value="";var t=this.items._getFirstSelectable();this._elements.button.classList.remove("is-placeholder"),t?(t.setAttribute("selected",""),this._elements.label.innerHTML=t.innerHTML):this._elements.label.textContent=""}}else this._elements.button.classList.add("is-placeholder"),this._elements.label.textContent=this._placeholder}},{key:"name",get:function(){return this.multiple?this._elements.taglist.name:this._elements.input.name},set:function(e){this._setName(e),this._reflectAttribute("name",this.name)}},{key:"value",get:function(){return this.multiple?this._elements.taglist.value:this._elements.input.value},set:function(e){this.values=[e]}},{key:"values",get:function(){return this.multiple?this._elements.taglist.values:this.selectedItem?[this._elements.input.value]:[]},set:function(e){if(Array.isArray(e)){!this.multiple&&e.length>1&&(e=[e[0]]);var t=this.items.getAll(),n=void 0;if(this.multiple)t.forEach(function(t){n=rr(t),t[-1!==e.indexOf(n)?"setAttribute":"removeAttribute"]("selected","")});else{var i=void 0,o=e[0]||"";t.forEach(function(e){if(!i&&(n=rr(e))===o)return e.setAttribute("selected",""),void(i=e);e.removeAttribute("selected")}),i||this._setStateFromDOM()}}}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled);var t=this.hasAttribute("readonly");this._elements.button.disabled=this._disabled||t,this._elements.input.disabled=this._disabled||t,this._elements.taglist.disabled=this._disabled||t}},{key:"invalid",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",e,this),this.classList.toggle("is-invalid",this.invalid)}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.input.required=this._required,this._elements.taglist.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly);var t=this.hasAttribute("disabled");this._elements.button.disabled=this._readOnly||t,this._elements.input.readOnly=this._readOnly||t,this._elements.taglist.readOnly=this._readOnly||t,this._elements.taglist.disabled=this._readOnly||t}},{key:"labelledBy",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this),this.labelledBy?this._elements.nativeSelect.setAttribute("aria-labelledby",this.labelledBy):this._elements.nativeSelect.removeAttribute("aria-labelledby"),this._elements.taglist.labelledBy=this.labelledBy}},{key:"selectedItem",get:function(){return this.hasAttribute("multiple")?this.items._getFirstSelected():this.items._getLastSelected()}},{key:"selectedItems",get:function(){if(this.hasAttribute("multiple"))return this.items._getAllSelected();var e=this.selectedItem;return e?[e]:[]}},{key:"loading",get:function(){return this._elements.list.loading},set:function(e){this._elements.list.loading=e}},{key:"variant",get:function(){return this._variant||tr.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(tr)(e)&&e||tr.DEFAULT,this._reflectAttribute("variant",this._variant),this._elements.button.variant=e===tr.DEFAULT?pi.variant.DEFAULT:pi.variant.QUIET,(t=this.classList).remove.apply(t,ir),this._variant!==tr.DEFAULT&&this.classList.add("coral3-Select--"+this._variant),this._elements.overlay.offset=nr[this._variant]}}],[{key:"variant",get:function(){return tr}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["variant","multiple","placeholder","loading"])}}]),t}(yo(Pn(HTMLElement))),cr=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._observer=new MutationObserver(e._handleMutation.bind(e)),e._observer.observe(e,{characterData:!0,childList:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_handleMutation",value:function(){this.trigger("coral-select-item:_contentchanged",{content:this.textContent})}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.trigger("coral-select-item:_disabledchanged")}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.trigger("coral-select-item:_selectedchanged")}},{key:"value",get:function(){return void 0===this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value},set:function(e){this._value=An.string(e),this._reflectAttribute("value",this._value),this.trigger("coral-select-item:_valuechanged")}}],[{key:"observedAttributes",get:function(){return["selected","disabled","value"]}}]),t}(Pn(HTMLElement));Yt.extend(en,{"coralui-component-select":Ga}),window.customElements.define("coral-select",lr),window.customElements.define("coral-select-item",cr),window.Coral=window.Coral||{},window.Coral.Select=lr,window.Coral.Select.Item=cr;var ur=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e;var i=Coral.commons.getUID();e=n;var o=document.createTextNode("\n");t.appendChild(o);var a=this.input=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",""),a.setAttribute("handle","input"),t.appendChild(a);var r=document.createTextNode("\n");t.appendChild(r);var s=this.valueAsText=document.createElement("time");s.setAttribute("handle","valueAsText"),s.id=Coral.commons.getUID(),s.setAttribute("hidden",""),t.appendChild(s);var l=document.createTextNode("\n");t.appendChild(l);var c=this.hours=document.createElement("input","coral-textfield");c.setAttribute("is","coral-textfield"),c.setAttribute("type","number"),c.setAttribute("min","0"),c.setAttribute("max","23"),c.className+=" coral3-Clock-hour",c.setAttribute("handle","hours"),c.setAttribute("aria-label",Coral.i18n.get("Hours")),t.appendChild(c);var u=document.createTextNode("\n");t.appendChild(u);var d=this.divider=document.createElement("span");d.className+=" coral3-Clock-divider",d.setAttribute("handle","divider"),d.textContent=":",t.appendChild(d);var h=document.createTextNode("\n");t.appendChild(h);var p=this.minutes=document.createElement("input","coral-textfield");p.setAttribute("is","coral-textfield"),p.setAttribute("type","number"),p.setAttribute("min","0"),p.setAttribute("max","59"),p.className+=" coral3-Clock-minute",p.setAttribute("handle","minutes"),p.setAttribute("aria-label",Coral.i18n.get("Minutes")),t.appendChild(p);var m=document.createTextNode("\n");t.appendChild(m);var _=this.period=document.createElement("coral-select");_.setAttribute("handle","period"),_.className+=" coral3-Clock-period",_.setAttribute("hidden",""),_.setAttribute("labelledby",i);var f=document.createTextNode("\n  ");_.appendChild(f);var v=document.createElement("span");v.className+=" u-coral-screenReaderOnly",v.id=i,v.setAttribute("hidden",""),v.textContent=Coral.i18n.get("AM/PM"),_.appendChild(v);var g=document.createTextNode("\n  ");_.appendChild(g);var b=document.createElement("coral-select-item");b.setAttribute("value","am"),_.appendChild(b);var y=document.createTextNode("\n  ");_.appendChild(y);var C=document.createElement("coral-select-item");C.setAttribute("value","pm"),_.appendChild(C);var k=document.createTextNode("\n");_.appendChild(k),t.appendChild(_);var A=document.createTextNode("\n");return t.appendChild(A),t},dr=new RegExp("(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2}).*(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2})|(A|a|H{1,2}|h{1,2}|k{1,2}|m{1,2})"),hr=new RegExp("h{1,2}|H{1,2}|k{1,2}"),pr=new RegExp("m{1,2}"),mr={DEFAULT:"default",QUIET:"quiet"},_r=[];for(var fr in mr)_r.push("coral3-Clock--"+mr[fr]);var vr=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._value="",e._delegateEvents(Yt.extend(e._events,{'change [handle="period"]':"_onPeriodChange"})),e._elements={},ur.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"_extractTimeFormat",value:function(e,t,n){var i=t.exec(e);return i&&i.length&&""!==i[0]?i[0]:n}},{key:"_syncDisplay",value:function(){var e=this._extractTimeFormat(this.displayFormat,hr,"HH"),t=this._extractTimeFormat(this.displayFormat,pr,"mm");this._elements.hours.placeholder=e,this._elements.minutes.placeholder=t,this._elements.hours.value=this._getValueAsString(this._value,e),this._elements.minutes.value=this._getValueAsString(this._value,t),this._syncPeriod(),this._syncValueAsText()}},{key:"_syncPeriod",value:function(){var e=this._elements.period,t=this._value,n=an.get("am"),i=an.get("pm"),o=e.items.getAll();t&&t.isValid()&&(t.hours()<12?e.value="am":e.value="pm"),-1!==this.displayFormat.indexOf("a")?(o[0].textContent=n,o[1].textContent=i,this._togglePeriod(!0)):-1!==this.displayFormat.indexOf("A")?(o[0].textContent=n.toUpperCase(),o[1].textContent=i.toUpperCase(),this._togglePeriod(!0)):this._togglePeriod(!1)}},{key:"_togglePeriod",value:function(e){this._elements.period.hidden=!e}},{key:"_onPeriodChange",value:function(e){e.stopImmediatePropagation();var t=this._value,n=this._elements.period;t&&t.isValid()&&(-1!==this.displayFormat.indexOf("h")&&("am"===n.value?t.subtract(12,"h"):t.add(12,"h")),this.value=t.format(this.valueFormat),this.trigger("change"))}},{key:"_syncValueAsText",value:function(){this._elements.valueAsText.textContent=this._getValueAsString(this._value,this.displayFormat),this.getAttribute("aria-labelledby")||(this.labelledBy=this.labelledBy)}},{key:"_onInputChange",value:function(e){e.stopImmediatePropagation();var t=new fa.Moment,n=this._value,i=parseInt(this._elements.hours.value,10),o=parseInt(this._elements.minutes.value,10);window.isNaN(i)||window.isNaN(o)?t="":(this._elements.period.hidden||-1===this.displayFormat.indexOf("h")||"pm"!==this._elements.period.value||(i+=12),t.hours(i),t.minutes(o)),t&&t.isValid()?(this.invalid=!1,t.isSame(n,"hour")&&t.isSame(n,"minute")||(this.value=t.format(this.valueFormat),this.trigger("change"))):(this.invalid=!0,this._value="",t!==n&&this.trigger("change"))}},{key:"_getLabellableElement",value:function(){return this}},{key:"_getValueAsString",value:function(e,t){return e&&e.isValid()?e.format(t):""}},{key:"focus",value:function(){this.contains(document.activeElement)||this._elements.hours.focus()}},{key:"connectedCallback",value:function(){var e=this;for(Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Clock"),this.setAttribute("role","group"),this._variant||(this.variant=mr.DEFAULT),this._valueFormat||(this.valueFormat="HH:mm"),this._displayFormat||(this.displayFormat="HH:mm");this.firstChild;)this.removeChild(this.firstChild)
;["input","valueAsText","hours","divider","minutes","period"].forEach(function(t){e.appendChild(e._elements[t])},this),this._syncDisplay()}},{key:"displayFormat",get:function(){return this._displayFormat||"HH:mm"},set:function(e){this._displayFormat=this._extractTimeFormat(An.string(e).trim(),dr,"HH:mm"),this._reflectAttribute("displayformat",this._displayFormat),this._syncDisplay()}},{key:"valueFormat",get:function(){return this._valueFormat||"HH:mm"},set:function(e){var t=this,n=function(e){t._valueFormat=t._extractTimeFormat(An.string(e).trim(),dr,"HH:mm"),t._reflectAttribute("valueformat",t._valueFormat)};!this._valueFormat&&this._originalValue?(n(e),this.value=this._originalValue):(n(e),this._elements.input.value=this.value)}},{key:"valueAsDate",get:function(){return this._value?new Date(this._value.toDate().getTime()):null},set:function(e){this.value=e instanceof Date?new fa.Moment(e,null,!0).format(this.valueFormat):""}},{key:"variant",get:function(){return this._variant||mr.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(mr)(e)&&e||mr.DEFAULT,this._reflectAttribute("variant",this._variant),this._elements.hours.variant=this._variant,this._elements.minutes.variant=this._variant,this._elements.period.variant=this._variant,(t=this.classList).remove.apply(t,_r),this._variant!==mr.DEFAULT&&this.classList.add("coral3-Clock--"+this._variant)}},{key:"name",get:function(){return this._elements.input.name},set:function(e){this._reflectAttribute("name",e),this._elements.input.name=e}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.hours.disabled=this._disabled,this._elements.minutes.disabled=this._disabled,this._elements.input.disabled=this._disabled}},{key:"invalid",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",e,this),this._elements.hours.invalid=this._invalid,this._elements.minutes.invalid=this._invalid}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.hours.required=this._required,this._elements.minutes.required=this._required,this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly),this._elements.hours.readOnly=this._readOnly,this._elements.minutes.readOnly=this._readOnly,this._elements.input.readOnly=this._readOnly}},{key:"value",get:function(){return this._getValueAsString(this._value,this.valueFormat)},set:function(e){e="string"==typeof e?e:"",this._originalValue=e;var t=new fa.Moment(e,this.valueFormat,!0);this._value=t.isValid()?t:"",this._elements.input.value=this.value,this._syncValueAsText(),this._syncDisplay()}},{key:"labelledBy",get:function(){var e=this._getLabellableElement().getAttribute("aria-labelledby");return e&&(e=e.replace(this._elements.valueAsText.id,"").trim(),e.length||(e=null)),e},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this);var n=this.labelledBy,i=[this._elements.valueAsText.id];n?(i.unshift(n),this._reflectAttribute("labelledby",n),this._getLabellableElement().setAttribute("aria-labelledby",i.join(" "))):(this.removeAttribute("labelledby"),this.removeAttribute("aria-labelledby"))}}],[{key:"variant",get:function(){return mr}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["displayformat","displayFormat","valueformat","valueFormat","variant"])}}]),t}(yo(Pn(HTMLElement)));Yt.extend(en,{"coralui-component-clock":Wa}),window.customElements.define("coral-clock",vr),window.Coral=window.Coral||{},window.Coral.Clock=vr;var gr={RGB:"rgb",HEX:"hex",CMYK:"cmyk",HSB:"hsb",HSL:"hsl"},br=function(){function e(){Pt(this,e),this._colorSpace=gr.HEX,this._value="",this._alpha=1}return Ft(e,[{key:"clone",value:function(){var e=new this.constructor;return e.value=this.value,e.alpha=this.alpha,e}},{key:"isSimilarTo",value:function(e,t){if(null===this.rgb&&(!e||null===e.rgb))return!0;if(!e||null===e.rgb||null===this.rgb)return!1;var n=1,i=.01;!1===t&&(n=0,i=0);var o=this.rgb,a=e.rgb,r=Math.abs(a.r-o.r),s=Math.abs(a.g-o.g),l=Math.abs(a.b-o.b),c=Math.abs(this.alpha-e.alpha);return r<=n&&s<=n&&l<=n&&c<=i}},{key:"calculateTintColors",value:function(e){var t=[],n=null,i=this.rgb;if(i)for(var o=i.r,a=i.g,r=i.b,s=1,l=1;l<=e;l++)s=l/(e+1),n=this.clone(),n.rgb={r:o+(255-o)*s,g:a+(255-a)*s,b:r+(255-r)*s},t.push(n);return t}},{key:"calculateShadeColors",value:function(e){var t=[],n=null,i=this.rgb;if(i)for(var o=i.r,a=i.g,r=i.b,s=1,l=1;l<=e;l++)s=l/(e+1),n=this.clone(),n.rgb={r:o*(1-s),g:a*(1-s),b:r*(1-s)},t.push(n);return t}},{key:"value",get:function(){return this._value},set:function(e){var t=Re(e),n=it(e),i=He(e),o=qe(e),a=Xe(e),r=$e(e),s=Ue(e);null!==t?(this._colorSpace=gr.RGB,this.alpha=t.a,e=Be({r:t.r,g:t.g,b:t.b})):null!==n?(this._colorSpace=gr.HSL,this.alpha=n.a,e=et({h:n.h,s:n.s,l:n.l})):null!==i?this._colorSpace=gr.RGB:null!==o?this._colorSpace=gr.CMYK:null!==a?this._colorSpace=gr.HSB:null!==r?this._colorSpace=gr.HSL:null!==s?this._colorSpace=gr.HEX:(this._colorSpace=gr.HEX,e=""),this._value=e}},{key:"alpha",get:function(){return this._alpha},set:function(e){isNaN(e)||e<0||e>1||(this._alpha=An.number(e))}},{key:"rgb",get:function(){var e=null;if(this._colorSpace===gr.RGB)e=He(this.value);else if(this._colorSpace===gr.HEX){var t=Ue(this.value);e=Ve(t)}else if(this._colorSpace===gr.CMYK){var n=qe(this.value);e=We(n)}else if(this._colorSpace===gr.HSB){var i=Xe(this.value);e=Qe(i)}else if(this._colorSpace===gr.HSL){var o=$e(this.value);e=tt(o)}return e},set:function(e){this.value=Be(e)}},{key:"rgbValue",get:function(){return Be(this.rgb)},set:function(e){this.value=e}},{key:"rgba",get:function(){var e=this.rgb;return e?{r:e.r,g:e.g,b:e.b,a:this.alpha}:null},set:function(e){this.value=je(e)}},{key:"rgbaValue",get:function(){return je(this.rgba)},set:function(e){this.value=e}},{key:"hex",get:function(){return Ze(this.rgb)},set:function(e){this.value=Ke(e)}},{key:"hexValue",get:function(){return Ke(this.hex)},set:function(e){this.value=e}},{key:"cmyk",get:function(){var e=null,t=null;if(this._colorSpace===gr.RGB)t=He(this.value),e=Ge(t);else if(this._colorSpace===gr.HEX){var n=Ue(this.value);t=Ve(n),e=Ge(t)}else if(this._colorSpace===gr.CMYK)e=qe(this.value);else if(this._colorSpace===gr.HSB){var i=Xe(this.value);t=Qe(i),e=Ge(t)}else if(this._colorSpace===gr.HSL){var o=$e(this.value);t=tt(o),e=Ge(t)}return e},set:function(e){this.value=ze(e)}},{key:"cmykValue",get:function(){return ze(this.cmyk)},set:function(e){this.value=e}},{key:"hsb",get:function(){var e=null,t=null;if(this._colorSpace===gr.RGB)t=He(this.value),e=Je(t);else if(this._colorSpace===gr.HEX){var n=Ue(this.value);t=Ve(n),e=Je(t)}else if(this._colorSpace===gr.CMYK){var i=qe(this.value);t=We(i),e=Je(t)}else if(this._colorSpace===gr.HSB)e=Xe(this.value);else if(this._colorSpace===gr.HSL){var o=$e(this.value);t=tt(o),e=Je(t)}return e},set:function(e){this.value=Ye(e)}},{key:"hsbValue",get:function(){return Ye(this.hsb)},set:function(e){this.value=e}},{key:"hsl",get:function(){var e=null,t=null;if(this._colorSpace===gr.RGB)t=He(this.value),e=nt(t);else if(this._colorSpace===gr.HEX){var n=Ue(this.value);t=Ve(n),e=nt(t)}else if(this._colorSpace===gr.CMYK){var i=qe(this.value);t=We(i),e=nt(t)}else if(this._colorSpace===gr.HSB){var o=Xe(this.value);t=Qe(o),e=nt(t)}else this._colorSpace===gr.HSL&&(e=$e(this.value));return e},set:function(e){this.value=et(e)}},{key:"hslValue",get:function(){return et(this.hsl)},set:function(e){this.value=e}},{key:"hsla",get:function(){var e=this.hsl;return e?{h:e.h,s:e.s,l:e.l,a:this.alpha}:null},set:function(e){this.value=ot(e)}},{key:"hslaValue",get:function(){return ot(this.hsla)},set:function(e){this.value=e}}]),e}(),yr=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.setAttribute("role","option")}},{key:"value",get:function(){return this._value||""},set:function(e){var t=new br;t.value=e,this._value=null!==t.rgb?e:"",this._reflectAttribute("value",this._value)}},{key:"selected",get:function(){return this._selected||!1},set:function(e){e=An.booleanAttr(e),this._selected=e,this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-selected",this._selected),this.trigger("coral-colorinput-item:_selectedchanged")}}],[{key:"observedAttributes",get:function(){return["selected","value"]}}]),t}(Pn(HTMLElement)),Cr=function(e){return function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._events={"click .coral3-ColorInput-preview":"_onPreviewClicked"},e.constructor._lastValidColor=null,e}return Bt(t,e),Ft(t,[{key:"_onPreviewClicked",value:function(){null!==this._colorinput.valueAsColor?(this.constructor._lastValidColor=this._colorinput.valueAsColor,this._colorinput._setActiveColor(null)):null!==this.constructor._lastValidColor&&this._colorinput._setActiveColor(this.constructor._lastValidColor)}},{key:"_beforeOverlayOpen",value:function(){}},{key:"_onColorInputChange",value:function(){}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this);var e=this.closest("coral-colorinput");e&&(this.__beforeOverlayOpen=this._beforeOverlayOpen.bind(this),this.__onColorInputChange=this._onColorInputChange.bind(this),this._colorinput=e,this._colorinput.on("coral-overlay:beforeopen",this.__beforeOverlayOpen),this._colorinput.on("coral-colorinput:_valuechange",this.__onColorInputChange),this._onColorInputChange())}},{key:"disconnectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disconnectedCallback",this).call(this),this._colorinput&&(this._colorinput.off("coral-overlay:beforeopen",this.__beforeOverlayOpen),this._colorinput.off("coral-colorinput:_valuechange",this.__onColorInputChange)),this._colorinput=null}}]),t}(e)},kr={left:"Left",right:"Right",top:"Up",bottom:"Down"},Ar=12,wr={INFO:"info",ERROR:"error",WARNING:"warning",SUCCESS:"success",INSPECT:"inspect"},Er=[];for(var Tr in wr)Er.push("coral3-Tooltip--"+wr[Tr]);var Sr=[],xr={};for(var Lr in Fi.placement){var Or=Fi.placement[Lr],Ir="coral3-Tooltip--arrow"+kr[Or];xr[Or]=Ir,Sr.push(Ir)}var Nr=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._lengthOffset=Ar,e._overlayAnimationTime=Fi.FADETIME,e._elements=Yt.extend(e._elements,{content:e.querySelector("coral-tooltip-content")||document.createElement("coral-tooltip-content")}),e._id=Yt.getUID(),e._delegateEvents({"coral-overlay:positioned":"_onPositioned"}),e}return Bt(t,e),Ft(t,[{key:"_onPositioned",value:function(e){var t;(t=this.classList).remove.apply(t,Sr),this.classList.add(xr[e.detail.placement])}},{key:"_handleFocusOut",value:function(){var e=this;window.requestAnimationFrame(function(){document.activeElement===e._getTarget()||(e._cancelShow(),e.open=!1)})}},{key:"_cancelShow",value:function(){window.clearTimeout(this._showTimeout)}},{key:"_cancelHide",value:function(){window.clearTimeout(this._hideTimeout)}},{key:"_startHide",value:function(){if(0===this.delay)this._handleFocusOut();else{var e=this;this._hideTimeout=window.setTimeout(function(){e._handleFocusOut()},this.delay)}}},{key:"_addTargetListeners",value:function(e){if(e){var t=this;if(!e["_hasCoralTooltipListeners"+t._id]){if(e["_hasCoralTooltipListeners"+t._id]=!0,t._oldTarget){var n=t._getTarget(t._oldTarget);n&&t._removeTargetListeners(n)}t._oldTarget=e,t._targetEvents=new Mt(e),t._targetEvents.on("mouseenter.CoralTooltip"+t._id+" focusin.CoralTooltip"+t._id,function(){t._cancelHide(),t.open||(t._cancelShow(),0===t.delay?t.show():t._showTimeout=window.setTimeout(function(){t.show()},t.delay))}),t._targetEvents.on("mouseleave.CoralTooltip"+t._id,function(){t.interaction===t.constructor.interaction.ON&&t._startHide()}),t._targetEvents.on("focusout.CoralTooltip"+t._id,function(){t.interaction===t.constructor.interaction.ON&&t._handleFocusOut()})}}}},{key:"_removeTargetListeners",value:function(e){this._targetEvents&&this._targetEvents.off(".CoralTooltip"+this._id),e["_hasCoralTooltipListeners"+this._id]=!1}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Tooltip"),this.setAttribute("role","tooltip"),this.setAttribute("tabindex","-1"),this._variant||(this.variant=wr.INFO);var e=this._elements.content;for(e.parentNode&&this.removeChild(e);this.firstChild;)e.appendChild(this.firstChild);this.content=e}},{key:"variant",get:function(){return this._variant||wr.INFO},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(wr)(e)&&e||wr.INFO,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,Er),this.classList.add("coral3-Tooltip--"+this._variant)}},{key:"delay",get:function(){return"number"==typeof this._delay?this._delay:500},set:function(e){this._delay=An.number(e)}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-tooltip-content",insert:function(e){this.appendChild(e)}})}},{key:"open",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",e,this),this.open||this._cancelShow()}},{key:"target",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"target",this)},set:function(e){if(jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"target",e,this),this.interaction===this.constructor.interaction.ON){var n=this._getTarget(e);this._addTargetListeners(n)}}},{key:"interaction",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"interaction",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"interaction",e,this);var n=this._getTarget();n&&(e===this.constructor.interaction.ON?this._addTargetListeners(n):this._removeTargetListeners(n))}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-tooltip-content":"content"}}}],[{key:"variant",get:function(){return wr}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["variant","delay"])}}]),t}(Fi),Mr=function(){return document.createElement("coral-tooltip-content")};window.customElements.define("coral-tooltip",Nr),window.Coral=window.Coral||{},window.Coral.Tooltip=Nr,window.Coral.Tooltip.Content=Mr;var Dr=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e,n.uid=Coral.commons.getUID(),e=n;var i=document.createTextNode("\n");t.appendChild(i);var o=this.bar=document.createElement("div");o.className+=" coral3-Slider-bar",o.setAttribute("handle","bar");var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.fillHandle=document.createElement("div");r.setAttribute("handle","fillHandle"),r.className+=" coral3-Slider-fill is-hidden",r.setAttribute("role","presentation"),o.appendChild(r);var s=document.createTextNode("\n");o.appendChild(s),t.appendChild(o);var l=document.createTextNode("\n");t.appendChild(l);var c=this.handleContainer=document.createElement("div");c.setAttribute("handle","handleContainer");var u=document.createTextNode("\n  ");c.appendChild(u);var d=this.leftHandle=document.createElement("div");d.setAttribute("handle","leftHandle"),d.className+=" coral3-Slider-handle";var h=document.createTextNode("\n    ");d.appendChild(h);var p=this.leftInput=document.createElement("input");p.setAttribute("handle","leftInput"),p.setAttribute("value","1"),p.setAttribute("type","range"),p.id=e.uid,p.className+=" coral3-Slider-input",d.appendChild(p);var m=document.createTextNode("\n    ");d.appendChild(m);var _=document.createElement("coral-tooltip");_.setAttribute("variant","inspect"),_.id=e.uid+"-tooltip",_.setAttribute("for",e.uid),_.setAttribute("interaction","off"),d.appendChild(_);var f=document.createTextNode("\n  ");d.appendChild(f),c.appendChild(d);var v=document.createTextNode("\n");c.appendChild(v),t.appendChild(c);var g=document.createTextNode("\n");return t.appendChild(g),t},Pr="coral3-Slider-handle",Fr="coral3-Slider-input",Hr={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Br=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._delegateEvents(Yt.extend(e._events,{"key:up .coral3-Slider-handle":"_handleKey","key:right .coral3-Slider-handle":"_handleKey","key:down .coral3-Slider-handle":"_handleKey","key:left .coral3-Slider-handle":"_handleKey","key:pageUp .coral3-Slider-handle":"_handleKey","key:pageDown .coral3-Slider-handle":"_handleKey","key:home .coral3-Slider-handle":"_handleKey","key:end .coral3-Slider-handle":"_handleKey","capture:mouseenter .coral3-Slider-handle":"_onMouseEnter","capture:mouseleave .coral3-Slider-handle":"_onMouseLeave",input:"_onInputChangeHandler",touchstart:"_onMouseDown",mousedown:"_onMouseDown","capture:focus":"_focus","capture:blur":"_blur"})),e._elements={},e._getTemplate().call(e._elements);var n=e._elements.handleContainer;return e._elements.handles=Array.prototype.slice.call(n.querySelectorAll("."+Pr)),e._elements.inputs=Array.prototype.slice.call(n.querySelectorAll("."+Fr)),e._onInteraction=e._onInteraction.bind(e),e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_getValueOf",value:function(e,t){return"number"==typeof this["_"+e]?this["_"+e]:this.hasAttribute(e)?parseFloat(this.getAttribute(e)):t}},{key:"_onMouseDown",value:function(e){if(!(e instanceof MouseEvent&&1!==(e.which||e.button))){if(e.preventDefault(),this._currentHandle=e.target.closest("."+Pr),!this._currentHandle){var t=this._getPoint(e),n=this._getValueFromCoord(t.pageX,t.pageY,!0);this._currentHandle=this._findNearestHandle(t.pageX,t.pageY),this._updateValue(this._currentHandle,n),this._setHandleFocus(this._currentHandle)}if(this._currentHandle.classList.add("is-dragged"),document.body.classList.add("u-coral-closedHand"),this.tooltips){var i=this._elements.handles.indexOf(this._currentHandle);this._openTooltip(this._currentHandle,this._getLabel(this._values[i]))}this._draggingHandler=this._handleDragging.bind(this),this._mouseUpHandler=this._mouseUp.bind(this),Jt.on("mousemove",this._draggingHandler),Jt.on("mouseup",this._mouseUpHandler),Jt.on("touchmove",this._draggingHandler),Jt.on("touchend",this._mouseUpHandler),Jt.on("touchcancel",this._mouseUpHandler),this._setHandleFocus(this._currentHandle)}}},{key:"_getPoint",value:function(e){return e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e.touches&&e.touches.length>0?e.touches[0]:e}},{key:"_setHandleFocus",value:function(e){e.querySelector("."+Fr).focus()}},{key:"_handleKey",value:function(e){e.preventDefault(),this._focus(e);var t=e.matchedTarget,n=this._elements.handles.indexOf(t),i=parseInt(this._values[n],10);e.keyCode===yn.keyToCode("up")||e.keyCode===yn.keyToCode("right")||e.keyCode===yn.keyToCode("pageUp")?i+=this.step:e.keyCode===yn.keyToCode("down")||e.keyCode===yn.keyToCode("left")||e.keyCode===yn.keyToCode("pageDown")?i-=this.step:e.keyCode===yn.keyToCode("home")?i=this.min:e.keyCode===yn.keyToCode("end")&&(i=this.max),this._updateValue(t,i)}},{key:"_findNearestHandle",value:function(e,t){function n(e,t,n){var i=e.getBoundingClientRect(),o=i.top+window.pageYOffset,a=i.left+window.pageXOffset;return Math.floor(Math.sqrt(Math.pow(t-(a+i.width/2),2)+Math.pow(n-(o+i.height/2),2)))}var i=1/0,o=void 0;return this._elements.handles.forEach(function(a){var r=n(a,e,t);r<i&&(i=r,o=a)}),o}},{key:"_moveHandles",value:function(){var e=this,t=this,n=function(e){return(e-t.min)/(t.max-t.min)*100};this._elements.handles.forEach(function(t,i){var o=n(e._values[i]);e.orientation===Hr.VERTICAL?(t.style.bottom=o+"%",t.style.left=""):(t.style.left=o+"%",t.style.bottom=""),e._updateTooltip(t,e._getLabel(e._values[i]))},this)}},{key:"_onInputChange",value:function(e){void 0===e.target.oninput&&this._onInputChangeHandler(e)}},{key:"_onInputChangeHandler",value:function(e){e.stopPropagation();var t=e.target.closest("."+Pr);e.target===document.activeElement&&this._focus(e),this._updateValue(t,e.target.value,!0)}},{key:"_focus",value:function(e){var t=e.target.closest("."+Pr),n=this._elements.handles.indexOf(t);this.classList.add("is-focused"),t.classList.add("is-focused"),this.tooltips&&this._openTooltip(t,this._getLabel(this._values[n])),Jt.on("touchstart.CoralSlider",this._onInteraction),Jt.on("mousedown.CoralSlider",this._onInteraction)}},{key:"_onInteraction",value:function(e){this.contains(e.target)&&e.target.blur()}},{key:"_blur",value:function(e){var t=e.target.closest("."+Pr);this.classList.remove("is-focused"),t.classList.remove("is-focused"),this.tooltips&&this._closeTooltip(t),Jt.off(".CoralSlider")}},{key:"_handleDragging",value:function(e){var t=this._getPoint(e);this._updateValue(this._currentHandle,this._getValueFromCoord(t.pageX,t.pageY)),e.preventDefault()}},{key:"_updateValue",value:function(e,t,n){var i=this._elements.handles.indexOf(e),o=this._values;o[i]=t;var a=this._values;this._values=o;var r=this._values;(n||a.join(":")!==r.join(":"))&&this.trigger("change")}},{key:"_getValueFromCoord",value:function(e,t,n){var i=void 0,o=this.getBoundingClientRect();if(this.orientation===Hr.VERTICAL){var a=o.height;i=(o.top+a-t)/a}else{var r=o.width;i=(e-o.left)/r}if(n&&(i<0||i>1))return NaN;var s=this.min+(this.max-this.min)*i;return this._snapValueToStep(s,this.min,this.max,this.step)}},{key:"_snapValueToStep",value:function(e,t,n,i){i=parseFloat(i);var o=(e-t)%i,a=i.toString().replace(/^(?:\d+)(?:\.(\d+))?$/g,"$1"),r=a.length,s=void 0;return s=2*Math.abs(o)>=i?e-Math.abs(o)+i:e-o,s<t?s=t:s>n&&(s=t+Math.floor((n-t)/i)*i),r>0&&(s=parseFloat(s.toFixed(r))),s}},{key:"_onMouseEnter",value:function(e){var t=e.matchedTarget,n=this._elements.handles.indexOf(t);this.tooltips&&this._openTooltip(t,this._getLabel(this._values[n]))}},{key:"_onMouseLeave",value:function(e){var t=e.matchedTarget;this.tooltips&&!t.classList.contains("is-dragged")&&this._closeTooltip(t)}},{key:"_mouseUp",value:function(){this._currentHandle.classList.remove("is-dragged"),document.body.classList.remove("u-coral-closedHand"),this._closeTooltip(this._currentHandle),Jt.off("mousemove",this._draggingHandler),Jt.off("touchmove",this._draggingHandler),Jt.off("mouseup",this._mouseUpHandler),Jt.off("touchend",this._mouseUpHandler),Jt.off("touchcancel",this._mouseUpHandler),this._currentHandle=null,this._draggingHandler=null,this._mouseUpHandler=null}},{key:"_updateFill",value:function(){var e=(this._values[0]-this.min)/(this.max-this.min)*100;this.orientation===Hr.VERTICAL?(this._elements.fillHandle.style.height=e+"%",this._elements.fillHandle.style.width=""):(this._elements.fillHandle.style.height="",this._elements.fillHandle.style.width=e+"%")}},{key:"_openTooltip",value:function(e,t){var n=e.querySelector("coral-tooltip"),i=this.orientation===Hr.VERTICAL?Nr.placement.RIGHT:Nr.placement.TOP;n.set({content:{textContent:t},target:e,placement:i}),n.open=!0}},{key:"_updateTooltip",value:function(e,t){e.querySelector("coral-tooltip").content.textContent=t}},{key:"_closeTooltip",value:function(e){e.querySelector("coral-tooltip").open=!1}},{key:"_getLabel",value:function(e){for(var t=this.items.getAll(),n=void 0,i=0;i<t.length;i++)if(An.number(t[i].value)===An.number(e)){n=t[i];break}return n?n.innerHTML:e}},{key:"_getTemplate",value:function(){return Dr}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Slider"),this._min||(this.min=this.min),this._max||(this.max=this.max),this._step||(this.step=this.step),this._orientation||(this.orientation=Hr.HORIZONTAL),this.setAttribute("role","presentation");var e=document.createDocumentFragment(),n=["bar","handleContainer"];for(e.appendChild(this._elements.bar),e.appendChild(this._elements.handleContainer);this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(i.getAttribute("handle"))||"CORAL-SLIDER-ITEM"===i.nodeName?e.appendChild(i):this.removeChild(i)}this.appendChild(e)}},{key:"items",get:function(){return this._items||(this._items=new Rn({host:this,itemTagName:"coral-slider-item"})),this._items}},{key:"step",get:function(){return this._getValueOf("step",1)},set:function(e){var t=this;(e=An.number(e))>0&&(this._step=e,this._reflectAttribute("step",this._step),this.setAttribute("aria-valuestep",this._step),this._elements.inputs.forEach(function(e){e.setAttribute("step",t._step),e.setAttribute("aria-valuestep",t._step)},this))}},{key:"min",get:function(){return this._getValueOf("min",1)},set:function(e){var t=this;this._min=An.number(e),this._reflectAttribute("min",this._min),this.setAttribute("aria-valuemin",this._min),this._elements.inputs.forEach(function(e){e.setAttribute("min",t._min),e.setAttribute("aria-valuemin",t._min)},this)}},{key:"max",get:function(){return this._getValueOf("max",100)},set:function(e){var t=this;this._max=An.number(e),this._reflectAttribute("max",this._max),this.setAttribute("aria-valuemax",this._max),this._elements.inputs.forEach(function(e){e.setAttribute("max",t._max),e.setAttribute("aria-valuemax",t._max)},this)}},{key:"tooltips",get:function(){return this._tooltips||!1},set:function(e){this._tooltips=An.booleanAttr(e),this._reflectAttribute("tooltips",this._tooltips)}},{key:"orientation",get:function(){return this._orientation||Hr.HORIZONTAL},set:function(e){var t=this;e=An.string(e).toLowerCase(),this._orientation=En.enumeration(Hr)(e)&&e||Hr.HORIZONTAL,this._reflectAttribute("orientation",this._orientation);var n=this._orientation===Hr.VERTICAL;this.classList.toggle("coral3-Slider--vertical",n),this.setAttribute("aria-orientation",this._orientation),this._elements.inputs.forEach(function(e){e.setAttribute("aria-orientation",t._orientation)},this),this._moveHandles(),this._updateFill()}},{key:"filled",get:function(){return this._filled||!1},set:function(e){this._filled=An.booleanAttr(e),this._reflectAttribute("filled",this._filled),this._filled&&this._updateFill(),this._elements.fillHandle.classList.toggle("is-hidden",!this._filled)}},{key:"valueAsNumber",get:function(){return parseFloat(this.value)},set:function(e){this.value=An.float(e)}},{key:"name",get:function(){return this._elements.inputs[0].name},set:function(e){var t=this;this._reflectAttribute("name",e),this._elements.inputs.forEach(function(e){e.name=t.getAttribute("name")},this)}},{key:"value",get:function(){return this._elements.inputs[0].value},set:function(e){if(e=An.number(e),1===this._elements.handles.length){var t=this._elements.inputs[0];e=this._snapValueToStep(e,this.min,this.max,this.step),t.value=e,t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",this._getLabel(e)),this._moveHandles();var n=this.getAttribute("value");t[n?"setAttribute":"removeAttribute"]("value",n)}this._updateFill()}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){var t=this;this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this._elements.inputs.forEach(function(e){e.disabled=t._disabled},this)}},{key:"required",get:function(){return this._required||!1},set:function(e){var t=this;this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.inputs.forEach(function(e){e.required=t._required},this)}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){var t=this;this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly),this._elements.inputs.forEach(function(e){e.readOnly=t._readOnly},this)}},{key:"labelledBy",get:function(){return 1===this._elements.handles.length?this._elements.inputs[0].getAttribute("aria-labelledby"):this.getAttribute("aria-labelledby")},set:function(e){var t=this;this._labelledBy=An.string(e),this._labelledBy?(1===this._elements.handles.length?(this._elements.handles[0].setAttribute("aria-labelledby",this._labelledBy),this._elements.inputs[0].setAttribute("aria-labelledby",this._labelledBy)):(this.setAttribute("aria-labelledby",this._labelledBy),this._elements.handles.forEach(function(e,n){var i=t._labelledBy+" "+e.querySelector("label").id;e.setAttribute("aria-labelledby",i),t._elements.inputs[n].setAttribute("aria-labelledby",i)},this)),this._updateForAttributes(this._labelledBy,this._elements.inputs[0].id)):(this._updateForAttributes(this.labelledBy,this._elements.inputs[0].id,!0),this.removeAttribute("aria-labelledby"),this._elements.handles.forEach(function(e,n){e.removeAttribute("aria-labelledby"),t._elements.inputs[n].removeAttribute("aria-labelledby")},this))}},{key:"_values",get:function(){return this._elements.inputs.map(function(e){return String(parseInt(e.value,10))})},set:function(e){var t=this;e&&e.length===this._elements.handles.length&&(this._elements.inputs.forEach(function(n,i){var o=e[i]=t._snapValueToStep(e[i],t.min,t.max,t.step);n.value=o,n.setAttribute("aria-valuenow",o),n.setAttribute("aria-valuetext",t._getLabel(o))},this),this._moveHandles()),this._updateFill()}}],[{key:"orientation",get:function(){return Hr}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["step","min","max","tooltips","orientation","filled"])}}]),t}(yo(Pn(HTMLElement))),Rr=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-Slider-item")}},{key:"value",get:function(){return this.getAttribute("value")},set:function(e){this._reflectAttribute("value",An.string(e))}},{key:"content",get:function(){return this},set:function(e){e instanceof HTMLElement&&(this.innerHTML=e.innerHTML)}}]),t}(HTMLElement),jr=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e,n.uidMin=Coral.commons.getUID(),n.uidMax=Coral.commons.getUID(),e=n;var i=document.createTextNode("\n");t.appendChild(i);var o=this.bar=document.createElement("div");o.className+=" coral3-Slider-bar",o.setAttribute("handle","bar");var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.fillHandle=document.createElement("div");r.setAttribute("handle","fillHandle"),r.className+=" coral3-Slider-fill is-hidden",r.setAttribute("role","presentation"),o.appendChild(r);var s=document.createTextNode("\n");o.appendChild(s),t.appendChild(o);var l=document.createTextNode("\n");t.appendChild(l);var c=this.handleContainer=document.createElement("div");c.setAttribute("handle","handleContainer");var u=document.createTextNode("\n  ");c.appendChild(u);var d=this.leftHandle=document.createElement("div")
;d.setAttribute("handle","leftHandle"),d.className+=" coral3-Slider-handle";var h=document.createTextNode("\n    ");d.appendChild(h);var p=this.leftLabel=document.createElement("label");p.setAttribute("handle","leftLabel"),p.className+=" u-coral-screenReaderOnly",p.id=e.uidMin+"-label",p.setAttribute("for",e.uidMin),p.setAttribute("aria-hidden","true"),p.textContent="Minimum",d.appendChild(p);var m=document.createTextNode("\n    ");d.appendChild(m);var _=this.leftInput=document.createElement("input");_.setAttribute("handle","leftInput"),_.setAttribute("value","1"),_.setAttribute("type","range"),_.id=e.uidMin,_.className+=" coral3-Slider-input",d.appendChild(_);var f=document.createTextNode("\n    ");d.appendChild(f);var v=document.createElement("coral-tooltip");v.setAttribute("variant","inspect"),v.id=e.uidMin+"-tooltip",v.setAttribute("for",e.uidMin),v.setAttribute("interaction","off"),d.appendChild(v);var g=document.createTextNode("\n  ");d.appendChild(g),c.appendChild(d);var b=document.createTextNode("\n  ");c.appendChild(b);var y=this.rightHandle=document.createElement("div");y.setAttribute("handle","rightHandle"),y.className+=" coral3-Slider-handle";var C=document.createTextNode("\n    ");y.appendChild(C);var k=this.rightLabel=document.createElement("label");k.setAttribute("handle","rightLabel"),k.className+=" u-coral-screenReaderOnly",k.id=e.uidMax+"-label",k.setAttribute("for",e.uidMax),k.setAttribute("aria-hidden","true"),k.textContent="Maximum",y.appendChild(k);var A=document.createTextNode("\n    ");y.appendChild(A);var w=this.rightInput=document.createElement("input");w.setAttribute("handle","rightInput"),w.setAttribute("value","100"),w.setAttribute("type","range"),w.id=e.uidMax,w.className+=" coral3-Slider-input",y.appendChild(w);var E=document.createTextNode("\n    ");y.appendChild(E);var T=document.createElement("coral-tooltip");T.setAttribute("variant","inspect"),T.id=e.uidMax+"-tooltip",T.setAttribute("for",e.uidMax),T.setAttribute("interaction","off"),y.appendChild(T);var S=document.createTextNode("\n  ");y.appendChild(S),c.appendChild(y);var x=document.createTextNode("\n");c.appendChild(x),t.appendChild(c);var L=document.createTextNode("\n");return t.appendChild(L),t},qr=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_getHighestValue",value:function(){return Math.max.apply(null,this.values)}},{key:"_getLowestValue",value:function(){return Math.min.apply(null,this.values)}},{key:"_updateValue",value:function(e,t){var n=this._elements.handles.indexOf(e);0===n?(t>parseFloat(this.values[1])&&(t=this.values[1]),this._elements.rightInput.min=t,this._elements.rightHandle.setAttribute("aria-valuemin",t)):(t<parseFloat(this.values[0])&&(t=this.values[0]),this._elements.leftInput.max=t,this._elements.leftHandle.setAttribute("aria-valuemax",t));var i=[this.values[0],this.values[1]];i[n]=t;var o=this.values;this.values=i;var a=this.values;o.join(":")!==a.join(":")&&this.trigger("change")}},{key:"_updateFill",value:function(){var e=100/(this.max-this.min),t=(this._getLowestValue()-this.min)*e,n=(this._getHighestValue()-this.min)*e-t;this.orientation===this.constructor.orientation.VERTICAL?(this._elements.fillHandle.style.bottom=t+"%",this._elements.fillHandle.style.height=n+"%"):(this._elements.fillHandle.style.left=t+"%",this._elements.fillHandle.style.width=n+"%")}},{key:"_getTemplate",value:function(){return jr}},{key:"clear",value:function(){this.startValue=this.min,this.endValue=this.max}},{key:"reset",value:function(){var e=this.getAttribute("startvalue")||this.getAttribute("value"),t=this.getAttribute("endvalue");this.startValue=An.string(e),this.endValue=An.string(t)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Slider"),this.setAttribute("filled","")}},{key:"filled",get:function(){return!0},set:function(e){An.booleanAttr(e)||console.warn("Coral.RangedSlider: filled can not be set to false."),jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"filled",!0,this)}},{key:"value",get:function(){return this.startValue},set:function(e){this.startValue=e}},{key:"startValue",get:function(){return this.values[0]||"1"},set:function(e){e=String(this._snapValueToStep(An.number(e),this.min,this.max,this.step));var t=this.values;t[0]=e,this.values=t;var n=this._elements.inputs[0],i=this.getAttribute("startvalue")||this.getAttribute("value");n[i?"setAttribute":"removeAttribute"]("value",i)}},{key:"endValue",get:function(){return this.values[1]||"100"},set:function(e){e=String(this._snapValueToStep(An.number(e),this.min,this.max,this.step));var t=this.values;t[1]=e,this.values=t;var n=this._elements.inputs[1],i=this.getAttribute("endvalue");n[i?"setAttribute":"removeAttribute"]("value",i)}},{key:"values",get:function(){return this._values},set:function(e){this._values=e}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["startvalue","startValue","endvalue","endValue"])}}]),t}(Br);window.customElements.define("coral-slider",Br),window.customElements.define("coral-slider-item",Rr),window.customElements.define("coral-rangedslider",qr),window.Coral=window.Coral||{},window.Coral.Slider=Br,window.Coral.Slider.Item=Rr,window.Coral.RangedSlider=qr;var zr=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e;var i=Coral.commons.getUID();e=n;var o=document.createTextNode("\n");t.appendChild(o);var a=this.bar=document.createElement("div");a.setAttribute("handle","bar"),a.className+=" coral3-ColorInput-sliderBar coral3-Slider-bar";var r=document.createTextNode("\n  ");a.appendChild(r);var s=this.fillHandle=document.createElement("div");s.setAttribute("handle","fillHandle"),s.className+=" coral3-Slider-fill is-hidden",s.setAttribute("role","presentation"),a.appendChild(s);var l=document.createTextNode("\n");a.appendChild(l),t.appendChild(a);var c=document.createTextNode("\n");t.appendChild(c);var u=this.handleContainer=document.createElement("div");u.setAttribute("handle","handleContainer");var d=document.createTextNode("\n  ");u.appendChild(d);var h=this.leftHandle=document.createElement("div");h.setAttribute("handle","leftHandle"),h.className+=" coral3-ColorInput-sliderHandle coral3-Slider-handle";var p=document.createTextNode("\n    ");h.appendChild(p);var m=this.leftInput=document.createElement("input");m.setAttribute("handle","leftInput"),m.setAttribute("type","range"),m.id=i,m.className+=" coral3-Slider-input",h.appendChild(m);var _=document.createTextNode("\n    ");h.appendChild(_);var f=document.createElement("coral-tooltip");f.setAttribute("variant","inspect"),f.id=i+"-tooltip",f.setAttribute("for",i),f.setAttribute("interaction","off"),h.appendChild(f);var v=document.createTextNode("\n  ");h.appendChild(v),u.appendChild(h);var g=document.createTextNode("\n");u.appendChild(g),t.appendChild(u);var b=document.createTextNode("\n");return t.appendChild(b),t},Ur=["coral3-ColorInput-slider","coral3-Slider"],Vr=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_getTemplate",value:function(){return zr}},{key:"connectedCallback",value:function(){var e;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),(e=this.classList).add.apply(e,Ur)}},{key:"gradient",get:function(){return this._gradient||""},set:function(e){this._gradient=An.string(e);var t=this._elements.bar,n=t.style,i=this.gradient.split(" "),o=i.length;if(n.backgroundImage="none",n.filter="",!(o<2)){for(var a="",r=0;r<o;r++)a+=", "+i[r]+" "+Math.abs(100*r/(o-1))+"%";n.backgroundImage="-moz-linear-gradient(to right"+a+")",n.backgroundImage="-ms-linear-gradient(to right"+a+")",n.backgroundImage="-o-linear-gradient(to right"+a+")",n.backgroundImage="-webkit-linear-gradient(to right"+a+")",n.backgroundImage="linear-gradient(to right"+a+")",n.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr='"+i[0]+"', endColorstr='"+i[1]+"', gradientType=1)"}}},{key:"labelledBy",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this),this.labelledBy&&this._updateForAttributes(this.labelledBy,this._getLabellableElement().id)}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["gradient"])}}]),t}(Br),Kr=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e;var i=Coral.commons.getUID();e=n;var o=document.createTextNode("\n");t.appendChild(o);var a=this.propertiesSubview=document.createElement("div");a.className+=" coral3-ColorInput-propertiesSubview",a.setAttribute("handle","propertiesSubview"),a.setAttribute("role","group");var r=document.createTextNode("\n  ");a.appendChild(r);var s=document.createElement("div");s.className+=" coral3-ColorInput-previewView",s.setAttribute("role","presentation");var l=document.createTextNode("\n    ");s.appendChild(l);var c=document.createElement("div");c.className+=" coral3-ColorInput-preview-container",c.setAttribute("role","presentation");var u=document.createTextNode("\n      ");c.appendChild(u);var d=this.colorPreview2=document.createElement("button","coral-button");d.setAttribute("is","coral-button"),d.setAttribute("handle","colorPreview2"),d.className+=" coral3-ColorInput-preview",d.setAttribute("type","button"),d.setAttribute("aria-pressed","false"),c.appendChild(d);var h=document.createTextNode("\n    ");c.appendChild(h),s.appendChild(c);var p=document.createTextNode("\n    ");s.appendChild(p);var m=document.createElement("div");m.className+=" coral3-ColorInput-editHex",m.setAttribute("role","presentation");var _=document.createTextNode("\n      ");m.appendChild(_);var f=document.createElement("label"),v=document.createTextNode("\n        ");f.appendChild(v);var g=document.createElement("span");g.textContent="#",f.appendChild(g);var b=document.createTextNode("\n        ");f.appendChild(b);var y=this.hexInput=document.createElement("input","coral-textfield");y.setAttribute("type","text"),y.setAttribute("handle","hexInput"),y.setAttribute("is","coral-textfield"),y.setAttribute("aria-label",Coral.i18n.get("HEX")),y.setAttribute("placeholder",Coral.i18n.get("HEX")),y.setAttribute("maxlength","6"),y.setAttribute("value",""),y.setAttribute("variant","quiet"),f.appendChild(y);var C=document.createTextNode("\n      ");f.appendChild(C),m.appendChild(f);var k=document.createTextNode("\n    ");m.appendChild(k),s.appendChild(m);var A=document.createTextNode("\n  ");s.appendChild(A),a.appendChild(s);var w=document.createTextNode("\n  ");a.appendChild(w);var E=document.createElement("div");E.className+=" coral3-ColorInput-rgbaView coral3-ColorInput-editRgba",E.setAttribute("role","presentation");var T=document.createTextNode("\n    ");E.appendChild(T);var S=document.createElement("div");S.setAttribute("role","group"),S.setAttribute("labelledby",i+"-r");var x=document.createTextNode("\n      ");S.appendChild(x);var L=document.createElement("label");L.id=i+"-r",L.textContent=Coral.i18n.get("R"),S.appendChild(L);var O=document.createTextNode("\n      ");S.appendChild(O);var I=this.redSlider=document.createElement("coral-colorinput-slider");I.setAttribute("labelledby",i+"-r"),I.setAttribute("handle","redSlider"),I.setAttribute("min","0"),I.setAttribute("max","255"),I.setAttribute("value","0"),I.setAttribute("gradient","#000000 #FF0000"),S.appendChild(I);var N=document.createTextNode("\n      ");S.appendChild(N);var M=this.redInput=document.createElement("input","coral-textfield");M.setAttribute("labelledby",i+"-r"),M.setAttribute("handle","redInput"),M.setAttribute("is","coral-textfield"),M.setAttribute("type","number"),M.setAttribute("placeholder",Coral.i18n.get("R")),M.setAttribute("maxlength","3"),M.setAttribute("value",""),M.setAttribute("variant","quiet"),S.appendChild(M);var D=document.createTextNode("\n    ");S.appendChild(D),E.appendChild(S);var P=document.createTextNode("\n    ");E.appendChild(P);var F=document.createElement("div");F.setAttribute("role","group"),F.setAttribute("labelledby",i+"-g");var H=document.createTextNode("\n      ");F.appendChild(H);var B=document.createElement("label");B.id=i+"-g",B.textContent=Coral.i18n.get("G"),F.appendChild(B);var R=document.createTextNode("\n      ");F.appendChild(R);var j=this.greenSlider=document.createElement("coral-colorinput-slider");j.setAttribute("labelledby",i+"-g"),j.setAttribute("handle","greenSlider"),j.setAttribute("min","0"),j.setAttribute("max","255"),j.setAttribute("value","0"),j.setAttribute("gradient","#000000 #00FF00"),F.appendChild(j);var q=document.createTextNode("\n      ");F.appendChild(q);var z=this.greenInput=document.createElement("input","coral-textfield");z.setAttribute("labelledby",i+"-g"),z.setAttribute("handle","greenInput"),z.setAttribute("is","coral-textfield"),z.setAttribute("type","number"),z.className+=" coral3-ColorInput-editRgb",z.setAttribute("placeholder",Coral.i18n.get("G")),z.setAttribute("maxlength","3"),z.setAttribute("value",""),z.setAttribute("variant","quiet"),F.appendChild(z);var U=document.createTextNode("\n    ");F.appendChild(U),E.appendChild(F);var V=document.createTextNode("\n    ");E.appendChild(V);var K=document.createElement("div");K.setAttribute("role","group"),K.setAttribute("labelledby",i+"-b");var Z=document.createTextNode("\n      ");K.appendChild(Z);var W=document.createElement("label");W.id=i+"-b",W.textContent=Coral.i18n.get("B"),K.appendChild(W);var G=document.createTextNode("\n      ");K.appendChild(G);var X=this.blueSlider=document.createElement("coral-colorinput-slider");X.setAttribute("labelledby",i+"-b"),X.setAttribute("handle","blueSlider"),X.setAttribute("min","0"),X.setAttribute("max","255"),X.setAttribute("value","0"),X.setAttribute("gradient","#000000 #0000FF"),K.appendChild(X);var Y=document.createTextNode("\n      ");K.appendChild(Y);var Q=this.blueInput=document.createElement("input","coral-textfield");Q.setAttribute("labelledby",i+"-b"),Q.setAttribute("handle","blueInput"),Q.setAttribute("is","coral-textfield"),Q.setAttribute("type","number"),Q.setAttribute("placeholder",Coral.i18n.get("B")),Q.setAttribute("maxlength","3"),Q.setAttribute("value",""),Q.setAttribute("variant","quiet"),K.appendChild(Q);var J=document.createTextNode("\n    ");K.appendChild(J),E.appendChild(K);var $=document.createTextNode("\n    ");E.appendChild($);var ee=document.createElement("div");ee.setAttribute("role","group"),ee.setAttribute("labelledby",i+"-a");var te=document.createTextNode("\n      ");ee.appendChild(te);var ne=document.createElement("label");ne.id=i+"-a",ne.textContent=Coral.i18n.get("A"),ee.appendChild(ne);var ie=document.createTextNode("\n      ");ee.appendChild(ie);var oe=this.alphaSlider=document.createElement("coral-colorinput-slider");oe.setAttribute("labelledby",i+"-a"),oe.setAttribute("handle","alphaSlider"),oe.setAttribute("min","0"),oe.setAttribute("max","100"),oe.setAttribute("value","100"),oe.setAttribute("gradient","rgba(255,255,255,0) rgba(255,255,255,1)"),ee.appendChild(oe);var ae=document.createTextNode("\n      ");ee.appendChild(ae);var re=this.alphaInput=document.createElement("input","coral-textfield");re.setAttribute("labelledby",i+"-a"),re.setAttribute("handle","alphaInput"),re.setAttribute("is","coral-textfield"),re.setAttribute("type","number"),re.setAttribute("placeholder",Coral.i18n.get("A")),re.setAttribute("maxlength","3"),re.setAttribute("value",""),re.setAttribute("variant","quiet"),ee.appendChild(re);var se=document.createTextNode("\n    ");ee.appendChild(se),E.appendChild(ee);var le=document.createTextNode("\n  ");E.appendChild(le),a.appendChild(E);var ce=document.createTextNode("\n");a.appendChild(ce),t.appendChild(a);var ue=document.createTextNode("\n");return t.appendChild(ue),t},Zr=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{'change [handle="redSlider"]':"_onRedSliderChange",'change [handle="greenSlider"]':"_onGreenSliderChange",'change [handle="blueSlider"]':"_onBlueSliderChange",'change [handle="alphaSlider"]':"_onAlphaSliderChange","change .coral3-ColorInput-editHex":"_onChangeHex","change .coral3-ColorInput-editRgba":"_onChangeRgba"})),e._elements={},Kr.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"_onColorInputChange",value:function(){var e=this._colorinput.valueAsColor,t=this._elements.colorPreview2,n=void 0;e?(n=e.rgba,t.style.backgroundColor=e.rgbValue,t.setAttribute("aria-pressed","false"),t.setAttribute("aria-label",an.get("{value}, Color",{value:1===parseFloat(n.a)?e.value:e.rgbaValue})),this._elements.hexInput.value=e.hexValue.substr(1)):(t.setAttribute("aria-pressed","true"),t.setAttribute("aria-label",an.get("Color not set")),this._elements.hexInput.value="");for(var i=["red","green","blue","alpha"],o=i.length,a=void 0,r=void 0,s=void 0,l=void 0,c=0;c<o;c++)a=i[c],r=a.substr(0,1),s=c===o-1,l=s?100:127,e&&(l=n?s?parseInt(100*n[r],10):n[r]:""),this._elements[a+"Slider"].value=this._elements[a+"Input"].value=l;t===document.activeElement&&(t.blur(),window.setTimeout(function(){t.focus()},100))}},{key:"_onRedSliderChange",value:function(e){this._elements.redInput.value=this._elements.redSlider.value,this._onChangeRgba(e)}},{key:"_onGreenSliderChange",value:function(e){this._elements.greenInput.value=this._elements.greenSlider.value,this._onChangeRgba(e)}},{key:"_onBlueSliderChange",value:function(e){this._elements.blueInput.value=this._elements.blueSlider.value,this._onChangeRgba(e)}},{key:"_onAlphaSliderChange",value:function(e){this._elements.alphaInput.value=this._elements.alphaSlider.value,this._onChangeRgba(e)}},{key:"_onChangeHex",value:function(e){e.stopPropagation();var t="#"+this._elements.hexInput.value,n=new br;n.value=t,null===n.hex?(this._elements.hexInput.value="",null!==this._colorinput.valueAsColor&&(this.constructor._lastValidColor=this._colorinput.valueAsColor),this._colorinput._setActiveColor(null)):this._colorinput._setActiveColor(n)}},{key:"_onChangeRgba",value:function(e){e.stopPropagation();var t=parseInt(this._elements.redInput.value,10),n=parseInt(this._elements.greenInput.value,10),i=parseInt(this._elements.blueInput.value,10),o=parseInt(this._elements.alphaInput.value,10),a=!0;if((isNaN(t)||t<0||t>255)&&(a=!1,this._elements.redInput.value=""),(isNaN(n)||n<0||n>255)&&(a=!1,this._elements.greenInput.value=""),(isNaN(i)||i<0||i>255)&&(a=!1,this._elements.blueInput.value=""),(isNaN(o)||o<0||o>100)&&(a=!1,this._elements.alphaInput.value=""),a){var r=new br;r.rgba={r:t,g:n,b:i,a:o/100},this._colorinput._setActiveColor(r)}}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ColorInput-colorProperties");var e=this.querySelector(".coral3-ColorInput-propertiesSubview");e&&e.remove(),this.appendChild(this._elements.propertiesSubview)}}]),t}(Cr(Pn(HTMLElement))),Wr=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e,i=this.colorButton=document.createElement("button","coral-button");i.setAttribute("is","coral-button"),i.setAttribute("handle","colorButton"),i.setAttribute("icon","check"),i.setAttribute("type","button"),i.setAttribute("role","presentation"),t.appendChild(i);var o=document.createTextNode("\n");t.appendChild(o),n=e,this.colorButton.label.classList.add("u-coral-screenReaderOnly"),e=n;var a=document.createTextNode("\n");return t.appendChild(a),t},Gr=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(e._events),e._elements={},Wr.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"_onColorInputChange",value:function(){this.targetColor&&(this.selected=this.targetColor.selected)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ColorInput-swatch"),this.setAttribute("role","option");var e=this.querySelector('[handle="colorButton"]');e&&e.remove(),this.appendChild(this._elements.colorButton)}},{key:"selected",get:function(){return this._selected||!1},set:function(e){(!(e=An.booleanAttr(e))||e&&!this.disabled)&&(this._selected=e,this._reflectAttribute("selected",!this.disabled&&this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-selected",this._selected),this._elements.colorButton[this._selected?"setAttribute":"removeAttribute"]("aria-label",an.get("checked")+" "+this._elements.colorButton.label.textContent),this.trigger("coral-colorinput-swatch:_selectedchanged"))}},{key:"targetColor",get:function(){return this._targetColor||null},set:function(e){"string"==typeof e&&(e=this.querySelector(e)),this._targetColor=e;var t="",n="";if(this._targetColor){var i=new br;i.value=this._targetColor.value,t=i.rgbaValue,n=i.hexValue}t?(this._elements.colorButton.style.backgroundColor=t,this._elements.colorButton.label.textContent=n,this.setAttribute("aria-value",n)):(this._elements.colorButton.classList.add("coral3-ColorInput-swatch-novalue"),this._elements.colorButton.label.textContent=an.get("unset"),this.setAttribute("aria-value",""))}},{key:"disabled",get:function(){return this._elements.colorButton.disabled},set:function(e){this._elements.colorButton.disabled=e,this._reflectAttribute("disabled",this.disabled)}},{key:"tabIndex",get:function(){return this._elements.colorButton.tabIndex},set:function(e){this._elements.colorButton.tabIndex=e,this._reflectAttribute("tabindex",this.tabIndex)}}],[{key:"observedAttributes",get:function(){return["selected","tabindex","tabIndex","disabled","targetColor","targetcolor"]}}]),t}(Cr(Pn(HTMLElement))),Xr=function(e){var t=document.createDocumentFragment(),n=this.swatchesSubview=document.createElement("div");n.className+=" coral3-ColorInput-swatchesSubview",n.setAttribute("role","presentation"),n.setAttribute("handle","swatchesSubview");var i=document.createTextNode("\n  ");n.appendChild(i);var o=document.createElement("div");o.className+=" coral3-ColorInput-swatches-header-title",o.setAttribute("role","presentation"),o.setAttribute("aria-hidden","true");var a=document.createTextNode("\n    ");o.appendChild(a);var r=this.swatchesHeaderTitle=document.createElement("span");r.setAttribute("handle","swatchesHeaderTitle"),r.id=Coral.commons.getUID(),r.setAttribute("role","heading"),r.setAttribute("aria-level","2"),r.textContent="\n      "+Coral.i18n.get("Swatches"),o.appendChild(r);var s=document.createTextNode("\n  ");o.appendChild(s),n.appendChild(o);var l=document.createTextNode("\n  ");n.appendChild(l);var c=document.createElement("div");c.className+=" coral3-ColorInput-swatches-container",c.setAttribute("role","presentation"),c.setAttribute("aria-labelledby",Coral.commons.getUID());var u=document.createTextNode("\n    ");c.appendChild(u);var d=this.swatchesContainer=document.createElement("div");d.setAttribute("handle","swatchesContainer"),d.setAttribute("role","presentation"),c.appendChild(d);var h=document.createTextNode("\n  ");c.appendChild(h),n.appendChild(c);var p=document.createTextNode("\n");n.appendChild(p),t.appendChild(n);var m=document.createTextNode("\n");return t.appendChild(m),t},Yr=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{"click coral-colorinput-swatch":"_onSwatchClicked","keydown .coral3-ColorInput-swatch":"_onKeyDown","capture:focus coral-colorinput-swatch":"_onFocus","coral-colorinput-swatch:_selectedchanged":"_onItemSelectedChanged"})),e._elements={},Xr.call(e._elements),e._oldSelection=null,e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation(),this._validateSelection(e.target)}},{key:"_validateSelection",value:function(e){var t=this,n=this.items._getAllSelected();e=e||n[n.length-1],e&&e.hasAttribute("selected")&&n.length>1&&(n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItem,t=this._oldSelection;this._preventTriggeringEvents||e===t||(e&&(this.value=e.value),this.trigger("coral-colorinput-swatches:change",{oldSelection:t,selection:e}),this._oldSelection=e)}},{key:"_beforeOverlayOpen",value:function(){var e=this._colorinput.items.getAll(),t=!1;if(this._cachedColorElements){if(this._cachedColorElements.length!==e.length)t=!0;else if(this._cachedColorElements.length===e.length)for(var n=0;n<e.length;n++)if(this._cachedColorElements[n]!==e[n]){t=!0;break}}else t=!0;this._cachedColorElements=e,t&&this._layoutColorSwatch(),this._ensureKeyboardAccess()}},{key:"_onColorInputChange",value:function(){this._ensureKeyboardAccess()}},{key:"_ensureKeyboardAccess",value:function(){if(!this.querySelector("coral-colorinput-swatch[selected]")){var e=this.querySelector("coral-colorinput-swatch");e&&(e.tabIndex=0)}}},{key:"_layoutColorSwatch",value:function(){this._elements.swatchesContainer.innerHtml="";for(var e=this._colorinput.items.getAll(),t=e.length,n=!1,i=0;i<t;i++){var o=e[i],a=new Gr;this._elements.swatchesContainer.appendChild(a),a.targetColor=o,o.selected&&(a.selected=o.selected,n=!0),a.setAttribute("aria-selected",a.selected),a.tabIndex=a.selected?0:-1}n||this._ensureKeyboardAccess()}},{key:"_onSwatchClicked",value:function(e){e.stopPropagation();var t=e.target,n=t.closest("coral-colorinput-swatch");if(!n.selected){var i=new br;i.value=n.targetColor?n.targetColor.value:"",this._colorinput._setActiveColor(i),n.selected=!0}n.firstChild.focus()}},{key:"_onKeyDown",value:function(e){var t=this._colorinput._elements.overlay;if(t.open){var n=this.items.getAll(),i=n.indexOf(e.matchedTarget),o=!0,a=i;switch(e.which){case 13:window.requestAnimationFrame(function(){t.open=!1});break;case 37:a-=1;break;case 38:a-=4;break;case 39:a+=1;break;case 40:a+=4;break;default:o=!1}if(o){if(e.preventDefault(),a<0||a>=n.length)return;var r=n[a],s=new br;s.value=r.targetColor?r.targetColor.value:"",this._colorinput._setActiveColor(s),r.selected=!0,r.firstChild.focus()}}}},{key:"_onFocus",value:function(e){for(var t=this.items.getAll(),n=0;n<t.length;n++){var i=t[n];i.contains(e.matchedTarget)||(i.tabIndex=-1)}e.matchedTarget.tabIndex=0}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ColorInput-swatches"),this.setAttribute("role","listbox");var e=this.querySelector(".coral3-ColorInput-swatchesSubview");e&&e.remove(),this.appendChild(this._elements.swatchesSubview),this.setAttribute("aria-labelledby",this._elements.swatchesHeaderTitle.id),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-colorinput-swatch",onItemAdded:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}}]),t}(Cr(Pn(HTMLElement))),Qr=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e,i=this.defaultPalette=document.createElement("div");i.setAttribute("handle","defaultPalette");var o=document.createTextNode("\n  ");i.appendChild(o);var a=document.createElement("coral-colorinput-item");a.setAttribute("value",""),i.appendChild(a);var r=document.createTextNode("\n  ");i.appendChild(r);var s=document.createElement("coral-colorinput-item");s.setAttribute("value","#001F3F"),i.appendChild(s);var l=document.createTextNode("\n  ");i.appendChild(l);var c=document.createElement("coral-colorinput-item");c.setAttribute("value","#0074D9"),i.appendChild(c);var u=document.createTextNode("\n  ");i.appendChild(u);var d=document.createElement("coral-colorinput-item");d.setAttribute("value","#7FDBFF"),i.appendChild(d);var h=document.createTextNode("\n  ");i.appendChild(h);var p=document.createElement("coral-colorinput-item");p.setAttribute("value","#39CCCC"),i.appendChild(p);var m=document.createTextNode("\n  ");i.appendChild(m);var _=document.createElement("coral-colorinput-item");_.setAttribute("value","#3D9970"),i.appendChild(_);var f=document.createTextNode("\n  ");i.appendChild(f);var v=document.createElement("coral-colorinput-item");v.setAttribute("value","#2ECC40"),i.appendChild(v);var g=document.createTextNode("\n  ");i.appendChild(g);var b=document.createElement("coral-colorinput-item");b.setAttribute("value","#01FF70"),i.appendChild(b);var y=document.createTextNode("\n  ");i.appendChild(y);var C=document.createElement("coral-colorinput-item");C.setAttribute("value","#FFDC00"),i.appendChild(C);var k=document.createTextNode("\n  ");i.appendChild(k);var A=document.createElement("coral-colorinput-item");A.setAttribute("value","#FF851B"),i.appendChild(A);var w=document.createTextNode("\n  ");i.appendChild(w);var E=document.createElement("coral-colorinput-item");E.setAttribute("value","#FF4136"),i.appendChild(E);var T=document.createTextNode("\n  ");i.appendChild(T);var S=document.createElement("coral-colorinput-item");S.setAttribute("value","#85144B"),i.appendChild(S);var x=document.createTextNode("\n  ");i.appendChild(x);var L=document.createElement("coral-colorinput-item");L.setAttribute("value","#F012BE"),i.appendChild(L);var O=document.createTextNode("\n  ");i.appendChild(O);var I=document.createElement("coral-colorinput-item");I.setAttribute("value","#B10DC9"),i.appendChild(I);var N=document.createTextNode("\n  ");i.appendChild(N);var M=document.createElement("coral-colorinput-item");M.setAttribute("value","#111111"),i.appendChild(M);var D=document.createTextNode("\n  ");i.appendChild(D);var P=document.createElement("coral-colorinput-item");P.setAttribute("value","#AAAAAA"),i.appendChild(P);var F=document.createTextNode("\n  ");i.appendChild(F);var H=document.createElement("coral-colorinput-item");H.setAttribute("value","#DDDDDD"),i.appendChild(H);var B=document.createTextNode("\n");i.appendChild(B),t.appendChild(i);var R=document.createTextNode("\n");t.appendChild(R),n=e;var j=Coral.commons.getUID();e=n;var q=document.createTextNode("\n");t.appendChild(q);var z=this.input=document.createElement("input","coral-textfield");z.setAttribute("handle","input"),z.setAttribute("is","coral-textfield"),z.className+=" coral3-ColorInput-input",z.setAttribute("type","text"),z.setAttribute("value",""),t.appendChild(z);var U=document.createTextNode("\n");t.appendChild(U);var V=this.buttonWrapper=document.createElement("div");V.className+=" coral3-ColorInput-buttonWrapper",V.setAttribute("handle","buttonWrapper"),V.setAttribute("role","presentation");var K=document.createTextNode("\n  ");V.appendChild(K);var Z=this.colorPreview=document.createElement("button","coral-button");Z.setAttribute("handle","colorPreview"),Z.setAttribute("is","coral-button"),Z.setAttribute("variant","default"),Z.className+=" coral3-ColorInput-button coral3-ColorInput-preview",Z.setAttribute("type","button"),Z.setAttribute("aria-haspopup","true"),Z.setAttribute("aria-expanded","false"),Z.setAttribute("aria-controls",j),V.appendChild(Z);var W=document.createTextNode("\n  ");V.appendChild(W),n=e,this.colorPreview.label.classList.add("u-coral-screenReaderOnly"),this.colorPreview.label.innerText=Coral.i18n.get("Color Picker"),this.id=j+"-coral-button-label",e=n;var G=document.createTextNode("\n");V.appendChild(G),t.appendChild(V);var X=document.createTextNode("\n");t.appendChild(X)
;var Y=this.overlay=document.createElement("coral-overlay");Y.setAttribute("role","dialog"),Y.setAttribute("focusonshow","on"),Y.setAttribute("trapfocus","on"),Y.setAttribute("handle","overlay"),Y.setAttribute("breadthoffset","+50%r - 50%p"),Y.setAttribute("lengthoffset","5px"),Y.setAttribute("placement","bottom"),Y.id=j,Y.setAttribute("aria-label",Coral.i18n.get("Color Picker"));var Q=document.createTextNode("\n  ");Y.appendChild(Q);var J=this.propertiesView=document.createElement("coral-colorinput-colorproperties");J.setAttribute("handle","propertiesView"),Y.appendChild(J);var $=document.createTextNode("\n  ");Y.appendChild($);var ee=this.swatchesView=document.createElement("coral-colorinput-swatches");ee.setAttribute("handle","swatchesView"),Y.appendChild(ee);var te=document.createTextNode("\n");Y.appendChild(te),t.appendChild(Y);var ne=document.createTextNode("\n");return t.appendChild(ne),t},Jr={DEFAULT:"default",SWATCH:"swatch"},$r={OFF:"off",SHADES:"shades",TINTS:"tints"},es={ON:"on",OFF:"off"},ts={ON:"on",OFF:"off"},ns={ON:"on",OFF:"off"},is=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{"coral-overlay:beforeopen":"_beforeOverlayOpen","coral-overlay:close":"_onOverlayClose","key:down .coral3-ColorInput-input:not([readonly])":"_onKeyDown",'key:down [handle="colorPreview"]':"_onKeyDown",'click [handle="colorPreview"]':"_onColorPreviewClick","global:click":"_onGlobalClick","key:esc input":"_onKeyEsc","key:enter input":"_onKeyEsc","coral-colorinput-item:_selectedchanged":"_onItemSelectedChanged"})),e._elements={},Qr.call(e._elements),e._oldSelection=null,e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation(),this._validateSelection(e.target)}},{key:"_onItemAdded",value:function(e){this._validateSelection(e),this._elements.overlay.open&&(this._elements.overlay.open=!1)}},{key:"_onItemRemoved",value:function(){this._elements.overlay.open&&(this._elements.overlay.open=!1)}},{key:"_validateSelection",value:function(e){var t=this,n=this.items._getAllSelected();e=e||n[n.length-1],e&&e.hasAttribute("selected")&&n.length>1&&(n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItem,t=this._oldSelection;this._preventTriggeringEvents||e===t||(e&&(this.value=e.getAttribute("value")),this.trigger("coral-colorinput:change",{oldSelection:t,selection:e}),this._oldSelection=e)}},{key:"_onColorPreviewClick",value:function(e){this._elements.overlay.returnFocusTo(this.variant===Jr.SWATCH?e.matchedTarget:this._elements.input),this._elements.overlay.open=!this._elements.overlay.open}},{key:"_onGlobalClick",value:function(e){this._elements.overlay.open&&(this.contains(e.target)||(this._elements.overlay.open=!1))}},{key:"_onInputChange",value:function(e){if(e.target===this._elements.input){e.stopPropagation();var t=new br;t.value=e.target[this._eventTargetProperty],this._setActiveColor(t)}}},{key:"_onKeyDown",value:function(e){e.stopPropagation(),this._elements.overlay.returnFocusTo(this.variant===Jr.SWATCH?e.matchedTarget:this._elements.input),this._elements.overlay.open=!0}},{key:"_onKeyEsc",value:function(){this._elements.overlay.open&&(this._elements.overlay.open=!1)}},{key:"_beforeOverlayOpen",value:function(){this.showProperties===ts.ON?this._elements.overlay.focusOnShow=this._elements.propertiesView._elements.colorPreview2:this.showSwatches===es.ON&&(this._elements.overlay.focusOnShow=this._elements.overlay.querySelector("coral-colorinput-swatch[selected] > button")||"coral-colorinput-swatch > button"),this._elements.colorPreview.setAttribute("aria-expanded",!0)}},{key:"_onOverlayClose",value:function(){this._elements.colorPreview.setAttribute("aria-expanded",!1)}},{key:"_validateInputValue",value:function(){this.invalid=""!==this.value&&null===this.valueAsColor}},{key:"_showOrHideView",value:function(e,t){e.hidden=t,this._elements.overlay.classList.remove("coral3-ColorInput-onlySwatchesView","coral3-ColorInput-onlyPropertiesView"),!this._elements.propertiesView.hidden&&this._elements.swatchesView.hidden?this._elements.overlay.classList.add("coral3-ColorInput-onlyPropertiesView"):this._elements.propertiesView.hidden&&!this._elements.swatchesView.hidden&&this._elements.overlay.classList.add("coral3-ColorInput-onlySwatchesView"),this.showProperties===ts.OFF&&this.showSwatches===es.ON?(this._elements.colorPreview.label.textContent=an.get("Swatches"),this._elements.overlay.setAttribute("aria-label",an.get("Swatches"))):(this._elements.colorPreview.label.textContent=an.get("Color Picker"),this._elements.overlay.setAttribute("aria-label",an.get("Color Picker")))}},{key:"_recalculateGeneratedColors",value:function(){for(var e=this.querySelectorAll("coral-colorinput-item[coral-colorinput-generatedcolor]"),t=e.length,n=0;n<t;n++)e[n].remove();if(this.autoGenerateColors!==$r.OFF){var i=this.items.getAll(),o=null,a=null,r=0,s=0,l=null,c=[];for(r=0;r<i.length;r++)for(o=i[r],a=new br,a.value=o.value,c=this.autoGenerateColors===$r.TINTS?a.calculateTintColors(5):a.calculateShadeColors(5),s=c.length-1;s>=0;s--)l=new yr,l.value=c[s].rgbaValue,l.setAttribute("coral-colorinput-generatedcolor",""),o.parentNode.insertBefore(l,o.nextSibling)}}},{key:"_syncColorPreviewIcon",value:function(){var e=this._elements.colorPreview;e.icon=this.disabled&&this.variant===Jr.SWATCH?"lockOn":"",e.iconSize=Qn.size.SMALL}},{key:"_setActiveColor",value:function(e){var t=this.valueAsColor?this.valueAsColor:new br;this.valueAsColor=e,t.isSimilarTo(this.valueAsColor,!1)||(this._validateInputValue(),this.trigger("change"))}},{key:"_selectColorInputColor",value:function(e){var t=!0;if(this.selectedItem){var n=new br;n.value=this.selectedItem.value,t=!n.isSimilarTo(e,!0)}if(t){var i=this.selectedItem;i&&i.removeAttribute("selected");for(var o=this.items.getAll(),a=o.length,r=null,s=0;s<a;s++)if(r=new br,r.value=o[s].getAttribute("value"),r.isSimilarTo(e,!0)){o[s].setAttribute("selected","");break}}}},{key:"_setDefaultSelectedItem",value:function(){var e=this.selectedItem,t=this.value;if(t&&!e){var n=new br;n.value=t,this._selectColorInputColor(n)}this._updateColorPreview()}},{key:"_updateColorPreview",value:function(){var e=this.valueAsColor;this._elements.colorPreview.style.backgroundColor=e?e.rgbaValue:"",this.classList.toggle("coral3-ColorInput--novalue",""===this.value)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ColorInput"),this.setAttribute("role","combobox"),this.setAttribute("aria-expanded",!1);var e=document.createDocumentFragment();for(e.appendChild(this._elements.defaultPalette),e.appendChild(this._elements.input),e.appendChild(this._elements.buttonWrapper),e.appendChild(this._elements.overlay);this.firstChild;){var n=this.firstChild;n.nodeType===Node.ELEMENT_NODE&&n.hasAttribute("handle")?this.removeChild(n):e.appendChild(n)}this.appendChild(e),this.autoGenerateColors=this.autoGenerateColors,this.showDefaultColors=this.showDefaultColors,this._preventTriggeringEvents=!0,this._validateSelection(),this._setDefaultSelectedItem(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem,this._elements.overlay.target=this}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-colorinput-item",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"variant",get:function(){return this._variant||Jr.DEFAULT},set:function(e){e=An.string(e).toLowerCase(),this._variant=En.enumeration(Jr)(e)&&e||Jr.DEFAULT,this._reflectAttribute("variant",this._variant),this._variant===Jr.SWATCH?(this.classList.add("coral3-ColorInput--swatch"),this._elements.input.setAttribute("tabindex",-1),this._elements.colorPreview.removeAttribute("tabindex")):(this.classList.remove("coral3-ColorInput--swatch"),this._elements.input.removeAttribute("tabindex"),this._elements.colorPreview.setAttribute("tabindex",-1)),this._syncColorPreviewIcon()}},{key:"valueAsColor",get:function(){this._color||(this._color=new br);var e=new br;return e.value=this.value,this._color.isSimilarTo(e,!0)||(this._color.value=e.value,this._color.alpha=e.alpha),null===this._color.rgb?null:this._color.clone()},set:function(e){this._color||(this._color=new br),e?(this._color=e,e.alpha<1?this.value=e.rgbaValue:this.value=e.value):(this._color.value="",this.value="")}},{key:"autoGenerateColors",get:function(){return this._autoGenerateColors||$r.OFF},set:function(e){e=An.string(e).toLowerCase(),this._autoGenerateColors=En.enumeration($r)(e)&&e||$r.OFF,this._recalculateGeneratedColors()}},{key:"showSwatches",get:function(){return this._showSwatches||es.ON},set:function(e){e=An.string(e).toLowerCase(),this._showSwatches=En.enumeration(es)(e)&&e||es.ON,this._showOrHideView(this._elements.swatchesView,this._showSwatches===es.OFF)}},{key:"showProperties",get:function(){return this._showProperties||ts.ON},set:function(e){e=An.string(e).toLowerCase(),this._showProperties=En.enumeration(ts)(e)&&e||ts.ON,this._showOrHideView(this._elements.propertiesView,this._showProperties===ts.OFF)}},{key:"showDefaultColors",get:function(){return this._showDefaultColors||ns.ON},set:function(e){e=An.string(e).toLowerCase(),this._showDefaultColors=En.enumeration(ns)(e)&&e||ns.ON;var t=this._elements.defaultPalette;this._showDefaultColors===ns.ON?t.parentNode||this.insertBefore(t,this.firstChild||null):t.parentNode&&t.parentNode.removeChild(t)}},{key:"placeholder",get:function(){return this._elements.input.placeholder},set:function(e){this._reflectAttribute("placeholder",e),this._elements.input.placeholder=e}},{key:"value",get:function(){return this._value||""},set:function(e){var t=new br;t.value=this.value;var n=new br;n.value=e,n.isSimilarTo(t,!1)||(this._value=e,this._selectColorInputColor(n),this.trigger("coral-colorinput:_valuechange")),this._elements.input.value=this.value,this._updateColorPreview()}},{key:"name",get:function(){return this._elements.input.name},set:function(e){this._reflectAttribute("name",e),this._elements.input.name=e}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this.disabled,this._elements.colorPreview.disabled=this._disabled||this.readOnly,this._syncColorPreviewIcon()}},{key:"invalid",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",e,this),this._elements.input.invalid=this.invalid}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly),this._elements.input.readOnly=this._readOnly,this._elements.colorPreview.disabled=this.disabled||this._readOnly}},{key:"labelledBy",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this),this._elements.input[e?"setAttribute":"removeAttribute"]("aria-labelledby",e),this.labelledBy?(this.setAttribute("aria-labelledby",this.labelledBy),this._elements.colorPreview.setAttribute("aria-labelledby",[this.labelledBy,this._elements.colorPreview.label.id].join(" "))):(this.removeAttribute("aria-labelledby"),this._elements.colorPreview.removeAttribute("aria-labelledby"))}}],[{key:"variant",get:function(){return Jr}},{key:"autoGenerateColors",get:function(){return $r}},{key:"showSwatches",get:function(){return es}},{key:"showDefaultColors",get:function(){return ns}},{key:"showProperties",get:function(){return ts}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["variant","autoGenerateColors","autogeneratecolors","showSwatches","showswatches","showProperties","showproperties","showDefaultColors","showdefaultcolors","placeholder"])}}]),t}(yo(Pn(HTMLElement))),os={"en-US":{Swatches:"Swatches",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Color Picker",unset:"Not set",checked:"Checked","{value}, Color":"{value}, Color","Color not set":"Color not set"},"fr-FR":{Swatches:"Échantillons",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Sélecteur de couleurs",unset:"Non défini",checked:"Activé","{value}, Color":"{value}, Couleur","Color not set":"Couleur non défini"},"de-DE":{Swatches:"Muster",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Farbauswahl",unset:"Nicht gesetzt",checked:"Aktiviert","{value}, Color":"{value}, Farbe","Color not set":"Farbe nicht gesetzt"},"it-IT":{Swatches:"Campioni",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Selettore colori",unset:"Non impostato",checked:"Selezionato","{value}, Color":"{value}, Colore","Color not set":"Colore non impostato"},"es-ES":{Swatches:"Muestras",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Selector de colores",unset:"No establecido",checked:"Activado","{value}, Color":"{value}, Color","Color not set":"Color no establecido"},"pt-BR":{Swatches:"Amostras",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Seletor de cores",unset:"Não definida",checked:"Selecionado","{value}, Color":"{value}, Cor","Color not set":"Cor não definida"},"ja-JP":{Swatches:"スウォッチ",R:"R",G:"G",B:"B",A:"A",HEX:"16 進","Color Picker":"カラー ピッカー",unset:"設定解除",checked:"選択","{value}, Color":"{value}, カラー","Color not set":"色が設定されていません"},"ko-KR":{Swatches:"견본",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"색 선택",unset:"설정 해제",checked:"선택됨","{value}, Color":"{value}, 색","Color not set":"색상이 설정되지 않았습니다."},"zh-CN":{Swatches:"色板",R:"R",G:"G",B:"B",A:"A",HEX:"十六进制","Color Picker":"颜色选取器",unset:"取消设置",checked:"已选中","{value}, Color":"{value}, 颜色","Color not set":"颜色未设定"},"zh-TW":{Swatches:"色票",R:"R",G:"G",B:"B",A:"A",HEX:"十六進位","Color Picker":"色彩選擇器",unset:"取消設定",checked:"已檢查","{value}, Color":"{value}, 色彩","Color not set":"顏色未設定"},"nl-NL":{Swatches:"Stalen",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Kleurenkiezer",unset:"Niet ingesteld",checked:"Geselecteerd","{value}, Color":"{value}, Kleur","Color not set":"Kleur niet ingesteld"},"da-DK":{Swatches:"Farveprøver",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Farvevælger",unset:"annuller indstilling",checked:"kontrolleret","{value}, Color":"{value}, Farve","Color not set":"Farve ikke indstillet"},"fi-FI":{Swatches:"Värimallit",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Värimuokkain",unset:"poista asetus",checked:"valittu","{value}, Color":"{value}, väri","Color not set":"Väriä ei ole asetettu."},"nb-NO":{Swatches:"Fargekart",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Fargevelger",unset:"fjern",checked:"avmerket","{value}, Color":"{value}, farge","Color not set":"Farge ikke angitt"},"sv-SE":{Swatches:"Färgrutor",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Färgväljaren",unset:"ställ tillbaka",checked:"kontrollerade","{value}, Color":"{value}, Färg","Color not set":"Färg inte inställd"},"cs-CZ":{Swatches:"Vzorníky",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Výběr barvy",unset:"nenastaveno",checked:"zkontrolováno","{value}, Color":"{value}, Barva","Color not set":"Barva není nastavena"},"pl-PL":{Swatches:"Próbki",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Próbnik kolorów",unset:"usuń ustawienie",checked:"sprawdzono","{value}, Color":"{value}, kolor","Color not set":"Nie ustawiono koloru"},"ru-RU":{Swatches:"Цветовые образцы",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Палитра цветов",unset:"не задано",checked:"проверено","{value}, Color":"{value}, цвет","Color not set":"Цвет не задан"},"tr-TR":{Swatches:"Renk Örnekleri",R:"R",G:"G",B:"B",A:"A",HEX:"HEX","Color Picker":"Renk Seçici",unset:"ayarı kaldır",checked:"denetlendi","{value}, Color":"{value}, Renk","Color not set":"Renk ayarlanmadı"}};Yt.extend(en,{"coralui-component-colorinput":os}),window.customElements.define("coral-colorinput",is),window.customElements.define("coral-colorinput-item",yr),window.customElements.define("coral-colorinput-swatches",Yr),window.customElements.define("coral-colorinput-swatch",Gr),window.customElements.define("coral-colorinput-slider",Vr),window.customElements.define("coral-colorinput-colorproperties",Zr),window.Coral=window.Coral||{},window.Coral.Color=br,window.Coral.ColorInput=is,window.Coral.ColorInput.Item=yr,window.Coral.ColorInput.Swatches=Yr,window.Coral.ColorInput.Swatch=Gr,window.Coral.ColorInput.Slider=Vr,window.Coral.ColorInput.ColorProperties=Zr;var as=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_deselectAndDeactivateAllExcept",value:function(e){this.getAll().forEach(function(t){(t.hasAttribute("selected")||t.hasAttribute("active"))&&(t.removeAttribute("selected"),t!==e&&t.removeAttribute("active"))})}},{key:"_deactivateAll",value:function(){this._deselectAllExcept(null,"active")}},{key:"_deactivateAllExceptFirst",value:function(){this._deselectAllExceptFirst("active")}},{key:"_getAllActive",value:function(){return this._getAllSelected("active")}}]),t}(jn),rs={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"},ss=function e(t,n,i,o){if(!(i<=0)){var a=n-t.scrollLeft,r=a/i*10;window.setTimeout(function(){t.scrollLeft=t.scrollLeft+r,t.scrollLeft===n?o&&o():e(t,n,i-10)},10)}},ls=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({"global:keyup":"_onGlobalKeyUp","global:keydown":"_onGlobalKeyDown","key:up":"_onKeyUp","key:down":"_onKeyDown","key:right":"_onKeyRight","key:left":"_onKeyLeft","key:shift+up":"_onKeyShiftAndUp","key:shift+down":"_onKeyShiftAndDown","key:space":"_onKeySpace","coral-columnview-column:_loaditems":"_onColumnLoadItems","coral-columnview-column:_activeitemchanged":"_onColumnActiveItemChanged","coral-columnview-column:_selecteditemchanged":"_onColumnSelectedItemChanged"}),e._bulkSelectionChange=!1,e._observer=new MutationObserver(e._handleMutation.bind(e)),e._observer.observe(e,{childList:!0}),e.items._startHandlingItems(!0),e.columns._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onColumnActiveItemChanged",value:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){var t=e.target;if(this._handleKeyboardMultiselect(null),this._bulkSelectionChange=!0,e.detail.activeItem){this.items._deselectAllExcept();for(var n=t.nextElementSibling;n;)"CORAL-COLUMNVIEW-COLUMN"===n.tagName&&n.items&&n.items._deactivateAll(),n=n.nextElementSibling}else this._afterItemSelectedInColumn(t);this._bulkSelectionChange=!1,this._validateColumnViewChange()}}},{key:"_onColumnLoadItems",value:function(e){e.stopImmediatePropagation(),this.trigger("coral-columnview:loaditems",{column:e.target,start:e.detail.start,item:e.detail.item})}},{key:"_onColumnSelectedItemChanged",value:function(e){e.stopImmediatePropagation(),this._bulkSelectionChange||this.selectionMode===rs.NONE||(this._bulkSelectionChange=!0,this._oldSelection.forEach(function(t){-1===e.detail.selection.indexOf(t)&&t.removeAttribute("selected")}),this._bulkSelectionChange=!1,this._validateColumnViewChange())}},{key:"_onGlobalKeyUp",value:function(e){16===e.keyCode&&this.classList.remove("is-unselectable")}},{key:"_onGlobalKeyDown",value:function(e){16===e.keyCode&&this.classList.add("is-unselectable")}},{key:"_onKeyShiftAndUp",value:function(e){e.preventDefault();var t=this._oldSelection;if(this._isKeyBoardMultiselect=!0,0===t.length){var n=this.activeItem;n&&n.setAttribute("selected","")}var i=this.items._getAllSelected(),o=this._lastSelected,a=void 0;if(o){if(o.item){if(a=o.item,a.matches(":first-child"))return void(this._isKeyBoardMultiselect=!1);o.direction&&"up"!==o.direction?(a!==o.firstSelectedItem?a.removeAttribute("selected"):o.direction="up",a=a.previousElementSibling,a.setAttribute("selected","")):(a=a.previousElementSibling,a.setAttribute("selected",""))}}else a=i[0].previousElementSibling,a.setAttribute("selected","");this._lastSelected={item:a,direction:o&&o.direction?o.direction:"up",firstSelectedItem:o&&o.firstSelectedItem?o.firstSelectedItem:a.nextElementSibling},this._isKeyBoardMultiselect=!1}},{key:"_onKeyShiftAndDown",value:function(e){e.preventDefault();var t=this._oldSelection;if(this._isKeyBoardMultiselect=!0,0===t.length){var n=this.activeItem;n&&n.setAttribute("selected","")}var i=this.items._getAllSelected(),o=this._lastSelected,a=void 0;if(o){if(o.item){if(a=o.item,a.matches(":last-child"))return void(this._isKeyBoardMultiselect=!1);o.direction&&"down"!==o.direction?(a!==o.firstSelectedItem?a.removeAttribute("selected"):o.direction="down",a=a.nextElementSibling,a.setAttribute("selected","")):(a=a.nextElementSibling,a.setAttribute("selected",""))}}else a=i[i.length-1].nextElementSibling,a.setAttribute("selected","");this._lastSelected={item:a,direction:o&&o.direction?o.direction:"down",firstSelectedItem:o&&o.firstSelectedItem?o.firstSelectedItem:a.previousElementSibling},this._isKeyBoardMultiselect=!1}},{key:"_onKeyUp",value:function(e){e.preventDefault();var t=this._oldSelection,n=void 0;if(0!==t.length){var i=t[0];n=i.previousElementSibling,n&&(n=i)}else n=null===this._oldActiveItem?this.items._getLastSelectable():this._oldActiveItem.previousElementSibling;n.click()}},{key:"_onKeyDown",value:function(e){e.preventDefault();var t=this._oldSelection,n=void 0;if(0!==t.length){var i=t[t.length-1];n=i.nextElementSibling,n||(n=i)}else n=null===this._oldActiveItem?this.items._getFirstSelectable():this._oldActiveItem.nextElementSibling;n.click()}},{key:"_onKeyRight",value:function(e){e.preventDefault();var t=this.activeItem.closest("coral-columnview-column").nextElementSibling;t&&t.items._getFirstSelectable().click()}},{key:"_onKeyLeft",value:function(e){e.preventDefault();var t=void 0,n=this._oldSelection;if(t=0!==n.length?n[0].closest("coral-columnview-column").previousElementSibling:this.activeItem.closest("coral-columnview-column").previousElementSibling)if(t.activeItem)t.activeItem.click();else{var i=t.items._getFirstSelected();i?i.click():t.items._getFirstSelectable().click()}}},{key:"_onKeySpace",value:function(e){e.preventDefault();var t=this._oldSelection;if(0!==t.length)t[0].setAttribute("active","");else{var n=this.activeItem;n&&n.setAttribute("selected","")}}},{key:"_arraysAreDifferent",value:function(e,t){var n=[];return t.length===e.length&&(n=t.filter(function(t){return-1===e.indexOf(t)})),t.length!==e.length||0!==n.length}},{key:"_handleKeyboardMultiselect",value:function(e){this._isKeyBoardMultiselect||(this._lastSelected=void 0,e&&(this._lastSelected={item:e,direction:null,firstSelectedItem:e}))}},{key:"_scrollColumnIntoView",value:function(e,t,n){var i=0,o=void 0;if(this.contains(e)){var a=this,r=function(){t&&a._removeEmptyColumnsWithSmoothTransition(n)};if(e.getBoundingClientRect().left+e.offsetWidth>=this.offsetWidth){for(var s=e.nextElementSibling;s;)s.parentNode.removeChild(s),s=e.nextElementSibling;i=this.scrollWidth-this.offsetWidth,o=i-this.scrollLeft,ss(this,i,o,r)}else t&&this._removeEmptyColumnsWithSmoothTransition(n)}}},{key:"_afterItemSelectedInColumn",value:function(e){this._emptyColumnsNextToColumn(e),this._scrollColumnIntoView(e,!0,!0)}},{key:"_emptyColumnsNextToColumn",value:function(e){if(null!==e)for(var t=e.nextElementSibling;t&&t.innerHTML.length;)t.innerHTML="",t=t.nextElementSibling}},{key:"_removeEmptyColumnsWithSmoothTransition",value:function(e){var t=this,n=Array.prototype.filter.call(this.querySelectorAll("coral-columnview-column, coral-columnview-preview"),function(e){return!e.firstChild});n.forEach(function(i,o){i.style.visibility="hidden",i.classList.add("is-collapsing"),Yt.transitionEnd(i,function(){i.remove(),o===n.length-1&&e&&t._validateNavigation(t.columns.last())}),i.style.width=0})}},{key:"_triggerCollectionEvents",value:function(e,t){for(var n=void 0,i=e.length,o=0;o<i;o++)n=e[o],"CORAL-COLUMNVIEW-COLUMN"===n.tagName&&(n.setAttribute("_selectionmode",this.selectionMode),this.trigger("coral-collection:add",{item:n}));for(var a=t.length,r=0;r<a;r++)n=t[r],"CORAL-COLUMNVIEW-COLUMN"===n.tagName&&this.trigger("coral-collection:remove",{item:n})}},{key:"_setStateFromDOM",value:function(){this._oldActiveItem=this.activeItem,this._oldSelection=this.selectedItems}},{key:"_handleMutation",value:function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n];this._triggerCollectionEvents(i.addedNodes,i.removedNodes)}this._setStateFromDOM()}},{key:"_validateColumnViewChange",value:function(){var e=this.activeItem,t=this._oldActiveItem||null;if(e!==t&&(this.trigger("coral-columnview:activeitemchange",{activeItem:e,oldActiveItem:t}),this._oldActiveItem=e),this.selectionMode!==rs.NONE){var n=this.selectedItems,i=this._oldSelection||[],o=n.filter(function(e){return-1===i.indexOf(e)});this._handleKeyboardMultiselect(o.length>0?o[0]:null),this._arraysAreDifferent(n,i)&&(this.trigger("coral-columnview:change",{selection:n,oldSelection:i}),this._oldSelection=n)}}},{key:"_validateNavigation",value:function(e){"CORAL-COLUMNVIEW-PREVIEW"===e.tagName&&0!==this._oldSelection.length||this.trigger("coral-columnview:navigate",{activeItem:this.activeItem,column:e})}},{key:"focus",value:function(){var e=this.selectedItems[0]||this.activeItem;e&&e.focus()}},{key:"setNextColumn",value:function(e,t,n){n=void 0===n||n;var i=t||null;if(null!==i&&this.contains(i)){var o=i.nextElementSibling;if(o){this._emptyColumnsNextToColumn(i);var a=o.nextElementSibling;this.removeChild(o),this.insertBefore(e,a)}else this.appendChild(e)}else this.appendChild(e);n&&this._scrollColumnIntoView(e,!0,!1),this._validateNavigation(e)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ColumnView"),this.setAttribute("tabindex","0"),this._selectionMode||(this._selectionMode=rs.NONE),this._setStateFromDOM()}},{key:"columns",get:function(){return this._columns||(this._columns=new as({host:this,itemTagName:"coral-columnview-column"})),this._columns}},{key:"items",get:function(){return this._items||(this._items=new as({host:this,itemTagName:"coral-columnview-item"})),this._items}},{key:"selectionMode",get:function(){return this._selectionMode||rs.NONE},set:function(e){var t=this;e=An.string(e).toLowerCase(),this._selectionMode=En.enumeration(rs)(e)&&e||rs.NONE,this._reflectAttribute("selectionmode",this._selectionMode),this.columns.getAll().forEach(function(e){e.setAttribute("_selectionmode",t._selectionMode)},this),this.classList.remove("coral3-ColumnView--selection"),this._selectionMode!==rs.NONE&&this.classList.add("coral3-ColumnView--selection"),this.setAttribute("aria-multiselectable",this._selectionMode===rs.MULTIPLE)}},{key:"selectedItem",get:function(){return this.selectionMode!==rs.NONE?this.items._getFirstSelected():null}},{key:"selectedItems",get:function(){return this.selectionMode!==rs.NONE?this.items._getAllSelected():[]}},{key:"activeItem",get:function(){return this.items._getAllActive().pop()||null}}],[{key:"selectionMode",get:function(){return rs}},{key:"observedAttributes",get:function(){return["selectionmode","selectionMode"]}}]),t}(Pn(HTMLElement)),cs=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({"capture:scroll coral-columnview-column-content":"_onContentScroll","click coral-columnview-column-content":"_onColumnContentClick","click coral-columnview-item":"_onItemClick","click coral-columnview-item-thumbnail":"_onItemThumbnailClick","coral-columnview-item:_activechanged coral-columnview-item":"_onItemActiveChange","coral-columnview-item:_selectedchanged coral-columnview-item":"_onItemSelectedChange"}),e._elements={content:e.querySelector("coral-columnview-column-content")||document.createElement("coral-columnview-column-content")},e._bulkSelectionChange=!1,e._oldSelection=[],e._oldActiveItem=null,e._onDebouncedScroll=e._onDebouncedScroll.bind(e),e._observer=new MutationObserver(e._handleMutation.bind(e)),e._observer.observe(e._elements.content,{childList:!0}),e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onItemClick",value:function(e){e.matchedTarget.hasAttribute("active")?this._onItemActiveChange(e):e.matchedTarget.active=!0}},{key:"_onItemThumbnailClick",value:function(e){if(this._selectionMode&&this._selectionMode!==rs.NONE){e.stopPropagation();var t=e.matchedTarget.parentElement,n=t.hasAttribute("selected");n||this._selectionMode!==rs.SINGLE||t.setAttribute("active",""),t[n?"removeAttribute":"setAttribute"]("selected","")}}},{key:"_onItemActiveChange",value:function(e){if(e.stopImmediatePropagation(),!this._bulkSelectionChange){var t=e.matchedTarget;this._bulkSelectionChange=!0,this.items._deselectAndDeactivateAllExcept(t),this._bulkSelectionChange=!1,this._validateColumnChange(t),this._loadItems(0,t)}}},{key:"_onItemSelectedChange",value:function(e){e.stopImmediatePropagation();var t=e.target;this._bulkSelectionChange||(t.selected&&(this._bulkSelectionChange=!0,this.items._deactivateAll(),this._selectionMode===rs.SINGLE&&this.items._deselectAllExcept(t),this._bulkSelectionChange=!1),this._validateColumnChange())}},{key:"_tryToLoadAdditionalItems",value:function(){if(!this._bulkCollectionChange){this._bulkCollectionChange=!0;var e=this;window.setTimeout(function(){e._bulkCollectionChange=!1,e._loadFittingAdditionalItems()},0)}}},{key:"_onContentScroll",value:function(){window.clearTimeout(this._scrollTimeout),this._scrollTimeout=window.setTimeout(this._onDebouncedScroll,100)}},{key:"_onColumnContentClick",value:function(e){if(e.target===e.matchedTarget){if(e.preventDefault(),this._bulkSelectionChange)return!1;this._bulkSelectionChange=!0,this.items._deselectAndDeactivateAllExcept(),this._bulkSelectionChange=!1,this._validateColumnChange()}}},{key:"_onDebouncedScroll",value:function(){this.content.scrollTop+this.offsetHeight>=this.content.scrollHeight-20&&this._loadItems(this.items.length,void 0)}},{key:"_arraysAreDifferent",value:function(e,t){var n=[];return t.length===e.length&&(n=t.filter(function(t){return-1===e.indexOf(t)})),t.length!==e.length||0!==n.length}},{key:"_validateColumnChange",value:function(e){var t=this.activeItem,n=this._oldActiveItem||null;t===n&&e!==t||(this.trigger("coral-columnview-column:_activeitemchanged",{activeItem:t,oldActiveItem:n}),this._oldActiveItem=t);var i=this.selectedItems,o=this._oldSelection;this._arraysAreDifferent(i,o)&&(this.trigger("coral-columnview-column:_selecteditemchanged",{selection:i,oldSelection:o}),this._oldSelection=i)}},{key:"_loadFittingAdditionalItems",value:function(){var e=this.items.length;48*e<=this.offsetHeight&&this._loadItems(e,void 0)}},{key:"_loadItems",value:function(e,t){t&&!t.hasAttribute("active")||this.trigger("coral-columnview-column:_loaditems",{start:e,item:t})}},{key:"_setStateFromDOM",value:function(){this._selectionMode&&(this._selectionMode===rs.SINGLE?this.items._deselectAllExceptLast():this._selectionMode===rs.NONE&&this.items._deselectAllExcept(),this.items._deactivateAllExceptFirst())}},{key:"_handleMutation",value:function(e){for(var t=e.length,n=0;n<t;n++){var i=e[n]
;this._triggerCollectionEvents(i.addedNodes,i.removedNodes)}this._setStateFromDOM(),this._validateColumnChange(),this._tryToLoadAdditionalItems()}},{key:"_triggerCollectionEvents",value:function(e,t){for(var n=void 0,i=e.length,o=0;o<i;o++)n=e[o],"CORAL-COLUMNVIEW-ITEM"===n.tagName&&this.trigger("coral-collection:add",{item:n});for(var a=t.length,r=0;r<a;r++)n=t[r],"CORAL-COLUMNVIEW-ITEM"===n.tagName&&this.trigger("coral-collection:remove",{item:n})}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ColumnView-column"),this.setAttribute("role","group");var e=this._elements.content;if(!e.parentNode)for(;this.firstChild;)e.appendChild(this.firstChild);this.content=e,this._setStateFromDOM(),this._oldSelection=this.selectedItems,this._oldActiveItem=this.activeItem;var n=this;window.setTimeout(function(){n._loadFittingAdditionalItems()})}},{key:"activeItem",get:function(){return this.items._getAllActive()[0]||null}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-columnview-column-content",insert:function(e){this.appendChild(e)}})}},{key:"items",get:function(){return this._items||(this._items=new as({host:this,container:this.content,itemTagName:"coral-columnview-item"})),this._items}},{key:"selectedItem",get:function(){return this._selectionMode!==rs.NONE?this.items._getFirstSelected():null}},{key:"selectedItems",get:function(){return this._selectionMode!==rs.NONE?this.items._getAllSelected():[]}},{key:"_selectionMode",get:function(){return this.__selectionMode},set:function(e){e=An.string(e).toLowerCase(),this.__selectionMode=En.enumeration(rs)(e)&&e||null,this._reflectAttribute("selectionmode",this.__selectionMode),this._setStateFromDOM()}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-columnview-column-content":"content"}}}],[{key:"observedAttributes",get:function(){return["_selectionmode","_selectionMode"]}}]),t}(Pn(HTMLElement)),us=function(){return document.createElement("coral-columnview-column-content")},ds={DEFAULT:"default",DRILLDOWN:"drilldown"},hs=[];for(var ps in ds)hs.push("coral3-ColumnView-item--"+ds[ps]);var ms=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-columnview-item-content")||document.createElement("coral-columnview-item-content"),thumbnail:e.querySelector("coral-columnview-item-thumbnail")||document.createElement("coral-columnview-item-thumbnail")},e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ColumnView-item"),this.setAttribute("role","treeitem"),this._variant||(this.variant=ds.DEFAULT);var e=this._elements.thumbnail,n=this._elements.content;for(n.parentNode&&n.remove(),e.parentNode&&e.remove();this.firstChild;)n.appendChild(this.firstChild);this.content=n,this.thumbnail=e}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-columnview-item-content",insert:function(e){this.appendChild(e)}})}},{key:"thumbnail",get:function(){return this._getContentZone(this._elements.thumbnail)},set:function(e){this._setContentZone("thumbnail",e,{handle:"thumbnail",tagName:"coral-columnview-item-thumbnail",insert:function(e){this.insertBefore(e,this.content||null)}})}},{key:"variant",get:function(){return this._variant||ds.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration("variant",e)&&e||ds.DEFAULT,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,hs),this._variant!==ds.DEFAULT&&this.classList.add("coral3-ColumnView-item--"+this._variant)}},{key:"icon",get:function(){return this._icon||""},set:function(e){this._icon=An.string(e),this._reflectAttribute("icon",this._icon),this._icon&&(this._elements.icon||(this._elements.icon=document.createElement("coral-icon")),this._elements.icon.icon=this.icon,this._elements.icon.size=Qn.size.SMALL,this._elements.thumbnail.innerHTML="",this._elements.thumbnail.appendChild(this._elements.icon))}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-selected",this._selected||this.active),this.trigger("coral-columnview-item:_selectedchanged")}},{key:"active",get:function(){return this._active||!1},set:function(e){this._active=An.booleanAttr(e),this._reflectAttribute("active",this._active),this.classList.toggle("is-active",this._active),this.setAttribute("aria-selected",this._active||this.selected),this.trigger("coral-columnview-item:_activechanged")}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-columnview-item-content":"content","coral-columnview-item-thumbnail":"thumbnail"}}}],[{key:"variant",get:function(){return ds}},{key:"observedAttributes",get:function(){return["variant","icon","selected","active"]}}]),t}(Pn(HTMLElement)),_s=function(){return document.createElement("coral-columnview-item-content")},fs=function(){return document.createElement("coral-columnview-item-thumbnail")},vs=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-columnview-preview-content")||document.createElement("coral-columnview-preview-content")},e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-ColumnView-column");var e=this._elements.content;if(!e.parentNode)for(;this.firstChild;)e.appendChild(this.firstChild);this.content=e}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-columnview-preview-content",insert:function(e){this.appendChild(e)}})}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-columnview-preview-content":"content"}}}]),t}(Pn(HTMLElement)),gs=function(){return document.createElement("coral-columnview-preview-asset")},bs=function(){return document.createElement("coral-columnview-preview-content")},ys=function(){return document.createElement("coral-columnview-preview-label")},Cs=function(){return document.createElement("coral-columnview-preview-separator")},ks=function(){return document.createElement("coral-columnview-preview-value")};window.customElements.define("coral-columnview",ls),window.customElements.define("coral-columnview-column",cs),window.customElements.define("coral-columnview-item",ms),window.customElements.define("coral-columnview-preview",vs),window.Coral=window.Coral||{},window.Coral.ColumnView=ls,window.Coral.ColumnView.Column=cs,window.Coral.ColumnView.Column.Content=us,window.Coral.ColumnView.Item=ms,window.Coral.ColumnView.Item.Content=_s,window.Coral.ColumnView.Item.Thumbnail=fs,window.Coral.ColumnView.Preview=vs,window.Coral.ColumnView.Preview.Asset=gs,window.Coral.ColumnView.Preview.Content=bs,window.Coral.ColumnView.Preview.Label=ys,window.Coral.ColumnView.Preview.Separator=Cs,window.Coral.ColumnView.Preview.Value=ks;var As={ICON:"icon",TEXT:"text",ICON_TEXT:"icontext",INHERIT:"inherit"},ws=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.setAttribute("role","option"),this._displayMode||(this.displayMode=As.INHERIT)}},{key:"icon",get:function(){return this._icon||""},set:function(e){this._icon=An.string(e),this._reflectAttribute("icon",this._icon),this.trigger("coral-cyclebutton-item:_iconchanged")}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this.disabled),this.setAttribute("aria-disabled",this.disabled),this._disabled&&this.selected&&(this.selected=!1),this._disabled||this.selected||this.trigger("coral-cyclebutton-item:_validateselection")}},{key:"selected",get:function(){return this._selected||!1},set:function(e){(!(e=An.booleanAttr(e))||e&&!this.disabled)&&(this._selected=e,this._reflectAttribute("selected",!this.disabled&&this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-selected",this._selected),this.trigger("coral-cyclebutton-item:_selectedchanged"))}},{key:"displayMode",get:function(){return this._displayMode||As.INHERIT},set:function(e){e=An.string(e).toLowerCase(),this._displayMode=En.enumeration(As)(e)&&e||As.INHERIT,this._reflectAttribute("displaymode",this._displayMode),this.trigger("coral-cyclebutton-item:_displaymodechanged")}}],[{key:"displayMode",get:function(){return As}},{key:"observedAttributes",get:function(){return["selected","disabled","icon","displayMode","displaymode"]}}]),t}(Pn(HTMLElement)),Es=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e;var i=Coral.commons.getUID();e=n;var o=document.createTextNode("\n");t.appendChild(o);var a=this.button=document.createElement("button","coral-button");a.id=i,a.setAttribute("handle","button"),a.setAttribute("aria-expanded","false"),a.className+=" coral3-CycleButton-button",a.setAttribute("is","coral-button"),a.setAttribute("variant","quiet"),a.setAttribute("iconsize","S");var r=document.createTextNode("\n  ");a.appendChild(r);var s=document.createElement("coral-button-label"),l=document.createTextNode("\n    ");s.appendChild(l);var c=this.openIcon=document.createElement("coral-icon");c.setAttribute("handle","openIcon"),c.setAttribute("icon","chevronDown"),c.setAttribute("size","xxs"),c.className+=" coral3-CycleButton-openIcon",s.appendChild(c);var u=document.createTextNode("\n  ");s.appendChild(u),a.appendChild(s);var d=document.createTextNode("\n");a.appendChild(d),t.appendChild(a);var h=document.createTextNode("\n");t.appendChild(h);var p=this.overlay=document.createElement("coral-overlay");p.setAttribute("handle","overlay"),p.className+=" coral3-CycleButton-overlay",p.setAttribute("returnfocus","on"),p.setAttribute("focusonshow","coral-selectlist"),p.setAttribute("trapfocus","on"),p.setAttribute("placement","bottom");var m=document.createTextNode("\n  ");p.appendChild(m);var _=this.selectList=document.createElement("coral-selectlist");_.setAttribute("handle","selectList"),_.id=Coral.commons.getUID(),p.appendChild(_);var f=document.createTextNode("\n  ");p.appendChild(f);var v=this.actionList=document.createElement("coral-buttonlist");v.setAttribute("handle","actionList"),v.setAttribute("hidden",""),p.appendChild(v);var g=document.createTextNode("\n");p.appendChild(g),t.appendChild(p);var b=document.createTextNode("\n");return t.appendChild(b),t},Ts={ICON:"icon",TEXT:"text",ICON_TEXT:"icontext"},Ss=/[\t\n\r ]+/g,xs=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({"click :not(coral-cyclebutton-action)":"_onItemClick","key:down [aria-expanded=false]":"_onItemClick","coral-selectlist:change":"_onSelectListChange","global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick","global:key:escape":"_onEscapeKey","coral-cyclebutton-item:_selectedchanged":"_onItemSelectedChanged","coral-cyclebutton-item:_validateselection":"_onValidateSelection","coral-cyclebutton-item:_iconchanged coral-cyclebutton-item[selected]":"_onSelectedItemPropertyChange","coral-cyclebutton-item:_displaymodechanged coral-cyclebutton-item[selected]":"_onSelectedItemPropertyChange"}),e._elements={},Es.call(e._elements),e._elements.overlay.target=e._elements.button,e._elements.overlay.returnFocusTo(e._elements.button),e._oldSelection=null,e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onItemAdded",value:function(e){this.selectedItem?this._validateSelection(e):e.setAttribute("selected",""),this._checkExtended()}},{key:"_onItemRemoved",value:function(){this.selectedItem||this._selectFirstItem(),this._checkExtended()}},{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation(),this._validateSelection(e.target)}},{key:"_onValidateSelection",value:function(e){e.stopImmediatePropagation(),this._validateSelection()}},{key:"_selectFirstItem",value:function(){var e=this.items._getFirstSelectable();e&&e.setAttribute("selected","")}},{key:"_validateSelection",value:function(e){var t=this,n=this.items._getAllSelected();if(e)if(e.hasAttribute("selected")||n.length)e.hasAttribute("selected")&&n.length>1&&(n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1);else{var i=this.items._getNextSelectable(e);e!==i&&i.setAttribute("selected","")}else n.length>1?(e=n[n.length-1],n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1):n.length||this._selectFirstItem();this._renderSelectedItem(this.selectedItem),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItem,t=this._oldSelection;this._preventTriggeringEvents||e===t||(this.trigger("coral-cyclebutton:change",{oldSelection:t,selection:e}),this._oldSelection=e)}},{key:"_onEscapeKey",value:function(){this._elements.overlay._isTopOverlay()&&this._hideOverlay()}},{key:"_onGlobalClick",value:function(e){if(this._elements.overlay.open){var t=this._elements.overlay.contains(e.target),n=this.contains(e.target);t||n||this._hideOverlay()}}},{key:"_onItemClick",value:function(e){e.preventDefault();var t=this.items.getAll(),n=t.length;e.matchedTarget!==this._elements.button&&"coral-cyclebutton-item"!==e.matchedTarget.tagName.toLowerCase()||(this._isExtended()?this._elements.overlay.open?this._hideOverlay():(this._showOverlay(),this._focusItem(this.selectedItem._selectListItem)):n>1&&(this._selectCycleItem(this.selectedItem.nextElementSibling||t[0]),this._focusItem(this._elements.button)))}},{key:"_renderSelectedItem",value:function(e){if(e&&e.content){var t=this.displayMode,n=e.icon||this.icon||"";if(e.displayMode!==ws.displayMode.INHERIT&&(t=e.displayMode),e.content.textContent.trim()&&n.trim()||(t=Ts.ICON_TEXT),t===Ts.ICON){this._elements.button.icon=n,this._elements.openIcon.remove(),this._elements.button.label.innerHTML="",this._elements.button.label.appendChild(this._elements.openIcon);var i=e.content.textContent.replace(Ss," ");this._elements.button.setAttribute("aria-label",i),this._elements.button.setAttribute("title",i)}else t===Ts.TEXT&&(this._elements.button.icon=""),t===Ts.ICON_TEXT&&(this._elements.button.icon=n),this._elements.button.label.innerHTML=e.content.innerHTML,this._elements.button.removeAttribute("aria-label"),this._elements.button.removeAttribute("title")}}},{key:"_onSelectedItemPropertyChange",value:function(e){e.stopImmediatePropagation(),this._renderSelectedItem(e.target)}},{key:"_onSelectListChange",value:function(e){e.stopImmediatePropagation(),e.preventDefault();var t=e.detail.selection;if(t){var n=t._originalItem;this._selectCycleItem(n),this._hideOverlay()}}},{key:"_proxyClick",value:function(e){e.stopPropagation(),e.matchedTarget._originalItem.trigger("click").defaultPrevented||this._hideOverlay()}},{key:"_isExtended",value:function(){var e=this.actions.getAll().length>0;return this.threshold>0&&this.items.getAll().length>=this.threshold||e}},{key:"_checkExtended",value:function(){var e=this._isExtended();if(this.classList.toggle("coral3-CycleButton--extended",e),e){var t=this._elements.selectList.id;this._elements.button.setAttribute("aria-owns",t),this._elements.button.setAttribute("aria-controls",t),this._elements.button.setAttribute("aria-haspopup",!0),this._elements.button.setAttribute("aria-expanded",!1)}else this._elements.button.removeAttribute("aria-owns"),this._elements.button.removeAttribute("aria-controls"),this._elements.button.removeAttribute("aria-haspopup"),this._elements.button.removeAttribute("aria-expanded")}},{key:"_focusItem",value:function(e){e&&e.focus()}},{key:"_hideOverlay",value:function(){this._elements.button.setAttribute("aria-expanded",!1),this._elements.overlay.hide();var e=this;window.requestAnimationFrame(function(){e._elements.button.focus()})}},{key:"_getSelectListItem",value:function(e){var t=new Ja;if(e.icon){var n=(new Qn).set({icon:e.icon,size:Qn.size.SMALL});t.content.appendChild(n)}return t.content.appendChild(document.createTextNode(e.content.textContent)),t._originalItem=e,e._selectListItem=t,t}},{key:"_getActionListItem",value:function(e){var t=new Zo.Item;return t.icon=e.icon,t.content.innerHTML=e.content.innerHTML,t._originalItem=e,t._elements.buttonListItem=t,t.on("click",this._proxyClick.bind(this)),t}},{key:"_populateLists",value:function(){var e=this._elements.selectList,t=this._elements.actionList,n=this.items.getAll(),i=this.actions.getAll(),o=n.length,a=i.length,r=void 0,s=void 0;e.items.clear(),t.items.clear();for(var l=0;l<o;l++){var c=n[l];r=this._getSelectListItem(c),e.items.add(r),r.set({disabled:c.disabled,selected:c.selected},!0)}if(a>0){for(var u=0;u<a;u++){var d=i[u];s=this._getActionListItem(d),t.items.add(s),s.disabled=d.disabled}this._elements.actionList.removeAttribute("hidden")}else this._elements.actionList.setAttribute("hidden",!0)}},{key:"_selectCycleItem",value:function(e){e.selected=!0}},{key:"_showOverlay",value:function(){this._elements.button.setAttribute("aria-expanded",!0),this._populateLists();var e=this;window.requestAnimationFrame(function(){e._elements.overlay.show()})}},{key:"connectedCallback",value:function(){var e=this;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-CycleButton"),this._threshold||(this.threshold=3),this._displayMode||(this.displayMode=Ts.ICON),this.setAttribute("role","presentation"),this._checkExtended(),["button","overlay"].forEach(function(t){var n=e.querySelector('[handle="'+t+'"]');n&&n.remove()},this);var n=document.createDocumentFragment();n.appendChild(this._elements.button),n.appendChild(this._elements.overlay),this.insertBefore(n,this.firstChild),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-cyclebutton-item",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"icon",get:function(){return this._icon||""},set:function(e){this._icon=An.string(e),this._reflectAttribute("icon",this._icon);var t=this.selectedItem;t&&this._renderSelectedItem(t)}},{key:"threshold",get:function(){return"number"==typeof this._threshold?this._threshold:3},set:function(e){(e=An.number(e))>-1&&(this._threshold=e,this._checkExtended())}},{key:"actions",get:function(){return this._actions||(this._actions=new jn({host:this,itemTagName:"coral-cyclebutton-action",itemSelector:"coral-cyclebutton-action"})),this._actions}},{key:"displayMode",get:function(){return this._displayMode||Ts.ICON},set:function(e){e=An.string(e).toLowerCase(),this._displayMode=En.enumeration(Ts)(e)&&e||Ts.ICON,this._reflectAttribute("displaymode",this._displayMode);var t=this.selectedItem;t&&this._renderSelectedItem(t)}}],[{key:"displayMode",get:function(){return Ts}},{key:"observedAttributes",get:function(){return["icon","threshold","displaymode","displayMode"]}}]),t}(Pn(HTMLElement)),Ls=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"icon",get:function(){return this._icon||""},set:function(e){this._icon=An.string(e),this._reflectAttribute("icon",this._icon)}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}}]),t}(Pn(HTMLElement));window.customElements.define("coral-cyclebutton",xs),window.customElements.define("coral-cyclebutton-item",ws),window.customElements.define("coral-cyclebutton-action",Ls),window.Coral=window.Coral||{},window.Coral.CycleButton=xs,window.Coral.CycleButton.Item=ws,window.Coral.CycleButton.Action=Ls;var Os={"en-US":{Time:"Time",Calendar:"Calendar"},"de-DE":{Time:"Zeit",Calendar:"Kalender"},"fr-FR":{Time:"Heure",Calendar:"Calendrier"},"it-IT":{Time:"Ora",Calendar:"Calendario"},"ja-JP":{Time:"時間",Calendar:"カレンダー"},"es-ES":{Time:"Hora",Calendar:"Calendario"},"ko-KR":{Time:"시간",Calendar:"달력"},"zh-CN":{Time:"时间",Calendar:"日历"},"zh-TW":{Time:"時間",Calendar:"日曆"},"pt-BR":{Time:"Hora",Calendar:"Calendário"},"nl-NL":{Time:"Tijd",Calendar:"Kalender"},"da-DK":{Time:"Tid",Calendar:"Kalender"},"fi-FI":{Time:"Aika",Calendar:"Kalenteri"},"nb-NO":{Time:"Klokkeslett",Calendar:"Kalender"},"sv-SE":{Time:"Tid",Calendar:"Kalender"},"cs-CZ":{Time:"Čas",Calendar:"Kalendář"},"pl-PL":{Time:"Czas",Calendar:"Kalendarz"},"ru-RU":{Time:"Время",Calendar:"Календарь"},"tr-TR":{Time:"Zaman",Calendar:"Takvim"}},Is=function(e){var t=document.createDocumentFragment(),n=this.popover=document.createElement("coral-popover");n.setAttribute("smart",""),n.setAttribute("handle","popover"),n.id=Coral.commons.getUID(),n.setAttribute("breadthoffset","+50%r - 50%p"),n.setAttribute("placement","bottom"),n.setAttribute("collision","fit"),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.hiddenInput=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("handle","hiddenInput"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.input=document.createElement("input","coral-textfield");r.setAttribute("is","coral-textfield"),r.setAttribute("type","text"),r.setAttribute("handle","input"),r.className+=" coral-InputGroup-input",r.setAttribute("role","textbox"),t.appendChild(r);var s=document.createTextNode("\n");t.appendChild(s);var l=this.toggleButtonContainer=document.createElement("div");l.className+=" coral-InputGroup-button",l.setAttribute("handle","toggleButtonContainer");var c=document.createTextNode("\n  ");l.appendChild(c);var u=this.toggle=document.createElement("button","coral-button");u.setAttribute("is","coral-button"),u.setAttribute("type","button"),u.setAttribute("icon","calendar"),u.setAttribute("iconsize","S"),u.setAttribute("handle","toggle"),u.setAttribute("aria-haspopup","true"),u.setAttribute("aria-label",Coral.i18n.get("Calendar")),u.setAttribute("title",Coral.i18n.get("Calendar")),l.appendChild(u);var d=document.createTextNode("\n");l.appendChild(d),t.appendChild(l);var h=document.createTextNode("\n");return t.appendChild(h),t},Ns=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e;var i=Coral.commons.getUID();e=n;var o=document.createTextNode("\n");t.appendChild(o);var a=this.calendar=document.createElement("coral-calendar");a.setAttribute("handle","calendar"),a.className+=" u-coral-borderless",a.setAttribute("aria-labelledby",i+"-calendar");var r=document.createTextNode("\n  ");a.appendChild(r);var s=document.createElement("span");s.id=i+"-calendar",s.className+=" u-coral-screenReaderOnly",s.setAttribute("hidden",""),s.textContent=Coral.i18n.get("Calendar"),a.appendChild(s);var l=document.createTextNode("\n");a.appendChild(l),t.appendChild(a);var c=document.createTextNode("\n");t.appendChild(c);var u=this.clockContainer=document.createElement("div");u.className+=" coral3-Datepicker-clockContainer",u.setAttribute("handle","clockContainer");var d=document.createTextNode("\n  ");u.appendChild(d);var h=this.clock=document.createElement("coral-clock");h.setAttribute("handle","clock"),h.setAttribute("aria-labelledby",i+"-clock");var p=document.createTextNode("\n    ");h.appendChild(p);var m=document.createElement("span");m.id=i+"-clock",m.className+=" u-coral-screenReaderOnly",m.setAttribute("hidden",""),m.textContent=Coral.i18n.get("Time"),h.appendChild(m);var _=document.createTextNode("\n  ");h.appendChild(_),u.appendChild(h);var f=document.createTextNode("\n");return u.appendChild(f),t.appendChild(u),t},Ms={DEFAULT:"default",QUIET:"quiet"},Ds=[];for(var Ps in Ms)Ds.push("coral-InputGroup--"+Ms[Ps]);var Fs={DATE:"date",DATETIME:"datetime",TIME:"time"},Hs=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),Bs={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD[T]HH:mmZ",time:"HH:mm"},Rs=function(e){var t=!1;for(var n in Bs)e===Bs[n]&&(t=!0);return t},js=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._elements={},Is.call(e._elements),e._calendarFragment=Ns.call(e._elements);var n=e._elements.popover.id,i={};return i["global:click #"+n+" coral-calendar"]="_onCalendarDayClick",i["global:capture:change #"+n]="_onChange",i["global:capture:coral-overlay:beforeopen #"+n]="_onPopoverBeforeOpen",i["global:capture:coral-overlay:open #"+n]="_onPopoverOpenOrClose",i["global:capture:coral-overlay:close #"+n]="_onPopoverOpenOrClose",i["global:key:esc #"+n+" coral-clock input[is=coral-textfield]"]="_onEscapeKey",i['key:alt+down [handle="input"],[handle="toggle"]']="_onAltDownKey",i['key:down [handle="toggle"]']="_onAltDownKey",e._delegateEvents(Yt.extend(e._events,i)),e}return Bt(t,e),Ft(t,[{key:"_getLabellableElement",value:function(){return this._elements.input}},{key:"_onPopoverBeforeOpen",value:function(){this._elements.calendar._validateCalendar(),this._renderCalendar()}},{key:"_onPopoverOpenOrClose",value:function(){this.setAttribute("aria-expanded",this._elements.popover.open),this._elements.popover.open&&(this.type===Fs.TIME?this._elements.clock.focus():this._elements.calendar.focus())}},{key:"_onCalendarDayClick",value:function(e){"A"===e.target.tagName&&(this._elements.popover.open=!1)}},{key:"_onInputChange",value:function(e){e.stopPropagation(),this.value=new fa.Moment(e.target.value,this.displayFormat),this._validateValue(),this.trigger("change")}},{key:"_onChange",value:function(e){"CORAL-CALENDAR"!==e.target.tagName&&"CORAL-CLOCK"!==e.target.tagName||(e.stopPropagation(),this.value=this._mergeCalendarAndClockDates(!0),this._validateValue(),this.trigger("change"))}},{key:"_onEscapeKey",value:function(){this._elements.popover.open=!1}},{key:"_onAltDownKey",value:function(e){e.preventDefault(),this._elements.popover.open||(this._elements.popover.open=!0)}},{key:"_validateValue",value:function(){this._elements.calendar._validateCalendar(),this.type===Fs.DATE?this.invalid=this._elements.calendar.invalid:this.type===Fs.TIME?this.invalid=this._elements.clock.invalid:this.invalid=this._elements.calendar.invalid||this._elements.clock.invalid}},{key:"_mergeCalendarAndClockDates",value:function(e){var t=new fa.Moment(this._elements.calendar.valueAsDate),n=this._elements.clock.valueAsDate;return e&&t&&!n&&this.type===Fs.DATETIME&&(n=(new fa.Moment).toDate()),n&&(t.isValid()||(t=new fa.Moment),t.hours(n.getHours()),t.minutes(n.getMinutes())),t}},{key:"_getValueAsString",value:function(e,t){return e&&e.isValid()?e.format(t):""}},{key:"_renderCalendar",value:function(){""===this._elements.popover.content.innerHTML&&(this._elements.popover.content.appendChild(this._calendarFragment),this._calendarFragment=void 0)}},{key:"connectedCallback",value:function(){for(Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral-InputGroup"),this._useNativeInput=Hs,this.setAttribute("role","datepicker"),this._variant||(this.variant=Ms.DEFAULT),this._type||(this.type=Fs.DATE);this.firstChild;)this.removeChild(this.firstChild);var e=document.createDocumentFragment();e.appendChild(this._elements.popover),e.appendChild(this._elements.hiddenInput),e.appendChild(this._elements.input),e.appendChild(this._elements.toggleButtonContainer),this.appendChild(e),this._elements.popover.target=this._elements.toggle}},{key:"disconnectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disconnectedCallback",this).call(this),this.contains(this._elements.popover)||this._elements.popover.remove()}},{key:"type",get:function(){return this._type||Fs.DATE},set:function(e){this._typeFormatChanged=void 0===this._type,e=An.string(e).toLowerCase(),this._type=En.enumeration(Fs)(e)&&e||Fs.DATE,this._reflectAttribute("type",this._type);var t=Bs[this._type],n=this._type===Fs.TIME,i=this._type===Fs.DATE;this._elements.toggle.icon=n?"clock":"calendar";var o=n?an.get("Time"):an.get("Calendar");this._elements.toggle.setAttribute("aria-label",o),this._elements.toggle.setAttribute("title",o),this._elements.clockContainer.style.display=i?"none":"",this._elements.clockContainer.setAttribute("aria-hidden",i),this._elements.calendar.style.display=n?"none":"",this._elements.calendar.setAttribute("aria-hidden",n),Rs(this.valueFormat)&&(this.valueFormat=t),Rs(this.displayFormat)&&(this.displayFormat=t),this._useNativeInput=this._useNativeInput,this._typeFormatChanged=!1}},{key:"displayFormat",get:function(){return this._useNativeInput&&this.type!==Fs.DATETIME?Bs[this.type]:void 0===this._displayFormat?Bs[this.type]:this._displayFormat},set:function(e){e=An.string(e).trim();var t=this.getAttribute("displayformat");this._typeFormatChanged&&t&&t!==e&&(e=t),this._displayFormat=""===e?Bs[this.type]:e,this._reflectAttribute("displayformat",this._displayFormat),this._elements.clock.displayFormat=this._displayFormat,this._elements.input.value=this._getValueAsString(this._value,this._displayFormat)}},{key:"valueFormat",get:function(){return void 0===this._valueFormat?Bs[this.type]:this._valueFormat},set:function(e){var t=this,n=function(e){t._valueFormat=""===e?Bs[t.type]:e,t._reflectAttribute("valueformat",t._valueFormat)};e=An.string(e).trim();var i=this.getAttribute("valueformat");this._typeFormatChanged&&i&&i!==e&&(e=i),!this._valueFormat&&this._originalValue?(n(e),this.value=this._originalValue):n(e),this._elements.calendar.valueFormat=this._valueFormat,this._elements.hiddenInput.value=this.value}},{key:"valueAsDate",get:function(){var e=this._value;return"date"===this.type&&e&&(e=e.startOf("day")),e?e.toDate():null},set:function(e){this._valueAsDate=e instanceof Date?new fa.Moment(e):"",this.value=this._valueAsDate}},{key:"min",get:function(){return this._elements.calendar.min},set:function(e){this._elements.calendar.min=e}},{key:"max",get:function(){return this._elements.calendar.max},set:function(e){this._elements.calendar.max=e}},{key:"headerFormat",get:function(){return this._elements.calendar.headerFormat},set:function(e){this._elements.calendar.headerFormat=e}},{key:"startDay",get:function(){return this._elements.calendar.startDay},set:function(e){this._elements.calendar.startDay=e}},{key:"value",get:function(){return this._getValueAsString(this._value,this.valueFormat)},set:function(e){this._originalValue=e,this._value=at(e,this.valueFormat),this._elements.calendar.valueAsDate=this.valueAsDate,this._elements.clock.valueAsDate=this.valueAsDate,this._elements.input.value=this._getValueAsString(this._value,this.displayFormat),this._elements.hiddenInput.value=this.value}},{key:"placeholder",get:function(){
return this._elements.input.placeholder},set:function(e){this._elements.input.placeholder=e,this._reflectAttribute("placeholder",this.placeholder)}},{key:"variant",get:function(){return this._variant||Ms.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(Ms)(e)&&e||Ms.DEFAULT,this._elements.toggle.variant=this._variant===Ms.DEFAULT?pi.variant.DEFAULT:pi.variant.QUIET,this._elements.input.variant=this._variant,(t=this.classList).remove.apply(t,Ds),this._variant!==Ms.DEFAULT&&this.classList.add("coral-InputGroup--"+this._variant)}},{key:"name",get:function(){return this._elements.hiddenInput.name},set:function(e){this._reflectAttribute("name",e),this._elements.hiddenInput.name=e}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled,this._elements.hiddenInput.disabled=this._disabled,this._elements.toggle.disabled=this._disabled||this.readOnly}},{key:"invalid",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",e,this),this.classList.toggle("is-invalid",this.invalid),this._elements.input.invalid=this.invalid,this._elements.input.setAttribute("aria-invalid",this.invalid)}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly),this._elements.input.readOnly=this._readOnly,this._elements.toggle.disabled=this._readOnly||this.disabled}},{key:"labelledBy",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this),this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy)}},{key:"_useNativeInput",get:function(){return this.__useNativeInput},set:function(e){this.__useNativeInput=e,this.__useNativeInput&&this.type!==Fs.DATETIME?(this._elements.toggle.hidden=!0,this._elements.input.setAttribute("type",this.type),this._elements.popover.hidden=!0,this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.removeAttribute("aria-owns")):(this._elements.toggle.hidden=!1,this._elements.input.setAttribute("type","text"),this._elements.popover.hidden=!1,this.setAttribute("aria-haspopup","true"),this.setAttribute("aria-expanded","false"),this.setAttribute("aria-owns",this._elements.popover.id))}}],[{key:"variant",get:function(){return Ms}},{key:"type",get:function(){return Fs}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["min","max","type","placeholder","startday","startDay","headerFormat","headerFormat","displayformat","displayFormat","valueformat","valueFormat","variant"])}}]),t}(yo(Pn(HTMLElement)));Yt.extend(en,{"coralui-component-datepicker":Os}),window.customElements.define("coral-datepicker",js),window.Coral=window.Coral||{},window.Coral.Datepicker=js;var qs={"en-US":{Close:"Close"},"de-DE":{Close:"Schließen"},"fr-FR":{Close:"Fermer"},"it-IT":{Close:"Chiudi"},"ja-JP":{Close:"閉じる"},"es-ES":{Close:"Cerrar"},"ko-KR":{Close:"닫기"},"zh-CN":{Close:"关闭"},"zh-TW":{Close:"關閉"},"pt-BR":{Close:"Fechar"},"nl-NL":{Close:"Sluiten"},"da-DK":{Close:"Luk"},"fi-FI":{Close:"Sulje"},"nb-NO":{Close:"Lukk"},"sv-SE":{Close:"Stäng"},"cs-CZ":{Close:"Zavřít"},"pl-PL":{Close:"Zamknij"},"ru-RU":{Close:"Закрыть"},"tr-TR":{Close:"Kapat"}},zs="coral-dragaction-dropzone",Us="coral-dragaction-handle",Vs="coral-dragaction-axis",Ks="coral-dragaction-scroll",Zs="coral-dragaction-containment",Ws={FREE:"free",VERTICAL:"vertical",HORIZONTAL:"horizontal"},Gs=function(){function e(t){if(Pt(this,e),!t)throw new Error("Coral.DragAction: dragElement is missing");var n=null;if(t instanceof HTMLElement)n=t;else if("string"==typeof t&&!(n=document.querySelector(t)))throw new Error("Coral.DragAction: dragElement is null");this._id=Yt.getUID(),this._dragElementValue=t,this._dragElement=n,this._dragElement.dragAction&&this._dragElement.dragAction.destroy();var i=window.getComputedStyle(this._dragElement);this._initialPosition={position:i.position,left:i.left,top:i.top},this._dragEvents=new window.Vent(this._dragElement),this.handle=this._dragElement.getAttribute(Us),this.dropZone=this._dragElement.getAttribute(zs),this.axis=this._dragElement.getAttribute(Vs),this.scroll=this._dragElement.matches("["+Ks+"]"),this.containment=this._dragElement.matches("["+Zs+"]"),this._drag=this._drag.bind(this),this._dragEnd=this._dragEnd.bind(this),Jt.on("touchmove.CoralDragAction"+this._id,this._drag),Jt.on("mousemove.CoralDragAction"+this._id,this._drag),Jt.on("touchend.CoralDragAction"+this._id,this._dragEnd),Jt.on("mouseup.CoralDragAction"+this._id,this._dragEnd),this._dragElement.dragAction=this}return Ft(e,[{key:"_dragStart",value:function(e){this._container=rt(this._dragElement)||document.body,"IMG"===e.target.tagName&&e.preventDefault(),Jt.on("touchmove.CoralDragAction",function(e){e.preventDefault()}),document.body._overflow=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",this._container.matches("body")||(this._container._overflow=window.getComputedStyle(this._container).overflow,this._container.style.overflow=this.scroll?"scroll":"hidden");var t=lt(e),n=this._dragElement.getBoundingClientRect();this._dragPosition=lt(e),this._dragPosition.y-=n.top+this._scrollingElement.scrollTop,this._dragPosition.x-=n.left+this._scrollingElement.scrollLeft,document.body.classList.add("u-coral-closedHand"),this._handles&&this._handles.length?this._handles.forEach(function(e){e.classList.remove("u-coral-openHand")}):this._dragElement.classList.remove("u-coral-openHand"),this._dragElement.classList.add("is-dragging"),"static"===window.getComputedStyle(this._dragElement).position&&(this._dragElement.style.position="relative"),this._dragEvents.dispatch("coral-dragaction:dragstart",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y}})}},{key:"_drag",value:function(e){if(this._dragElement.classList.contains("is-dragging")){var t=this,n=lt(e),i=this._scrollingElement.scrollTop,o=this._scrollingElement.scrollLeft,a=this._dragElement.getBoundingClientRect(),r=a.height,s=a.width,l={top:a.top+i,left:a.left+o},c=window.getComputedStyle(this._dragElement),u={top:parseFloat(c.top)||0,left:parseFloat(c.left)||0},d=this._container.getBoundingClientRect(),h=d.width,p=d.height,m={top:d.top+i,left:d.left+o};t._dragEvents.dispatch("coral-dragaction:drag",{detail:{dragElement:t._dragElement,pageX:n.x,pageY:n.y}}),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(),this.scroll&&(this._container===document.body?(a.top<20?this._scrollingElement.scrollTop=i-10:a.top+a.height>window.innerHeight-20&&l.top+a.height+20<this._scrollingElement.scrollHeight&&(this._scrollingElement.scrollTop=i+10),a.left<20?this._scrollingElement.scrollLeft=o-10:a.left+a.width>window.innerWidth-20&&l.left+a.width+20<this._scrollingElement.scrollWidth&&(this._scrollingElement.scrollLeft=o+10)):(a.top-d.top<20?this._container.scrollTop=this._container.scrollTop-10:a.top-d.top+a.height>d.height-20&&a.top-d.top+a.height<d.height&&(this._container.scrollTop=this._container.scrollTop+10),a.left-d.left<20?this._container.scrollLeft=this._container.scrollLeft-10:a.left-d.left+a.width>d.width-20&&a.left-d.left+a.width<d.width&&(this._container.scrollLeft=this._container.scrollLeft+10)));var _={};if("horizontal"!==this.axis){var f=n.y-this._dragPosition.y;this.containment?f>=m.top&&f+r<=m.top+p?_.top=f:n.y<=m.top?_.top=m.top:n.y>=m.top+p&&(_.top=m.top+p-r):_.top=f}if("vertical"!==this.axis){var v=n.x-this._dragPosition.x;this.containment?v>=m.left&&v+s<=m.left+h?_.left=v:n.x<=m.left?_.left=m.left:n.x>=m.left+h&&(_.left=m.left+h-s):_.left=v}this._dragElement.style.top=_.top-l.top+u.top+"px",this._dragElement.style.left=_.left-l.left+u.left+"px";var g=ut(t);g?(t._dropElement=g,t._dropZoneEntered||(t._dropZoneEntered=!0,t._dragEvents.dispatch("coral-dragaction:dragenter",{detail:{dragElement:t._dragElement,pageX:n.x,pageY:n.y,dropElement:t._dropElement}})),t._dragEvents.dispatch("coral-dragaction:dragover",{detail:{dragElement:t._dragElement,pageX:n.x,pageY:n.y,dropElement:t._dropElement}})):t._dropZoneEntered&&(t._dragEvents.dispatch("coral-dragaction:dragleave",{detail:{dragElement:t._dragElement,pageX:n.x,pageY:n.y,dropElement:t._dropElement}}),t._dropZoneEntered=!1)}}},{key:"_dragEnd",value:function(e){if(this._dragElement.classList.contains("is-dragging")){var t=lt(e);if(document.body.style.overflow=document.body._overflow,document.body._overflow=void 0,this._container.matches("body")||(this._container.style.overflow=this._container._overflow,this._container._overflow=void 0),document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach(function(e){e.classList.add("u-coral-openHand")}):this._dragElement.classList.add("u-coral-openHand"),this._dropZoneEntered){var n=ut(this);n&&(this._dropElement=n,this._dragEvents.dispatch("coral-dragaction:drop",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y,dropElement:this._dropElement}}))}this._dragEvents.dispatch("coral-dragaction:dragend",{detail:{dragElement:this._dragElement,pageX:t.x,pageY:t.y}})}}},{key:"destroy",value:function(e){document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach(function(e){e._dragEvents.off(".CoralDragAction"),e.classList.remove("u-coral-openHand")}):(this._dragEvents.off(".CoralDragAction"),this._dragElement.classList.remove("u-coral-openHand")),Jt.off(".CoralDragAction"+this._id),document.body._overflow&&(document.body.style.overflow=document.body._overflow,document.body._overflow=void 0),this._container&&!this._container.matches("body")&&this._container._overflow&&(this._container.style.overflow=this._container._overflow,this._container._overflow=void 0),e&&(this._dragElement.style.position=this._initialPosition.position,this._dragElement.style.top=this._initialPosition.top,this._dragElement.style.left=this._initialPosition.left),this._dragElement.dragAction=void 0}},{key:"dragElement",get:function(){return this._dragElementValue}},{key:"handle",get:function(){return this._handle},set:function(e){if(this._handle=e,this._dragEvents.off(".CoralDragAction"),document.body.classList.remove("u-coral-closedHand"),this._dragElement.classList.remove("is-dragging"),this._handles&&this._handles.length?this._handles.forEach(function(e){e._dragEvents.off(".CoralDragAction"),e.classList.remove("u-coral-openHand")}):this._dragElement.classList.remove("u-coral-openHand"),"string"==typeof e||e instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(e))if(this._handles=st(e),this._handles&&this._handles.length){var t=this;this._handles.forEach(function(e){e._dragEvents=e._dragEvents||new window.Vent(e),e._dragEvents.on("mousedown.CoralDragAction",t._dragStart.bind(t)),e._dragEvents.on("touchstart.CoralDragAction",t._dragStart.bind(t)),e.classList.add("u-coral-openHand")})}else this._dragEvents.on("touchstart.CoralDragAction",this._dragStart.bind(this)),this._dragEvents.on("mousedown.CoralDragAction",this._dragStart.bind(this)),this._dragElement.classList.add("u-coral-openHand");else this._handles=[],this._dragEvents.on("touchstart.CoralDragAction",this._dragStart.bind(this)),this._dragEvents.on("mousedown.CoralDragAction",this._dragStart.bind(this)),this._dragElement.classList.add("u-coral-openHand")}},{key:"dropZone",get:function(){return this._dropZone},set:function(e){this._dropZone=e,this._dropZoneEntered=!1,"string"==typeof e||e instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(e)?this._dropZones=st(e):this._dropZones=[]}},{key:"axis",get:function(){return this._axis},set:function(e){e=An.string(e),this._axis=En.enumeration(Ws)(e)&&e||Ws.FREE}},{key:"scroll",get:function(){return this._scroll},set:function(e){this._scroll=An.boolean(e)}},{key:"containment",get:function(){return this._containment},set:function(e){this._containment=An.boolean(e)}},{key:"_scrollingElement",get:function(){return document.scrollingElement||document.documentElement}}],[{key:"axis",get:function(){return Ws}}]),e}();window.Coral=window.Coral||{},window.Coral.DragAction=Gs,document.addEventListener("DOMContentLoaded",function(){for(var e=document.body.querySelectorAll("[coral-dragaction]"),t=0;t<e.length;t++)new Gs(e[t])});var Xs=function(e){var t=document.createDocumentFragment(),n=this.headerWrapper=document.createElement("div");n.className+=" coral3-Dialog-header",n.setAttribute("handle","headerWrapper");var i=document.createTextNode("\n  ");n.appendChild(i);var o=this.icon=document.createElement("coral-icon");o.setAttribute("handle","icon"),o.setAttribute("size","S"),o.className+=" coral3-Dialog-typeIcon",n.appendChild(o);var a=document.createTextNode("\n  ");n.appendChild(a);var r=this.headerContent=document.createElement("div");r.setAttribute("handle","headerContent"),r.className+=" coral3-Dialog-title coral-Heading coral-Heading--2",r.setAttribute("role","heading"),r.setAttribute("aria-level","2"),n.appendChild(r);var s=document.createTextNode("\n  ");n.appendChild(s);var l=this.closeButton=document.createElement("button","coral-button");l.setAttribute("handle","closeButton"),l.className+=" coral3-Dialog-closeButton",l.setAttribute("type","button"),l.setAttribute("is","coral-button"),l.setAttribute("variant","minimal"),l.setAttribute("icon","close"),l.setAttribute("iconsize","XS"),l.setAttribute("title",Coral.i18n.get("Close")),l.setAttribute("tabindex","-1"),l.setAttribute("coral-close",""),n.appendChild(l);var c=document.createTextNode("\n");n.appendChild(c),t.appendChild(n);var u=document.createTextNode("\n");t.appendChild(u);var d=this.wrapper=document.createElement("div");d.className+=" coral3-Dialog-wrapper",d.setAttribute("handle","wrapper"),t.appendChild(d);var h=document.createTextNode("\n");return t.appendChild(h),t},Ys={ON:"on",OFF:"off"},Qs={ON:"on",OFF:"off"},Js={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},$s={NONE:"none",MODAL:"modal",STATIC:"static"},el={error:"alert",warning:"alert",success:"checkCircle",help:"helpCircle",info:"infoCircle"},tl=[];for(var nl in Js)tl.push("coral3-Dialog--"+Js[nl]);var il=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements=Yt.extend(e._elements,{header:e.querySelector("coral-dialog-header")||document.createElement("coral-dialog-header"),content:e.querySelector("coral-dialog-content")||document.createElement("coral-dialog-content"),footer:e.querySelector("coral-dialog-footer")||document.createElement("coral-dialog-footer")}),Xs.call(e._elements),e._delegateEvents({"click [coral-close]":"_handleCloseClick",click:"_handleClick","global:resize":"center","global:key:escape":"_handleEscape"}),e._trapFocus=e.constructor.trapFocus.ON,e._returnFocus=e.constructor.returnFocus.ON,e._overlayAnimationTime=e.constructor.FADETIME,e._center=e._center.bind(e),e._hideHeaderIfEmpty=e._hideHeaderIfEmpty.bind(e),e._headerObserver=new MutationObserver(e._hideHeaderIfEmpty),e._observeHeader(),e}return Bt(t,e),Ft(t,[{key:"_observeHeader",value:function(){this._headerObserver&&(this._headerObserver.disconnect(),this._headerObserver.observe(this._elements.header,{childList:!0,characterData:!0,subtree:!0}))}},{key:"_hideHeaderIfEmpty",value:function(){var e=this._elements.header,t=this._elements.headerContent;0===e.children.length||""===e.textContent.replace(/\s*/g,"")?(t.removeAttribute("role"),t.removeAttribute("aria-level")):(t.setAttribute("role","heading"),t.setAttribute("aria-level","2"))}},{key:"_handleEscape",value:function(){this.interaction===Qs.ON&&this.open&&this._isTopOverlay()&&(this.open=!1)}},{key:"_handleCloseClick",value:function(e){var t=e.matchedTarget,n=t.getAttribute("coral-close");n&&!this.matches(n)||(this.open=!1,e.stopPropagation())}},{key:"_handleClick",value:function(e){e.target===this&&this.backdrop===$s.MODAL&&this._isTopOverlay()&&(this.open=!1)}},{key:"_moveToDocumentBody",value:function(){this.parentNode!==document.body&&document.body.insertBefore(this,document.body.lastElementChild)}},{key:"_center",value:function(){var e=this._elements.wrapper;if(e.parentNode===this){var t=this.style.display;this.style.display="block",e.style.position="absolute",e.style.left=0,e.style.top=0;var n=e.offsetWidth,i=e.offsetHeight;i<window.innerHeight-20?(e.style.top="50%",e.style.marginTop=-i/2+"px"):(e.style.top="",e.style.marginTop=""),this.fullscreen?(e.style.marginLeft="",e.style.left=""):(e.style.marginLeft=-n/2+"px",e.style.left="50%"),this.movable&&Yt.ready(this,function(){e.style.width=e.getBoundingClientRect().width+"px"}),this.style.display=t,this._centered=!0}}},{key:"center",value:function(){if(!this.fullscreen)return this._centered&&window.requestAnimationFrame(this._center),this._centered=!1,this}},{key:"connectedCallback",value:function(){var e=this;this.classList.add("coral3-Dialog"),this.style.display="none",this._variant||(this.variant=Js.DEFAULT),this._backdrop||(this.backdrop=$s.MODAL),this._closable||(this.closable=Ys.OFF),this._interaction||(this.interaction=Qs.ON);var n=this._elements.header,i=this._elements.content,o=this._elements.footer,a=this.contains(i)&&i||this.contains(o)&&o||this.contains(n)&&n,r=this.querySelector(".coral3-Dialog-wrapper");if(r)Array.prototype.filter.call(this.children,function(e){return e.hasAttribute("coral-tabcapture")}).forEach(function(t){e.removeChild(t)},this),this._elements.headerWrapper=this.querySelector(".coral3-Dialog-header"),this._elements.headerContent=this.querySelector(".coral3-Dialog-title"),this._elements.closeButton=this.querySelector(".coral3-Dialog-closeButton"),this._elements.icon=this.querySelector(".coral3-Dialog-typeIcon"),this._elements.wrapper=r,this._elements.contentZoneTarget=a.parentNode;else{r=this._elements.wrapper;var s=this._elements.headerWrapper;if(a){for(a.parentNode===this?this._elements.contentZoneTarget=r:this._elements.contentZoneTarget=a.parentNode;this.firstChild;)r.appendChild(this.firstChild);this._elements.contentZoneTarget.insertBefore(s,i)}else{for(this._elements.contentZoneTarget=r;this.firstChild;)i.appendChild(this.firstChild);r.appendChild(s),r.appendChild(i),r.appendChild(o)}this.appendChild(r)}this.header=n,this.content=i,this.footer=o,Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.open&&!this._openInDOM&&(this.open=this.open)}},{key:"interaction",get:function(){return this._interaction||Qs.ON},set:function(e){e=An.string(e).toLowerCase(),this._interaction=En.enumeration(Qs)(e)&&e||Qs.ON}},{key:"header",get:function(){return this._getContentZone(this._elements.header)},set:function(e){this._setContentZone("header",e,{handle:"header",tagName:"coral-dialog-header",insert:function(e){this._elements.headerContent.appendChild(e)},set:function(){this._observeHeader(),this._hideHeaderIfEmpty()}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-dialog-content",insert:function(e){this._elements.contentZoneTarget.insertBefore(e,this.footer)}})}},{key:"footer",get:function(){return this._getContentZone(this._elements.footer)},set:function(e){this._setContentZone("footer",e,{handle:"footer",tagName:"coral-dialog-footer",insert:function(e){this._elements.contentZoneTarget.appendChild(e)}})}},{key:"backdrop",get:function(){return this._backdrop||$s.MODAL},set:function(e){e=An.string(e).toLowerCase(),this._backdrop=En.enumeration($s)(e)&&e||$s.MODAL;var t=this._backdrop!==$s.NONE;this.open&&t&&this._showBackdrop(),this.classList.toggle("coral3-Dialog--backdropNone",!t)}},{key:"variant",get:function(){return this._variant||Js.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(Js)(e)&&e||Js.DEFAULT,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,tl),this._variant===Js.DEFAULT?(this._elements.icon.icon="",this.setAttribute("role","dialog")):(this._elements.icon.icon=el[this._variant],this.classList.add("coral3-Dialog--"+this._variant),this.setAttribute("role","alertdialog"))}},{key:"fullscreen",get:function(){return this._fullscreen||!1},set:function(e){this._fullscreen=An.booleanAttr(e),this._reflectAttribute("fullscreen",this._fullscreen),this._fullscreen?(this.movable=!1,this.classList.add("coral3-Dialog--fullscreen"),this._elements.wrapper.style.top="",this._elements.wrapper.style.left="",this._elements.wrapper.style.marginLeft="",this._elements.wrapper.style.marginTop="",this._elements.closeButton.iconSize="S"):(this.classList.remove("coral3-Dialog--fullscreen"),this._elements.closeButton.iconSize="XS",this._center())}},{key:"open",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",e,this),this.open&&document.body.contains(this)&&(this._openInDOM=!0,this._moveToDocumentBody(),this._center(),this.backdrop!==$s.NONE&&this._showBackdrop(),this._handleFocus())}},{key:"icon",get:function(){return this._elements.icon},set:function(e){this._elements.icon=e}},{key:"closable",get:function(){return this._closable||Ys.OFF},set:function(e){e=An.string(e).toLowerCase(),this._closable=En.enumeration(Ys)(e)&&e||Ys.OFF,this._reflectAttribute("closable",this._closable),this.classList.toggle("coral3-Dialog--closable",this._closable===Ys.ON),this._elements.closeButton.style.display=this.closable===Ys.ON?"":"none"}},{key:"movable",get:function(){return this._movable||!1},set:function(e){this._movable=An.booleanAttr(e),this._reflectAttribute("movable",this._movable),this._movable&&(this.fullscreen=!1);var t=this._elements.wrapper;if(this._movable){new Gs(t).handle=this._elements.headerWrapper}else t.style.width="",t.dragAction&&t.dragAction.destroy();this._center()}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-dialog-header":"header","coral-dialog-content":"content","coral-dialog-footer":"footer"}}}],[{key:"variant",get:function(){return Js}},{key:"backdrop",get:function(){return $s}},{key:"closable",get:function(){return Ys}},{key:"interaction",get:function(){return Qs}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["interaction","backdrop","variant","fullscreen","icon","closable","movable"])}}]),t}(Si(Pn(HTMLElement))),ol=function(){return document.createElement("coral-dialog-header")},al=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-Dialog-content")}}]),t}(HTMLElement),rl=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-Dialog-footer")}}]),t}(HTMLElement);Yt.extend(en,{"coralui-component-dialog":qs}),window.customElements.define("coral-dialog",il),window.customElements.define("coral-dialog-content",al),window.customElements.define("coral-dialog-footer",rl),window.Coral=window.Coral||{},window.Coral.Dialog=il,window.Coral.Dialog.Header=ol,window.Coral.Dialog.Content=al,window.Coral.Dialog.Footer=rl;var sl=function(e){var t=document.createDocumentFragment(),n=this.slider=document.createElement("div");n.setAttribute("handle","slider"),n.className+=" coral3-Drawer-slider";var i=document.createTextNode("\n  ");n.appendChild(i);var o=this.contentWrapper=document.createElement("div");o.setAttribute("handle","contentWrapper"),o.className+=" coral3-Drawer-content",n.appendChild(o);var a=document.createTextNode("\n");n.appendChild(a),t.appendChild(n);var r=document.createTextNode("\n");t.appendChild(r);var s=this.toggle=document.createElement("div");s.className+=" coral3-Drawer-toggle",s.setAttribute("handle","toggle");var l=document.createTextNode("\n  ");s.appendChild(l);var c=this.toggleButton=document.createElement("button","coral-button");c.className+=" coral3-Drawer-toggleButton",c.setAttribute("type","button"),c.setAttribute("handle","toggleButton"),c.setAttribute("is","coral-button"),c.setAttribute("variant","minimal"),c.setAttribute("icon","chevronDown"),c.setAttribute("iconSize","XS"),c.setAttribute("aria-label","coral-drawer"),s.appendChild(c);var u=document.createTextNode("\n");s.appendChild(u),t.appendChild(s);var d=document.createTextNode("\n");return t.appendChild(d),t},ll={DOWN:"down",UP:"up"},cl=[];for(var ul in ll)cl.push("coral3-Drawer--"+ll[ul]);var dl=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-drawer-content")||document.createElement("coral-drawer-content")},sl.call(e._elements),e._delegateEvents({"click .coral3-Drawer-toggleButton:not(:disabled)":"_onClick"}),e}return Bt(t,e),Ft(t,[{key:"_onClick",value:function(){this.open=!this.open}},{key:"_updateIcon",value:function(){this.direction===ll.UP?this._elements.toggleButton.icon=this.open?"chevronDown":"chevronUp":this.direction===ll.DOWN&&(this._elements.toggleButton.icon=this.open?"chevronUp":"chevronDown")}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Drawer"),this._direction||(this.direction=ll.DOWN),this._open||(this.open=!1);var e=document.createDocumentFragment(),n=["slider","toggle"];e.appendChild(this._elements.slider),e.appendChild(this._elements.toggle);for(var i=this._elements.content;this.firstChild;){var o=this.firstChild;o.nodeType===Node.TEXT_NODE||o.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(o.getAttribute("handle"))?i.appendChild(o):this.removeChild(o)}this.appendChild(e),this.content=i}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.toggleButton.disabled=this._disabled}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-drawer-content",insert:function(e){this._elements.contentWrapper.appendChild(e)}})}},{key:"direction",get:function(){return this._direction||ll.DOWN},set:function(e){var t;e=An.string(e).toLowerCase(),this._direction=En.enumeration(ll)(e)&&e||ll.DOWN,this._reflectAttribute("direction",this._direction),(t=this.classList).remove.apply(t,cl),this.classList.add("coral3-Drawer--"+this._direction),this._updateIcon()}},{key:"open",get:function(){return this._open||!1},set:function(e){var t=this._silenced,n=this;this._open=An.booleanAttr(e),this._reflectAttribute("open",this._open),this.setAttribute("aria-expanded",this._open),this._updateIcon();var i=this._elements.slider;this._animate?(Yt.transitionEnd(i,function(){n._silenced=t,n._open&&(i.style.height=""),n.trigger("coral-drawer:"+(n._open?"open":"close")),n._silenced=!1}),this._open||(i.style.height=i.scrollHeight+"px"),window.setTimeout(function(){i.style.height=n._open?i.scrollHeight+"px":0},10)):(this._animate=!0,this._open||(i.style.height=0))}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-drawer-content":"content"}}}],[{key:"direction",get:function(){return ll}},{key:"observedAttributes",get:function(){return["disabled","direction","open"]}}]),t}(Pn(HTMLElement)),hl=function(){return document.createElement("coral-drawer-content")};window.customElements.define("coral-drawer",dl),window.Coral=window.Coral||{},window.Coral.Drawer=dl,window.Coral.Drawer.Content=hl;var pl={".123":"application/vnd.lotus-1-2-3",".3dml":"text/vnd.in3d.3dml",".3g2":"video/3gpp2",".3gp":"video/3gpp",".a":"application/octet-stream",".aab":"application/x-authorware-bin",".aac":"audio/x-aac",".aam":"application/x-authorware-map",".aas":"application/x-authorware-seg",".abw":"application/x-abiword",".acc":"application/vnd.americandynamics.acc",".ace":"application/x-ace-compressed",".acu":"application/vnd.acucobol",".acutc":"application/vnd.acucorp",".adp":"audio/adpcm",".aep":"application/vnd.audiograph",".afm":"application/x-font-type1",".afp":"application/vnd.ibm.modcap",".ai":"application/postscript",".aif":"audio/x-aiff",".aifc":"audio/x-aiff",".aiff":"audio/x-aiff",".air":"application/vnd.adobe.air-application-installer-package+zip",".ami":"application/vnd.amiga.ami",".apk":"application/vnd.android.package-archive",".application":"application/x-ms-application",".apr":"application/vnd.lotus-approach",".asc":"application/pgp-signature",".asf":"video/x-ms-asf",".asm":"text/x-asm",".aso":"application/vnd.accpac.simply.aso",".asx":"video/x-ms-asf",".atc":"application/vnd.acucorp",".atom":"application/atom+xml",".atomcat":"application/atomcat+xml",".atomsvc":"application/atomsvc+xml",".atx":"application/vnd.antix.game-component",".au":"audio/basic",".avi":"video/x-msvideo",".aw":"application/applixware",".azf":"application/vnd.airzip.filesecure.azf",".azs":"application/vnd.airzip.filesecure.azs",".azw":"application/vnd.amazon.ebook",".bat":"application/x-msdownload",".bcpio":"application/x-bcpio",".bdf":"application/x-font-bdf",".bdm":"application/vnd.syncml.dm+wbxml",".bh2":"application/vnd.fujitsu.oasysprs",".bin":"application/octet-stream",".bmi":"application/vnd.bmi",".bmp":"image/bmp",".book":"application/vnd.framemaker",".box":"application/vnd.previewsystems.box",".boz":"application/x-bzip2",".bpk":"application/octet-stream",".btif":"image/prs.btif",".bz":"application/x-bzip",".bz2":"application/x-bzip2",".c":"text/x-c",".c4d":"application/vnd.clonk.c4group",".c4f":"application/vnd.clonk.c4group",".c4g":"application/vnd.clonk.c4group",".c4p":"application/vnd.clonk.c4group",".c4u":"application/vnd.clonk.c4group",".cab":"application/vnd.ms-cab-compressed",".car":"application/vnd.curl.car",".cat":"application/vnd.ms-pki.seccat",".cc":"text/x-c",".cct":"application/x-director",".ccxml":"application/ccxml+xml",".cdbcmsg":"application/vnd.contact.cmsg",".cdf":"application/x-netcdf",".cdkey":"application/vnd.mediastation.cdkey",".cdx":"chemical/x-cdx",".cdxml":"application/vnd.chemdraw+xml",".cdy":"application/vnd.cinderella",".cer":"application/pkix-cert",".cgm":"image/cgm",".chat":"application/x-chat",".chm":"application/vnd.ms-htmlhelp",".chrt":"application/vnd.kde.kchart",".cif":"chemical/x-cif",".cii":"application/vnd.anser-web-certificate-issue-initiation",".cil":"application/vnd.ms-artgalry",".cla":"application/vnd.claymore",".class":"application/java-vm",".clkk":"application/vnd.crick.clicker.keyboard",
".clkp":"application/vnd.crick.clicker.palette",".clkt":"application/vnd.crick.clicker.template",".clkw":"application/vnd.crick.clicker.wordbank",".clkx":"application/vnd.crick.clicker",".clp":"application/x-msclip",".cmc":"application/vnd.cosmocaller",".cmdf":"chemical/x-cmdf",".cml":"chemical/x-cml",".cmp":"application/vnd.yellowriver-custom-menu",".cmx":"image/x-cmx",".cod":"application/vnd.rim.cod",".com":"application/x-msdownload",".conf":"text/plain",".cpio":"application/x-cpio",".cpp":"text/x-c",".cpt":"application/mac-compactpro",".crd":"application/x-mscardfile",".crl":"application/pkix-crl",".crt":"application/x-x509-ca-cert",".csh":"application/x-csh",".csml":"chemical/x-csml",".csp":"application/vnd.commonspace",".css":"text/css",".cst":"application/x-director",".csv":["text/csv","application/vnd.ms-excel"],".cu":"application/cu-seeme",".curl":"text/vnd.curl",".cww":"application/prs.cww",".cxt":"application/x-director",".cxx":"text/x-c",".daf":"application/vnd.mobius.daf",".dataless":"application/vnd.fdsn.seed",".davmount":"application/davmount+xml",".dcr":"application/x-director",".dcurl":"text/vnd.curl.dcurl",".dd2":"application/vnd.oma.dd2+xml",".ddd":"application/vnd.fujixerox.ddd",".deb":"application/x-debian-package",".def":"text/plain",".deploy":"application/octet-stream",".der":"application/x-x509-ca-cert",".dfac":"application/vnd.dreamfactory",".dic":"text/x-c",".diff":"text/plain",".dir":"application/x-director",".dis":"application/vnd.mobius.dis",".dist":"application/octet-stream",".distz":"application/octet-stream",".djv":"image/vnd.djvu",".djvu":"image/vnd.djvu",".dll":"application/x-msdownload",".dmg":"application/octet-stream",".dms":"application/octet-stream",".dna":"application/vnd.dna",".doc":"application/msword",".docm":"application/vnd.ms-word.document.macroenabled.12",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".dot":"application/msword",".dotm":"application/vnd.ms-word.template.macroenabled.12",".dotx":"application/vnd.openxmlformats-officedocument.wordprocessingml.template",".dp":"application/vnd.osgi.dp",".dpg":"application/vnd.dpgraph",".dsc":"text/prs.lines.tag",".dtb":"application/x-dtbook+xml",".dtd":"application/xml-dtd",".dts":"audio/vnd.dts",".dtshd":"audio/vnd.dts.hd",".dump":"application/octet-stream",".dvi":"application/x-dvi",".dwf":"model/vnd.dwf",".dwg":"image/vnd.dwg",".dxf":"image/vnd.dxf",".dxp":"application/vnd.spotfire.dxp",".dxr":"application/x-director",".ecelp4800":"audio/vnd.nuera.ecelp4800",".ecelp7470":"audio/vnd.nuera.ecelp7470",".ecelp9600":"audio/vnd.nuera.ecelp9600",".ecma":"application/ecmascript",".edm":"application/vnd.novadigm.edm",".edx":"application/vnd.novadigm.edx",".efif":"application/vnd.picsel",".ei6":"application/vnd.pg.osasli",".elc":"application/octet-stream",".eml":"message/rfc822",".emma":"application/emma+xml",".eol":"audio/vnd.digital-winds",".eot":"application/vnd.ms-fontobject",".eps":"application/postscript",".epub":"application/epub+zip",".es3":"application/vnd.eszigno3+xml",".esf":"application/vnd.epson.esf",".et3":"application/vnd.eszigno3+xml",".etx":"text/x-setext",".exe":"application/x-msdownload",".ext":"application/vnd.novadigm.ext",".ez":"application/andrew-inset",".ez2":"application/vnd.ezpix-album",".ez3":"application/vnd.ezpix-package",".f":"text/x-fortran",".f4v":"video/x-f4v",".f77":"text/x-fortran",".f90":"text/x-fortran",".fbs":"image/vnd.fastbidsheet",".fdf":"application/vnd.fdf",".fe_launch":"application/vnd.denovo.fcselayout-link",".fg5":"application/vnd.fujitsu.oasysgp",".fgd":"application/x-director",".fh":"image/x-freehand",".fh4":"image/x-freehand",".fh5":"image/x-freehand",".fh7":"image/x-freehand",".fhc":"image/x-freehand",".fig":"application/x-xfig",".fli":"video/x-fli",".flo":"application/vnd.micrografx.flo",".flv":"video/x-flv",".flw":"application/vnd.kde.kivio",".flx":"text/vnd.fmi.flexstor",".fly":"text/vnd.fly",".fm":"application/vnd.framemaker",".fnc":"application/vnd.frogans.fnc",".for":"text/x-fortran",".fpx":"image/vnd.fpx",".frame":"application/vnd.framemaker",".fsc":"application/vnd.fsc.weblaunch",".fst":"image/vnd.fst",".ftc":"application/vnd.fluxtime.clip",".fti":"application/vnd.anser-web-funds-transfer-initiation",".fvt":"video/vnd.fvt",".fzs":"application/vnd.fuzzysheet",".g3":"image/g3fax",".gac":"application/vnd.groove-account",".gdl":"model/vnd.gdl",".geo":"application/vnd.dynageo",".gex":"application/vnd.geometry-explorer",".ggb":"application/vnd.geogebra.file",".ggt":"application/vnd.geogebra.tool",".ghf":"application/vnd.groove-help",".gif":"image/gif",".gim":"application/vnd.groove-identity-message",".gmx":"application/vnd.gmx",".gnumeric":"application/x-gnumeric",".gph":"application/vnd.flographit",".gqf":"application/vnd.grafeq",".gqs":"application/vnd.grafeq",".gram":"application/srgs",".gre":"application/vnd.geometry-explorer",".grv":"application/vnd.groove-injector",".grxml":"application/srgs+xml",".gsf":"application/x-font-ghostscript",".gtar":"application/x-gtar",".gtm":"application/vnd.groove-tool-message",".gtw":"model/vnd.gtw",".gv":"text/vnd.graphviz",".gz":"application/x-gzip",".h":"text/x-c",".h261":"video/h261",".h263":"video/h263",".h264":"video/h264",".hbci":"application/vnd.hbci",".hdf":"application/x-hdf",".hh":"text/x-c",".hlp":"application/winhlp",".hpgl":"application/vnd.hp-hpgl",".hpid":"application/vnd.hp-hpid",".hps":"application/vnd.hp-hps",".hqx":"application/mac-binhex40",".htke":"application/vnd.kenameaapp",".htm":"text/html",".html":"text/html",".hvd":"application/vnd.yamaha.hv-dic",".hvp":"application/vnd.yamaha.hv-voice",".hvs":"application/vnd.yamaha.hv-script",".icc":"application/vnd.iccprofile",".ice":"x-conference/x-cooltalk",".icm":"application/vnd.iccprofile",".ico":"image/x-icon",".ics":"text/calendar",".ief":"image/ief",".ifb":"text/calendar",".ifm":"application/vnd.shana.informed.formdata",".iges":"model/iges",".igl":"application/vnd.igloader",".igs":"model/iges",".igx":"application/vnd.micrografx.igx",".iif":"application/vnd.shana.informed.interchange",".imp":"application/vnd.accpac.simply.imp",".ims":"application/vnd.ms-ims",".in":"text/plain",".ipk":"application/vnd.shana.informed.package",".irm":"application/vnd.ibm.rights-management",".irp":"application/vnd.irepository.package+xml",".iso":"application/octet-stream",".itp":"application/vnd.shana.informed.formtemplate",".ivp":"application/vnd.immervision-ivp",".ivu":"application/vnd.immervision-ivu",".jad":"text/vnd.sun.j2me.app-descriptor",".jam":"application/vnd.jam",".jar":"application/java-archive",".java":"text/x-java-source",".jisp":"application/vnd.jisp",".jlt":"application/vnd.hp-jlyt",".jnlp":"application/x-java-jnlp-file",".joda":"application/vnd.joost.joda-archive",".jpe":"image/jpeg",".jpeg":"image/jpeg",".jpg":"image/jpeg",".jpgm":"video/jpm",".jpgv":"video/jpeg",".jpm":"video/jpm",".js":"application/javascript",".json":"application/json",".kar":"audio/midi",".karbon":"application/vnd.kde.karbon",".kfo":"application/vnd.kde.kformula",".kia":"application/vnd.kidspiration",".kil":"application/x-killustrator",".kml":"application/vnd.google-earth.kml+xml",".kmz":"application/vnd.google-earth.kmz",".kne":"application/vnd.kinar",".knp":"application/vnd.kinar",".kon":"application/vnd.kde.kontour",".kpr":"application/vnd.kde.kpresenter",".kpt":"application/vnd.kde.kpresenter",".ksh":"text/plain",".ksp":"application/vnd.kde.kspread",".ktr":"application/vnd.kahootz",".ktz":"application/vnd.kahootz",".kwd":"application/vnd.kde.kword",".kwt":"application/vnd.kde.kword",".latex":"application/x-latex",".lbd":"application/vnd.llamagraphics.life-balance.desktop",".lbe":"application/vnd.llamagraphics.life-balance.exchange+xml",".les":"application/vnd.hhe.lesson-player",".lha":"application/octet-stream",".link66":"application/vnd.route66.link66+xml",".list":"text/plain",".list3820":"application/vnd.ibm.modcap",".listafp":"application/vnd.ibm.modcap",".log":"text/plain",".lostxml":"application/lost+xml",".lrf":"application/octet-stream",".lrm":"application/vnd.ms-lrm",".ltf":"application/vnd.frogans.ltf",".lvp":"audio/vnd.lucent.voice",".lwp":"application/vnd.lotus-wordpro",".lzh":"application/octet-stream",".m13":"application/x-msmediaview",".m14":"application/x-msmediaview",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".m3u":"audio/x-mpegurl",".m4u":"video/vnd.mpegurl",".m4v":"video/x-m4v",".ma":"application/mathematica",".mag":"application/vnd.ecowin.chart",".maker":"application/vnd.framemaker",".man":"text/troff",".mathml":"application/mathml+xml",".mb":"application/mathematica",".mbk":"application/vnd.mobius.mbk",".mbox":"application/mbox",".mc1":"application/vnd.medcalcdata",".mcd":"application/vnd.mcd",".mcurl":"text/vnd.curl.mcurl",".mdb":"application/x-msaccess",".mdi":"image/vnd.ms-modi",".me":"text/troff",".mesh":"model/mesh",".mfm":"application/vnd.mfmp",".mgz":"application/vnd.proteus.magazine",".mht":"message/rfc822",".mhtml":"message/rfc822",".mid":"audio/midi",".midi":"audio/midi",".mif":"application/vnd.mif",".mime":"message/rfc822",".mj2":"video/mj2",".mjp2":"video/mj2",".mlp":"application/vnd.dolby.mlp",".mmd":"application/vnd.chipnuts.karaoke-mmd",".mmf":"application/vnd.smaf",".mmr":"image/vnd.fujixerox.edmics-mmr",".mny":"application/x-msmoney",".mobi":"application/x-mobipocket-ebook",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4s":"application/mp4",".mp4v":"video/mp4",".mpa":"video/mpeg",".mpc":"application/vnd.mophun.certificate",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".mpkg":"application/vnd.apple.installer+xml",".mpm":"application/vnd.blueice.multipass",".mpn":"application/vnd.mophun.application",".mpp":"application/vnd.ms-project",".mpt":"application/vnd.ms-project",".mpy":"application/vnd.ibm.minipay",".mqy":"application/vnd.mobius.mqy",".mrc":"application/marc",".ms":"text/troff",".mscml":"application/mediaservercontrol+xml",".mseed":"application/vnd.fdsn.mseed",".mseq":"application/vnd.mseq",".msf":"application/vnd.epson.msf",".msh":"model/mesh",".msi":"application/x-msdownload",".msl":"application/vnd.mobius.msl",".msty":"application/vnd.muvee.style",".mts":"model/vnd.mts",".mus":"application/vnd.musician",".musicxml":"application/vnd.recordare.musicxml+xml",".mvb":"application/x-msmediaview",".mwf":"application/vnd.mfer",".mxf":"application/mxf",".mxl":"application/vnd.recordare.musicxml",".mxml":"application/xv+xml",".mxs":"application/vnd.triscape.mxs",".mxu":"video/vnd.mpegurl",".n-gage":"application/vnd.nokia.n-gage.symbian.install",".nb":"application/mathematica",".nc":"application/x-netcdf",".ncx":"application/x-dtbncx+xml",".ngdat":"application/vnd.nokia.n-gage.data",".nlu":"application/vnd.neurolanguage.nlu",".nml":"application/vnd.enliven",".nnd":"application/vnd.noblenet-directory",".nns":"application/vnd.noblenet-sealer",".nnw":"application/vnd.noblenet-web",".npx":"image/vnd.net-fpx",".nsf":"application/vnd.lotus-notes",".nws":"message/rfc822",".o":"application/octet-stream",".oa2":"application/vnd.fujitsu.oasys2",".oa3":"application/vnd.fujitsu.oasys3",".oas":"application/vnd.fujitsu.oasys",".obd":"application/x-msbinder",".obj":"application/octet-stream",".oda":"application/oda",".odb":"application/vnd.oasis.opendocument.database",".odc":"application/vnd.oasis.opendocument.chart",".odf":"application/vnd.oasis.opendocument.formula",".odft":"application/vnd.oasis.opendocument.formula-template",".odg":"application/vnd.oasis.opendocument.graphics",".odi":"application/vnd.oasis.opendocument.image",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".ogx":"application/ogg",".onepkg":"application/onenote",".onetmp":"application/onenote",".onetoc":"application/onenote",".onetoc2":"application/onenote",".opf":"application/oebps-package+xml",".oprc":"application/vnd.palm",".org":"application/vnd.lotus-organizer",".osf":"application/vnd.yamaha.openscoreformat",".osfpvg":"application/vnd.yamaha.openscoreformat.osfpvg+xml",".otc":"application/vnd.oasis.opendocument.chart-template",".otf":"application/x-font-otf",".otg":"application/vnd.oasis.opendocument.graphics-template",".oth":"application/vnd.oasis.opendocument.text-web",".oti":"application/vnd.oasis.opendocument.image-template",".otm":"application/vnd.oasis.opendocument.text-master",".otp":"application/vnd.oasis.opendocument.presentation-template",".ots":"application/vnd.oasis.opendocument.spreadsheet-template",".ott":"application/vnd.oasis.opendocument.text-template",".oxt":"application/vnd.openofficeorg.extension",".p":"text/x-pascal",".p10":"application/pkcs10",".p12":"application/x-pkcs12",".p7b":"application/x-pkcs7-certificates",".p7c":"application/pkcs7-mime",".p7m":"application/pkcs7-mime",".p7r":"application/x-pkcs7-certreqresp",".p7s":"application/pkcs7-signature",".pas":"text/x-pascal",".pbd":"application/vnd.powerbuilder6",".pbm":"image/x-portable-bitmap",".pcf":"application/x-font-pcf",".pcl":"application/vnd.hp-pcl",".pclxl":"application/vnd.hp-pclxl",".pct":"image/x-pict",".pcurl":"application/vnd.curl.pcurl",".pcx":"image/x-pcx",".pdb":"application/vnd.palm",".pdf":"application/pdf",".pfa":"application/x-font-type1",".pfb":"application/x-font-type1",".pfm":"application/x-font-type1",".pfr":"application/font-tdpfr",".pfx":"application/x-pkcs12",".pgm":"image/x-portable-graymap",".pgn":"application/x-chess-pgn",".pgp":"application/pgp-encrypted",".pic":"image/x-pict",".pkg":"application/octet-stream",".pki":"application/pkixcmp",".pkipath":"application/pkix-pkipath",".pl":"text/plain",".plb":"application/vnd.3gpp.pic-bw-large",".plc":"application/vnd.mobius.plc",".plf":"application/vnd.pocketlearn",".pls":"application/pls+xml",".pml":"application/vnd.ctc-posml",".png":"image/png",".pnm":"image/x-portable-anymap",".portpkg":"application/vnd.macports.portpkg",".pot":"application/vnd.ms-powerpoint",".potm":"application/vnd.ms-powerpoint.template.macroenabled.12",".potx":"application/vnd.openxmlformats-officedocument.presentationml.template",".ppa":"application/vnd.ms-powerpoint",".ppam":"application/vnd.ms-powerpoint.addin.macroenabled.12",".ppd":"application/vnd.cups-ppd",".ppm":"image/x-portable-pixmap",".pps":"application/vnd.ms-powerpoint",".ppsm":"application/vnd.ms-powerpoint.slideshow.macroenabled.12",".ppsx":"application/vnd.openxmlformats-officedocument.presentationml.slideshow",".ppt":"application/vnd.ms-powerpoint",".pptm":"application/vnd.ms-powerpoint.presentation.macroenabled.12",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".pqa":"application/vnd.palm",".prc":"application/x-mobipocket-ebook",".pre":"application/vnd.lotus-freelance",".prf":"application/pics-rules",".ps":"application/postscript",".psb":"application/vnd.3gpp.pic-bw-small",".psd":"image/vnd.adobe.photoshop",".psf":"application/x-font-linux-psf",".ptid":"application/vnd.pvi.ptid1",".pub":"application/x-mspublisher",".pvb":"application/vnd.3gpp.pic-bw-var",".pwn":"application/vnd.3m.post-it-notes",".pwz":"application/vnd.ms-powerpoint",".py":"text/x-python",".pya":"audio/vnd.ms-playready.media.pya",".pyc":"application/x-python-code",".pyo":"application/x-python-code",".pyv":"video/vnd.ms-playready.media.pyv",".qam":"application/vnd.epson.quickanime",".qbo":"application/vnd.intu.qbo",".qfx":"application/vnd.intu.qfx",".qps":"application/vnd.publishare-delta-tree",".qt":"video/quicktime",".qwd":"application/vnd.quark.quarkxpress",".qwt":"application/vnd.quark.quarkxpress",".qxb":"application/vnd.quark.quarkxpress",".qxd":"application/vnd.quark.quarkxpress",".qxl":"application/vnd.quark.quarkxpress",".qxt":"application/vnd.quark.quarkxpress",".ra":"audio/x-pn-realaudio",".ram":"audio/x-pn-realaudio",".rar":"application/x-rar-compressed",".ras":"image/x-cmu-raster",".rcprofile":"application/vnd.ipunplugged.rcprofile",".rdf":"application/rdf+xml",".rdz":"application/vnd.data-vision.rdz",".rep":"application/vnd.businessobjects",".res":"application/x-dtbresource+xml",".rgb":"image/x-rgb",".rif":"application/reginfo+xml",".rl":"application/resource-lists+xml",".rlc":"image/vnd.fujixerox.edmics-rlc",".rld":"application/resource-lists-diff+xml",".rm":"application/vnd.rn-realmedia",".rmi":"audio/midi",".rmp":"audio/x-pn-realaudio-plugin",".rms":"application/vnd.jcp.javame.midlet-rms",".rnc":"application/relax-ng-compact-syntax",".roff":"text/troff",".rpm":"application/x-rpm",".rpss":"application/vnd.nokia.radio-presets",".rpst":"application/vnd.nokia.radio-preset",".rq":"application/sparql-query",".rs":"application/rls-services+xml",".rsd":"application/rsd+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".rtx":"text/richtext",".s":"text/x-asm",".saf":"application/vnd.yamaha.smaf-audio",".sbml":"application/sbml+xml",".sc":"application/vnd.ibm.secure-container",".scd":"application/x-msschedule",".scm":"application/vnd.lotus-screencam",".scq":"application/scvp-cv-request",".scs":"application/scvp-cv-response",".scurl":"text/vnd.curl.scurl",".sda":"application/vnd.stardivision.draw",".sdc":"application/vnd.stardivision.calc",".sdd":"application/vnd.stardivision.impress",".sdkd":"application/vnd.solent.sdkm+xml",".sdkm":"application/vnd.solent.sdkm+xml",".sdp":"application/sdp",".sdw":"application/vnd.stardivision.writer",".see":"application/vnd.seemail",".seed":"application/vnd.fdsn.seed",".sema":"application/vnd.sema",".semd":"application/vnd.semd",".semf":"application/vnd.semf",".ser":"application/java-serialized-object",".setpay":"application/set-payment-initiation",".setreg":"application/set-registration-initiation",".sfd-hdstx":"application/vnd.hydrostatix.sof-data",".sfs":"application/vnd.spotfire.sfs",".sgl":"application/vnd.stardivision.writer-global",".sgm":"text/sgml",".sgml":"text/sgml",".sh":"application/x-sh",".shar":"application/x-shar",".shf":"application/shf+xml",".si":"text/vnd.wap.si",".sic":"application/vnd.wap.sic",".sig":"application/pgp-signature",".silo":"model/mesh",".sis":"application/vnd.symbian.install",".sisx":"application/vnd.symbian.install",".sit":"application/x-stuffit",".sitx":"application/x-stuffitx",".skd":"application/vnd.koan",".skm":"application/vnd.koan",".skp":"application/vnd.koan",".skt":"application/vnd.koan",".sl":"text/vnd.wap.sl",".slc":"application/vnd.wap.slc",".sldm":"application/vnd.ms-powerpoint.slide.macroenabled.12",".sldx":"application/vnd.openxmlformats-officedocument.presentationml.slide",".slt":"application/vnd.epson.salt",".smf":"application/vnd.stardivision.math",".smi":"application/smil+xml",".smil":"application/smil+xml",".snd":"audio/basic",".snf":"application/x-font-snf",".so":"application/octet-stream",".spc":"application/x-pkcs7-certificates",".spf":"application/vnd.yamaha.smaf-phrase",".spl":"application/x-futuresplash",".spot":"text/vnd.in3d.spot",".spp":"application/scvp-vp-response",".spq":"application/scvp-vp-request",".spx":"audio/ogg",".src":"application/x-wais-source",".srx":"application/sparql-results+xml",".sse":"application/vnd.kodak-descriptor",".ssf":"application/vnd.epson.ssf",".ssml":"application/ssml+xml",".stc":"application/vnd.sun.xml.calc.template",".std":"application/vnd.sun.xml.draw.template",".stf":"application/vnd.wt.stf",".sti":"application/vnd.sun.xml.impress.template",".stk":"application/hyperstudio",".stl":"application/vnd.ms-pki.stl",".str":"application/vnd.pg.format",".stw":"application/vnd.sun.xml.writer.template",".sus":"application/vnd.sus-calendar",".susp":"application/vnd.sus-calendar",".sv4cpio":"application/x-sv4cpio",".sv4crc":"application/x-sv4crc",".svd":"application/vnd.svd",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swa":"application/x-director",".swf":"application/x-shockwave-flash",".swi":"application/vnd.arastra.swi",".sxc":"application/vnd.sun.xml.calc",".sxd":"application/vnd.sun.xml.draw",".sxg":"application/vnd.sun.xml.writer.global",".sxi":"application/vnd.sun.xml.impress",".sxm":"application/vnd.sun.xml.math",".sxw":"application/vnd.sun.xml.writer",".t":"text/troff",".tao":"application/vnd.tao.intent-module-archive",".tar":"application/x-tar",".tcap":"application/vnd.3gpp2.tcap",".tcl":"application/x-tcl",".teacher":"application/vnd.smart.teacher",".tex":"application/x-tex",".texi":"application/x-texinfo",".texinfo":"application/x-texinfo",".text":"text/plain",".tfm":"application/x-tex-tfm",".tgz":"application/x-gzip",".tif":"image/tiff",".tiff":"image/tiff",".tmo":"application/vnd.tmobile-livetv",".torrent":"application/x-bittorrent",".tpl":"application/vnd.groove-tool-template",".tpt":"application/vnd.trid.tpt",".tr":"text/troff",".tra":"application/vnd.trueapp",".trm":"application/x-msterminal",".tsv":"text/tab-separated-values",".ttc":"application/x-font-ttf",".ttf":"application/x-font-ttf",".twd":"application/vnd.simtech-mindmapper",".twds":"application/vnd.simtech-mindmapper",".txd":"application/vnd.genomatix.tuxedo",".txf":"application/vnd.mobius.txf",".txt":"text/plain",".u32":"application/x-authorware-bin",".udeb":"application/x-debian-package",".ufd":"application/vnd.ufdl",".ufdl":"application/vnd.ufdl",".umj":"application/vnd.umajin",".unityweb":"application/vnd.unity",".uoml":"application/vnd.uoml+xml",".uri":"text/uri-list",".uris":"text/uri-list",".urls":"text/uri-list",".ustar":"application/x-ustar",".utz":"application/vnd.uiq.theme",".uu":"text/x-uuencode",".vcd":"application/x-cdlink",".vcf":"text/x-vcard",".vcg":"application/vnd.groove-vcard",".vcs":"text/x-vcalendar",".vcx":"application/vnd.vcx",".vis":"application/vnd.visionary",".viv":"video/vnd.vivo",".vor":"application/vnd.stardivision.writer",".vox":"application/x-authorware-bin",".vrml":"model/vrml",".vsd":"application/vnd.visio",".vsf":"application/vnd.vsf",".vss":"application/vnd.visio",".vst":"application/vnd.visio",".vsw":"application/vnd.visio",".vtu":"model/vnd.vtu",".vxml":"application/voicexml+xml",".w3d":"application/x-director",".wad":"application/x-doom",".wav":"audio/x-wav",".wax":"audio/x-ms-wax",".wbmp":"image/vnd.wap.wbmp",".wbs":"application/vnd.criticaltools.wbs+xml",".wbxml":"application/vnd.wap.wbxml",".wcm":"application/vnd.ms-works",".wdb":"application/vnd.ms-works",".wiz":"application/msword",".wks":"application/vnd.ms-works",".wm":"video/x-ms-wm",".wma":"audio/x-ms-wma",".wmd":"application/x-ms-wmd",".wmf":"application/x-msmetafile",".wml":"text/vnd.wap.wml",".wmlc":"application/vnd.wap.wmlc",".wmls":"text/vnd.wap.wmlscript",".wmlsc":"application/vnd.wap.wmlscriptc",".wmv":"video/x-ms-wmv",".wmx":"video/x-ms-wmx",".wmz":"application/x-ms-wmz",".wpd":"application/vnd.wordperfect",".wpl":"application/vnd.ms-wpl",".wps":"application/vnd.ms-works",".wqd":"application/vnd.wqd",".wri":"application/x-mswrite",".wrl":"model/vrml",".wsdl":"application/wsdl+xml",".wspolicy":"application/wspolicy+xml",".wtb":"application/vnd.webturbo",".wvx":"video/x-ms-wvx",".x32":"application/x-authorware-bin",".x3d":"application/vnd.hzn-3d-crossword",".xap":"application/x-silverlight-app",".xar":"application/vnd.xara",".xbap":"application/x-ms-xbap",".xbd":"application/vnd.fujixerox.docuworks.binder",".xbm":"image/x-xbitmap",".xdm":"application/vnd.syncml.dm+xml",".xdp":"application/vnd.adobe.xdp+xml",".xdw":"application/vnd.fujixerox.docuworks",".xenc":"application/xenc+xml",".xer":"application/patch-ops-error+xml",".xfdf":"application/vnd.adobe.xfdf",".xfdl":"application/vnd.xfdl",".xht":"application/xhtml+xml",".xhtml":"application/xhtml+xml",".xhvml":"application/xv+xml",".xif":"image/vnd.xiff",".xla":"application/vnd.ms-excel",".xlam":"application/vnd.ms-excel.addin.macroenabled.12",".xlb":"application/vnd.ms-excel",".xlc":"application/vnd.ms-excel",".xlm":"application/vnd.ms-excel",".xls":"application/vnd.ms-excel",".xlsb":"application/vnd.ms-excel.sheet.binary.macroenabled.12",".xlsm":"application/vnd.ms-excel.sheet.macroenabled.12",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".xlt":"application/vnd.ms-excel",".xltm":"application/vnd.ms-excel.template.macroenabled.12",".xltx":"application/vnd.openxmlformats-officedocument.spreadsheetml.template",".xlw":"application/vnd.ms-excel",".xml":"application/xml",".xo":"application/vnd.olpc-sugar",".xop":"application/xop+xml",".xpdl":"application/xml",".xpi":"application/x-xpinstall",".xpm":"image/x-xpixmap",".xpr":"application/vnd.is-xpr",".xps":"application/vnd.ms-xpsdocument",".xpw":"application/vnd.intercon.formnet",".xpx":"application/vnd.intercon.formnet",".xsl":"application/xml",".xslt":"application/xslt+xml",".xsm":"application/vnd.syncml+xml",".xspf":"application/xspf+xml",".xul":"application/vnd.mozilla.xul+xml",".xvm":"application/xv+xml",".xvml":"application/xv+xml",".xwd":"image/x-xwindowdump",".xyz":"chemical/x-xyz",".zaz":"application/vnd.zzazz.deck+xml",".zip":"application/zip",".zir":"application/vnd.zul",".zirz":"application/vnd.zul",".zmm":"application/vnd.handheld-entertainment+xml"},ml={TEXT:"text",ARRAY_BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json"},_l=/(.+)\/(.+)$/,fl=/\.(.+)$/,vl=/.*/,gl="audio/*",bl="image/*",yl="video/*",Cl=function(){function e(t){Pt(this,e),this._originalFile=t,this._xhr=null}return Ft(e,[{key:"_isMimeTypeAllowed",value:function(e){var t=!1,n=this.file.type||"application/unknown";return!!n.match(_l)&&e.split(",").some(function(e){if("*"===(e=e.trim())||".*"===e||"*/*"===e||"application/unknown"===n)t=!0;else if(e.match(_l))t=e===gl?0===n.indexOf(gl.slice(0,-1)):e===bl?0===n.indexOf(bl.slice(0,-1)):e===yl?0===n.indexOf(yl.slice(0,-1)):n===e;else if(e.match(fl)){var i=pl[e];t=Array.isArray(i)?i.some(function(e){return n===e}):n===pl[e]}else e.match(vl)&&(t=n.split("/")[0]===e);return t})}},{key:"file",get:function(){return this._originalFile}},{key:"parameters",get:function(){return this._parameters||[]},set:function(e){Array.isArray(e)&&e.every(function(e){return e&&e.name})&&(this._parameters=e)}},{key:"withCredentials",get:function(){return this._withCredentials||!1},set:function(e){this._withCredentials=An.boolean(e)}},{key:"timeout",get:function(){return this._timeout||0},set:function(e){var t=An.number(e);null!==t&&(this._timeout=t,this._xhr&&(this._xhr.timeout=t))}},{key:"responseType",get:function(){return this._responseType||ml.TEXT},set:function(e){e=An.string(e).toLowerCase(),this._responseType=En.enumeration(ml)(e)&&e||ml.TEXT,this._xhr&&(this._xhr.responseType=e)}},{key:"readyState",get:function(){return this._xhr?this._xhr.readyState:this._readyState||0}},{key:"response",get:function(){return this._xhr?this._xhr.response:this._response||""}},{key:"responseText",get:function(){return this._xhr?this._xhr.responseText:this._responseText||""}},{key:"responseXML",get:function(){return this._xhr?this._xhr.responseXML:this._responseXML||null}},{key:"status",get:function(){return this._xhr?this._xhr.status:this._status||0}},{key:"statusText",get:function(){return this._xhr?this._xhr.statusText:this._statusText||""}}],[{key:"responseType",get:function(){return ml}}]),e}(),kl=function(e){var t=this.input=document.createElement("input");return t.setAttribute("handle","input"),t.className+=" coral3-FileUpload-input is-unselectable",t.setAttribute("tabindex","-1"),t.setAttribute("name",""),t.setAttribute("type","file"),t.setAttribute("accept",""),t},Al=["loadstart","progress","load","error","loadend","readystatechange","abort","timeout"],wl={POST:"POST",PUT:"PUT",PATCH:"PATCH"},El=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{"click [coral-fileupload-submit]":"_onSubmitButtonClick","click [coral-fileupload-clear]":"clear","click [coral-fileupload-select]":"_showFileDialog","click [coral-fileupload-abort]":"abort","click [coral-fileupload-abortfile]":"_onAbortFileClick","click [coral-fileupload-removefile]":"_onRemoveFileClick","click [coral-fileupload-uploadfile]":"_onUploadFileClick","dragenter [coral-fileupload-dropzone]":"_onDragAndDrop","dragover [coral-fileupload-dropzone]":"_onDragAndDrop",'dragleave [handle="input"]':"_onDragAndDrop",'drop [handle="input"]':"_onDragAndDrop","capture:focus [coral-fileupload-select]":"_onButtonFocusIn",'capture:focus [handle="input"]':"_onInputFocusIn",'capture:blur [handle="input"]':"_onInputFocusOut"})),e._elements={},kl.call(e._elements),e._uploadQueue=[],e._doAddDragClass=e._doAddDragClass.bind(e),e._doRemoveDragClass=e._doRemoveDragClass.bind(e),e._positionInputOnDropZone=e._positionInputOnDropZone.bind(e),e._observer=new MutationObserver(e._positionInputOnDropZone),e._observer.observe(e,{childList:!0,attributes:!0,attributeFilter:["coral-fileupload-dropzone"],subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_onButtonFocusIn",value:function(e){var t=this._elements.input,n=e.matchedTarget;n.parentNode.insertBefore(t,n.nextElementSibling),window.setTimeout(function(){t.focus()},100)}},{key:"_onInputFocusIn",value:function(){var e=this.querySelector("[coral-fileupload-select]");e&&(e.tabIndex=-1,e.setAttribute("aria-hidden",!0),e.classList.add("is-focused"))}},{key:"_onInputFocusOut",value:function(){var e=this.querySelector("[coral-fileupload-select].is-focused");e.classList.remove("is-focused"),window.requestAnimationFrame(function(){e.tabIndex=0,e.removeAttribute("aria-hidden")})}},{key:"_onAbortFileClick",value:function(e){if(!this.async)throw new Error("Coral.FileUpload does not support aborting file(s) upload on synchronous mode.");var t=e.target.getAttribute("coral-fileupload-abortfile");t&&this._abortFile(t)}},{key:"_onRemoveFileClick",value:function(e){if(!this.async)throw new Error("Coral.FileUpload does not support removing a file from the queue on synchronous mode.");var t=e.target.getAttribute("coral-fileupload-removefile");t&&this._clearFile(t)}},{key:"_onUploadFileClick",value:function(e){if(!this.async)throw new Error("Coral.FileUpload does not support uploading a file from the queue on synchronous mode.");var t=e.target.getAttribute("coral-fileupload-uploadfile");t&&this.upload(t)}},{key:"_onDragAndDrop",value:function(e){"dragenter"===e.type||"dragover"===e.type?this._addDragClass():"dragleave"!==e.type&&"drop"!==e.type||this._removeDragClass(),this.trigger("coral-fileupload:"+e.type)}},{key:"_addDragClass",value:function(){window.clearTimeout(this._removeClassTimeout),this._removeClassTimeout=window.setTimeout(this._doAddDragClass,10)}},{key:"_doAddDragClass",value:function(){this.classList.add("is-dragging");var e=this.querySelector("[coral-fileupload-dropzone]");e&&e.classList.add("is-dragging"),this._elements.input.classList.remove("is-unselectable")}},{key:"_removeDragClass",value:function(){window.clearTimeout(this._removeClassTimeout),this._removeClassTimeout=window.setTimeout(this._doRemoveDragClass,10)}},{key:"_doRemoveDragClass",value:function(){this.classList.remove("is-dragging");var e=this.querySelector("[coral-fileupload-dropzone]");e&&e.classList.remove("is-dragging"),this._elements.input.classList.add("is-unselectable")}},{key:"_onSubmitButtonClick",value:function(e){var t=e.matchedTarget;this._buttonAction=t.getAttribute("formaction");var n=An.string(t.getAttribute("formmethod")).toUpperCase();this._buttonMethod=En.enumeration(wl)(n)&&n||null,this.upload()}},{key:"_onInputChange",value:function(e){if(e.stopPropagation(),!this.disabled){var t=this,n=[],i=[];if(e.target.files&&e.target.files.length)this._clearQueue(),n=e.target.files,this.multiple||(n=[n[0]]);else{if(!(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length))return;this._clearQueue(),n=e.dataTransfer.files,this.multiple||(n=[n[0]])}for(var o=0;o<n.length;o++)i.push(new Cl(n[o]));i.forEach(function(e){
t._getQueueItemByFilename(e.file.name)||(t.sizeLimit&&e.file.size>t.sizeLimit?t.trigger("coral-fileupload:filesizeexceeded",{item:e}):t.accept&&!e._isMimeTypeAllowed(t.accept)?t.trigger("coral-fileupload:filemimetyperejected",{item:e}):(t._uploadQueue.push(e),t.trigger("coral-fileupload:fileadded",{item:e})))}),this.autoStart&&this.upload(),this._triggerChangeEvent&&this.trigger("change"),this.async&&this._clearFileInputValue()}}},{key:"_setElementState",value:function(){var e=this;Array.prototype.forEach.call(this.querySelectorAll("[coral-fileupload-select],[coral-fileupload-dropzone],[coral-fileupload-submit],[coral-fileupload-clear],[coral-fileupload-abort],[coral-fileupload-abortfile],[coral-fileupload-removefile],[coral-fileupload-uploadfile]"),function(t){t.classList.toggle("is-invalid",e.invalid),t.classList.toggle("is-disabled",e.disabled),t.classList.toggle("is-required",e.required),t.classList.toggle("is-readOnly",e.readOnly),t[e.disabled||e.readOnly?"setAttribute":"removeAttribute"]("disabled","")},this)}},{key:"_clearQueue",value:function(){var e=this;this._uploadQueue.slice().forEach(function(t){e._clearFile(t.file.name)},this)}},{key:"_clearFileInputValue",value:function(){this._elements.input.value=""}},{key:"_clearFile",value:function(e){var t=this._getQueueItemByFilename(e);t&&(this._abortFile(e),this._uploadQueue.splice(this._getQueueIndex(e),1),this.trigger("coral-fileupload:fileremoved",{item:t}))}},{key:"_uploadFile",value:function(e){var t=this._getQueueItemByFilename(e);t&&(this._abortFile(e),this._ajaxUpload(t))}},{key:"_showFileDialog",value:function(){this._elements.input.click()}},{key:"_abortFile",value:function(e){var t=this._getQueueItemByFilename(e);t&&t._xhr&&(t._xhr.abort(),t._xhr=null)}},{key:"_ajaxUpload",value:function(e){var t=this,n=this._buttonAction||this.action,i=this._buttonMethod?this._buttonMethod.toUpperCase():this.method,o=t.parameters.concat(e.parameters),a=new FormData;o.forEach(function(e){a.append(e.name,e.value)}),a.append("_charset_","utf-8"),a.append(this.name,e._originalFile),e._xhr=new XMLHttpRequest,e._xhr.open(i,n),e._xhr.timeout=e.timeout,e._xhr.responseType=e.responseType,e._xhr.withCredentials=e.withCredentials,Al.forEach(function(o){var a="progress"===o;(a?e._xhr.upload:e._xhr).addEventListener(o,function(r){var s={item:e,action:n,method:i};a&&(s.lengthComputable=r.lengthComputable,s.loaded=r.loaded,s.total=r.total),t.trigger("coral-fileupload:"+o,s)})}),e._xhr.send(a)}},{key:"_getLabellableElement",value:function(){return this}},{key:"_getQueueItemByFilename",value:function(e){return this._getQueueItem(this._getQueueIndex(e))}},{key:"_getQueueItem",value:function(e){return e>-1?this._uploadQueue[e]:null}},{key:"_getQueueIndex",value:function(e){var t=-1;return this._uploadQueue.some(function(n,i){return n.file.name===e&&(t=i,!0)}),t}},{key:"_getTargetChangeInput",value:function(){return this._elements.input}},{key:"_positionInputOnDropZone",value:function(){var e=this._elements.input,t=this.querySelector("[coral-fileupload-dropzone]");if(t){var n=t.getBoundingClientRect();e.style.top=parseInt(t.offsetTop,10)+"px",e.style.left=parseInt(t.offsetLeft,10)+"px",e.style.width=parseInt(n.width,10)+"px",e.style.height=parseInt(n.height,10)+"px"}else e.style.width="0",e.style.height="0"}},{key:"upload",value:function(e){var t=this;if(this.async)"string"==typeof e?this._uploadFile(e):this._uploadQueue.forEach(function(e){t._abortFile(e.file.name),t._ajaxUpload(e)},this);else{if("string"==typeof e)throw new Error("Coral.FileUpload does not support uploading a file from the queue on synchronous mode.");var n=this.closest("form");n||(n=document.createElement("form"),n.method=this.method.toLowerCase(),n.enctype="multipart/form-data",n.action=this.action,n.hidden=!0,n.appendChild(this._elements.input),Array.prototype.forEach.call(this.querySelectorAll('input[type="hidden"]'),function(e){n.appendChild(e)}),this.appendChild(n));var i=document.createElement("input");i.type="hidden",i.name="_charset_",i.value="utf-8",n.submit()}}},{key:"clear",value:function(e){if(this.async)"string"==typeof e?this._clearFile(e):this._clearQueue();else{if("string"==typeof e)throw new Error("Coral.FileUpload does not support removing a file from the queue on synchronous mode.");this._clearQueue(),this._clearFileInputValue()}}},{key:"abort",value:function(e){var t=this;if(!this.async)throw new Error("Coral.FileUpload does not support aborting file(s) upload on synchronous mode.");"string"==typeof e?this._abortFile(e):this._uploadQueue.forEach(function(e){t._abortFile(e.file.name)},this)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-FileUpload"),this.setAttribute("role","group");var e=this.querySelector("[coral-fileupload-select]");e&&(e.id=e.id||Yt.getUID()),this.labelledBy=this.labelledBy;var n=[];Array.prototype.forEach.call(this.querySelectorAll('input[type="hidden"]'),function(e){n.push({name:e.name,value:e.value})}),this.parameters=n;var i=this.querySelector('[handle="input"]');i&&i.parentNode.removeChild(i);var o=this.querySelector("object");o&&o.parentNode===this&&this.removeChild(o),this.appendChild(this._elements.input);var a=this;window.requestAnimationFrame(function(){Yt.addResizeListener(a,a._positionInputOnDropZone)})}},{key:"name",get:function(){return this._elements.input.name},set:function(e){this._reflectAttribute("name",e),this._elements.input.name=e}},{key:"value",get:function(){var e=this._uploadQueue?this._getQueueItem(0):null;return e?"C:\\fakepath\\"+e.file.name:""},set:function(e){if(""!==e&&null!==e)throw new Error("Coral.FileUpload accepts a filename, which may only be programmatically set to empty string.");this._clearQueue(),this._clearFileInputValue()}},{key:"disabled",get:function(){return this._elements.input.disabled},set:function(e){this._elements.input.disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this.disabled),this.classList.toggle("is-disabled",this.disabled),this._setElementState()}},{key:"invalid",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",e,this),this._elements.input.setAttribute("aria-invalid",this.invalid),this._setElementState()}},{key:"required",get:function(){return this._elements.input.required},set:function(e){this._elements.input.required=An.booleanAttr(e),this._reflectAttribute("required",this.required),this.setAttribute("aria-required",this.required),this.classList.toggle("is-required",this.required),this._setElementState()}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this._elements.input.disabled=this._readOnly,this.setAttribute("aria-readonly",this._readOnly),this.classList.toggle("is-readOnly",this._readOnly),this._setElementState()}},{key:"values",get:function(){var e=this._uploadQueue.map(function(e){return"C:\\fakepath\\"+e.file.name});return e.length&&!this.multiple&&(e=[e[0]]),e},set:function(e){Array.isArray(e)&&(e.length?this.value=e[0]:this.value="")}},{key:"labelledBy",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this);var n=this.labelledBy,i=[],o=this.querySelector("[coral-fileupload-select]");o&&i.push(o.id),n&&i.unshift(n),this._elements.input.setAttribute("aria-labelledby",i.join(" "))}},{key:"parameters",get:function(){return this._parameters||[]},set:function(e){var t=this;Array.isArray(e)&&e.every(function(e){return e&&e.name})&&(this._parameters=e,this.async||(Array.prototype.forEach.call(this.querySelectorAll('input[type="hidden"]'),function(e){e.parentNode.removeChild(e)}),this.parameters.forEach(function(e){var n=document.createElement("input");n.type="hidden",n.name=e.name,n.value=e.value,t.appendChild(n)},this)))}},{key:"async",get:function(){return this._async||!1},set:function(e){this._async=An.booleanAttr(e),this._reflectAttribute("async",this._async),this._async||(this.parameters=this.parameters),this._uploadQueue&&(this._clearQueue(),this._clearFileInputValue())}},{key:"action",get:function(){return this._action||""},set:function(e){this._action=An.string(e),this._reflectAttribute("action",this._action),this._buttonAction=null}},{key:"method",get:function(){return this._method||wl.POST},set:function(e){e=An.string(e).toUpperCase(),this._method=En.enumeration(wl)(e)&&e||wl.POST,this._reflectAttribute("method",this._method),this._buttonMethod=null}},{key:"multiple",get:function(){return this._elements.input.multiple},set:function(e){this._elements.input.multiple=An.booleanAttr(e),this._reflectAttribute("multiple",this.multiple)}},{key:"sizeLimit",get:function(){return this._sizeLimit||0},set:function(e){this._sizeLimit=An.number(e),this._reflectAttribute("sizelimit",this._sizeLimit)}},{key:"accept",get:function(){return this._elements.input.accept},set:function(e){this._elements.input.accept=e,this._reflectAttribute("accept",this.accept)}},{key:"autoStart",get:function(){return this._autoStart||!1},set:function(e){this._autoStart=An.booleanAttr(e),this._reflectAttribute("autostart",this._autoStart)}},{key:"uploadQueue",get:function(){return this._uploadQueue}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["async","action","method","multiple","sizelimit","sizeLimit","accept","autostart","autoStart"])}}]),t}(yo(Pn(HTMLElement)));window.customElements.define("coral-fileupload",El),window.Coral=window.Coral||{},window.Coral.FileUpload=El,window.Coral.FileUpload.Item=Cl;var Tl=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._masonry=null,e._dragAction=null,e}return Bt(t,e),Ft(t,[{key:"_insert",value:function(){if(this.classList.contains("is-beforeInserting")){this.classList.remove("is-beforeInserting"),this.classList.add("is-inserting");var e=this;Yt.transitionEnd(this,function(){e.classList.remove("is-inserting")})}}},{key:"_setTabbable",value:function(e){this.setAttribute("tabindex",e?0:-1)}},{key:"_updateDragAction",value:function(e){var t=void 0;e&&(null!==this.getAttribute("coral-masonry-draghandle")?t=this:(t=this.querySelector("[coral-masonry-draghandle]"))||(e=!1)),e?(this._dragAction||(this._dragAction=new Gs(this),this._dragAction.dropZone=this.parentNode),this._dragAction.handle=t):this._dragAction&&(this._dragAction.destroy(),this._dragAction=null)}},{key:"attributeChangedCallback",value:function(e,n,i){if("_removing"===e){var o=this;window.requestAnimationFrame(function(){o.classList.toggle("is-removing",null!==i)})}else"_orderable"===e?this._updateDragAction(null!==i):Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attributeChangedCallback",this).call(this,e,n,i)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Masonry-item"),this.setAttribute("tabindex","-1"),this.trigger("coral-masonry-item:_connected")}},{key:"disconnectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disconnectedCallback",this).call(this);var e=this._masonry;e&&e._onItemDisconnected(this)}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected)}}],[{key:"observedAttributes",get:function(){return["selected","_removing","_orderable"]}}]),t}(Pn(HTMLElement)),Sl={FIXED_CENTERED:"fixed-centered",FIXED_SPREAD:"fixed-spread",VARIABLE:"variable",DASHBOARD:"dashboard"};document.addEventListener("error",function(e){var t=e.target;t&&"IMG"===t.tagName&&(t._loadError=!0)},!0);var xl=function(e){return e&&"CORAL-MASONRY-ITEM"===e.tagName&&!e.hasAttribute("_removing")},Ll=function(e){return e.hasAttribute("_removing")||!e.parentNode},Ol=function(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return{left:i.left-n.left,top:i.top-n.top}},Il=function(e,t,n,i,o,a){return Math.sqrt(Math.pow((n-e)/o,2)+Math.pow((i-t)/a,2))},Nl=function(e){var t=e.previousElementSibling;return xl(t)?t:null},Ml=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._loaded=!1,e._layouted=!1,e._layoutScheduled=!1,e._forceDebounce=!1,e._debounceId=null,e._newItems=[],e._tabbableItem=null,e._delegateEvents({"global:resize":"_onWindowResize","global:load":"_updateLoaded","capture:load img":"_updateLoaded","capture:error img":"_updateLoaded","coral-dragaction:dragstart coral-masonry-item":"_onItemDragStart","coral-dragaction:dragover coral-masonry-item":"_onItemDragMove","coral-dragaction:dragend coral-masonry-item":"_onItemDragEnd","capture:focus coral-masonry-item":"_onItemFocus","coral-masonry-item:_connected":"_onItemConnected"}),e._observer=new MutationObserver(e._scheduleLayout.bind(e,"mutation")),e._observer.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),e}return Bt(t,e),Ft(t,[{key:"_setAllSelected",value:function(e){for(var t=this.items.getAll(),n=0;n<t.length;n++){var i=t[n];i.hasAttribute("selected")!==e&&i[e?"setAttribute":"removeAttribute"]("selected","")}}},{key:"_scheduleLayout",value:function(){if(!this._forceDebounce&&!this._layoutScheduled){var e=this;window.requestAnimationFrame(function(){e._layoutScheduled&&(e._doLayout(),e._layoutScheduled=!1)}),this._layoutScheduled=!0}}},{key:"_scheduleDebouncedLayout",value:function(e){e&&this._layouted&&(this._forceDebounce=!0),window.clearTimeout(this._debounceId);var t=this;this._debounceId=window.setTimeout(function(){t._forceDebounce=!1,t._scheduleLayout("window resize")},500)}},{key:"_onResize",value:function(){this._layouted?this._scheduleDebouncedLayout(!1):this._doLayout("became visible")}},{key:"_onWindowResize",value:function(){this._scheduleDebouncedLayout(!0)}},{key:"_doLayout",value:function(){var e=!!this.offsetParent,t=this.constructor._layouts[this.layout];if(!this._forceDebounce&&t&&e){this._layoutInstance?this._layoutInstance.name!==this.layout&&(this._layoutInstance.destroy(),this._layoutInstance=new t(this)):this._layoutInstance=new t(this);var n=void 0,i=this._newItems;for(n=0;n<i.length;n++)i[n]._insert();for(this._layoutInstance.layout(),this._layouted=!0,n=0;n<i.length;n++)i[n].classList.add("is-managed");i.length=0,this.classList.toggle("is-loaded",this._loaded);var o=this._tabbableItem;o&&!Ll(o)||this._setTabbableItem(this.items.first());var a=this._focusedItem;a&&(Ll(a)&&this._focusedItemNext?this._focusedItemNext.focus():a!==document.activeElement&&(this._focusedItem=null,this._focusedItemNext=null)),this._observer.takeRecords()}}},{key:"_updateLoaded",value:function(){if(!this._loaded&&"complete"===document.readyState){for(var e=!0,t=this.querySelectorAll("img"),n=0;n<t.length;n++){var i=t[n];if(i.src&&!i.complete&&!i._loadError){e=!1;break}}this._loaded=e}this._scheduleLayout()}},{key:"_onItemConnected",value:function(e){if(e.stopImmediatePropagation(),document.body.contains(this)){var t=e.target;if(!t.hasAttribute("_removing")&&this!==t._masonry&&!t.hasAttribute("_placeholder")){t._masonry=this,t.classList.add("is-beforeInserting");var n=this;window.requestAnimationFrame(function(){n._onItemAdded(t)})}}}},{key:"_onItemDisconnected",value:function(e){document.body.contains(this)&&(e._dropping||(e.hasAttribute("_removing")?(e.removeAttribute("_removing"),e._masonry=null,this._onItemRemoved(e)):(e.setAttribute("_removing",""),this.appendChild(e),Yt.transitionEnd(e,function(){e.remove()}))))}},{key:"_onItemAdded",value:function(e){e._updateDragAction(this.orderable),this._newItems.push(e),this._attaching&&null===e.nextElementSibling&&this._doLayout("last item attached"),this.trigger("coral-collection:add",{item:e})}},{key:"_onItemRemoved",value:function(e){e._updateDragAction(!1),e.classList.remove("is-managed"),this.trigger("coral-collection:remove",{item:e})}},{key:"_onItemFocus",value:function(e){var t=e.target;t===e.matchedTarget&&(this._setTabbableItem(t),this._focusedItem=t,this._focusedItemNext=[t.nextElementSibling,t.previousElementSibling].filter(xl)[0])}},{key:"_setTabbableItem",value:function(e){this._tabbableItem&&this._tabbableItem._setTabbable(!1),e&&e._setTabbable(!0),this._tabbableItem=e}},{key:"_isApproachingPlaceholder",value:function(e,t,n){var i=Ol(this,n),o=n.offsetWidth,a=n.offsetHeight,r=i.left+o/2,s=i.top+a/2;return Il(r,s,e.left,e.top,o,a)<=Il(r,s,t.left,t.top,o,a)}},{key:"_onItemDragStart",value:function(e){var t=e.target;if(t===e.matchedTarget){this._layoutInstance.detach(t),t._oldBefore=Nl(t);var n=t._dropPlaceholder=new Tl;n.setAttribute("_placeholder","");var i=document.createElement("div");i.style.width=t.clientWidth+"px",i.style.height=t.clientHeight+"px",n.appendChild(i),n.classList.add("coral3-Masonry-item--placeholder"),this.insertBefore(n,t)}}},{key:"_onItemDragMove",value:function(e){var t=e.target,n=t._dropPlaceholder;if(t===e.matchedTarget&&n){var i=t._prevDragPos,o=Ol(this,t);if(!i||!this._isApproachingPlaceholder(o,i,n)){var a=this._layoutInstance.itemAt(o.left,o.top);a&&a!==n&&(n.compareDocumentPosition(a)&document.DOCUMENT_POSITION_PRECEDING?a.parentNode.insertBefore(n,a):a.parentNode.insertBefore(n,a.nextSibling))}t._prevDragPos=o}}},{key:"_onItemDragEnd",value:function(e){var t=e.target,n=t._dropPlaceholder;t===e.matchedTarget&&n&&(t._dropping=!0,this.replaceChild(t,n),t._dropping=!1,t.trigger("coral-masonry:order",{item:t,oldBefore:t._oldBefore,before:Nl(t)},!0,!1),this._layoutInstance.reattach(t),t.classList.add("is-dropping"),Yt.transitionEnd(t,function(){t.classList.remove("is-dropping")})),t._oldBefore=null,t._dropPlaceholder=null,t._prevDragPos=null}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Masonry");var e=this.querySelector("object");e&&e.parentNode===this&&this.removeChild(e),this._layout||(this.layout=Sl.FIXED_CENTERED),Yt.addResizeListener(this,this._onResize.bind(this)),this._attaching=!0;var n=this;window.requestAnimationFrame(function(){n._attaching=!1,n._updateLoaded()})}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-masonry-item",itemSelector:":scope > coral-masonry-item:not([_removing]):not([_placeholder])"})),this._items}},{key:"layout",get:function(){return this._layout||Sl.FIXED_CENTERED},set:function(e){e=An.string(e);var t=this.constructor._layouts;""===e&&(e=Object.keys(t)[0]),e!==this._layout&&(t[e]?(this._layout=e,this._reflectAttribute("layout",this._layout),this._scheduleLayout("new layout")):window.console)}},{key:"selectedItem",get:function(){return this.items._getFirstSelected()}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"spacing",get:function(){return this._spacing||null},set:function(e){e=An.number(e),this._spacing=null!==e?Math.max(0,e):null,this._scheduleLayout("spacing")}},{key:"orderable",get:function(){return this._orderable||!1},set:function(e){this._orderable=An.booleanAttr(e);for(var t=this.items.getAll(),n=0;n<t.length;n++)t[n][this._orderable?"setAttribute":"removeAttribute"]("_orderable","")}}],[{key:"registerLayout",value:function(e,t){t.defineName(e),this._layouts[e]=t}},{key:"_layouts",get:function(){return this.__layouts||(this.__layouts={}),this.__layouts}},{key:"layouts",get:function(){return Sl}},{key:"observedAttributes",get:function(){return["layout","spacing","orderable"]}}]),t}(Pn(HTMLElement)),Dl=function(){function e(t){Pt(this,e),this._masonry=t}return Ft(e,[{key:"layout",value:function(){}},{key:"destroy",value:function(){}},{key:"detach",value:function(e){}},{key:"reattach",value:function(e){}},{key:"itemAt",value:function(e,t){}},{key:"name",get:function(){return this._name||this.constructor._name},set:function(e){this._name=e}}],[{key:"defineName",value:function(e){this._name=e}}]),e}(),Pl=function(e,t){e.style.setProperty("-webkit-transform",t),e.style.setProperty("-ms-transform",t),e.style.transform=t},Fl=function(e,t){e.style.setProperty("-webkit-transition",t),e.style.setProperty("-ms-transition",t),e.style.transition=t},Hl=function(e,t){for(var n=0,i=0;i<t.length;i++){if((n+=t[i]._layoutData.colspan)>=e.length)return e.length}return n},Bl=function(e,t){return parseFloat(window.getComputedStyle(e)[t],10)},Rl=function(e,t,n,i){var o=e[t];return void 0===o&&(o=e.getAttribute(n)),o=parseInt(o,10),(o<=0||isNaN(o))&&(o=i),o},jl=function(e){function t(e){Pt(this,t);var n=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._columns=[];var i=n._moveFocusVertically.bind(n,!0),o=n._moveFocusVertically.bind(n,!1),a=n._moveFocusHorizontally.bind(n,!0),r=n._moveFocusHorizontally.bind(n,!1),s=n._moveFocusHomeEnd.bind(n,!0),l=n._moveFocusHomeEnd.bind(n,!1),c=n._keys=new yn(e,{context:n});return c.on("up",i).on("k",i),c.on("down",o).on("j",o),c.on("left",a).on("h",a),c.on("right",r).on("l",r),c.on("home",s),c.on("end",l),n}return Bt(t,e),Ft(t,[{key:"_resetItem",value:function(e){}},{key:"_init",value:function(e){var t=e[0],n=this._masonry;this._columnWidth=Rl(n,"columnWidth","columnwidth",200),this._zeroOffsetLeft=-Bl(t,"marginLeft"),this._masonryInnerWidth=n.clientWidth;var i=this._masonry.spacing;"number"==typeof i?(this._horSpacing=i,this._verSpacing=i,this._offsetLeft=i+this._zeroOffsetLeft,this._offsetTop=i-Bl(t,"marginTop"),this._verPadding=2*i,this._masonryAvailableWidth=n.clientWidth-i):(this._horSpacing=Bl(t,"marginLeft")+Bl(t,"marginRight"),this._verSpacing=Bl(t,"marginTop")+Bl(t,"marginBottom"),this._offsetLeft=Bl(n,"paddingLeft"),this._offsetTop=Bl(n,"paddingTop"),this._verPadding=this._offsetTop+this._verSpacing+Bl(n,"paddingBottom"),this._masonryAvailableWidth=n.clientWidth-this._offsetLeft-Bl(n,"paddingRight"));var o=Math.max(1,Math.floor(this._masonryAvailableWidth/(this._columnWidth+this._horSpacing)));this._columns.length=o;for(var a=0;a<o;a++)this._columns[a]={height:this._offsetTop,items:[]};for(var r=0;r<e.length;r++){var s=e[r],l=s._layoutData;l||(s._layoutData=l={}),l.colspan=Math.min(Rl(s,"colspan","colspan",1),this._columns.length)}}},{key:"_writeStyles",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n._layoutData,o=Math.round(this._getItemWidth(i.colspan));i.width!==o&&(n.style.width=o+"px",i.width=o),this._writeItemStyle(n)}}},{key:"_getItemWidth",value:function(e){}},{key:"_writeItemStyle",value:function(e){}},{key:"_readStyles",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n._layoutData;i.height=Math.round(n.getBoundingClientRect().height),i.ignored=i.detached||!n.offsetParent}}},{key:"_positionItems",value:function(e){for(var t=void 0,n=0;n<e.length;n++){var i=e[n],o=i._layoutData;if(!o.ignored){var a=this._columns.length-(o.colspan-1),r=-1,s=void 0;for(t=0;t<a;t++){for(var l=this._offsetTop,c=0;c<o.colspan;c++)l=Math.max(l,this._columns[t+c].height);(-1===r||l<s)&&(r=t,s=l)}var u=s,d=Math.round(this._getItemLeft(r));o.left===d&&o.top===u||(o.columnIndex=r,o.itemIndex=this._columns[r].items.length,o.left=d,o.top=u,Pl(i,"translate("+d+"px, "+u+"px)"));var h=u+o.height+this._verSpacing;for(t=0;t<o.colspan;t++){var p=this._columns[r+t];p.height=h,p.items.push(i)}}}}},{key:"_getItemLeft",value:function(e){}},{key:"_getContentHeight",value:function(){return this._columns.reduce(function(e,t){return Math.max(e,t.height)},0)-this._offsetTop}},{key:"_postLayout",value:function(e){}},{key:"_moveFocusVertically",value:function(e,t){var n=t.target._layoutData;if(n){var i=n.itemIndex+(e?-1:1),o=this._columns[n.columnIndex].items[i];o&&(o.focus(),t.preventDefault())}}},{key:"_moveFocusHorizontally",value:function(e,t){var n=t.target._layoutData;if(n){var i=void 0,o=n.columnIndex+(e?-1:n.colspan),a=this._columns[o];if(a)for(var r=n.top+n.height,s=0,l=0;l<a.items.length;l++){var c=a.items[l],u=c._layoutData,d=u.top+u.height;if(n.top<=d&&r>=u.top){var h=(n.height-Math.max(0,u.top-n.top)-Math.max(0,r-d))/u.height;h>s&&(s=h,i=c)}else if(n.top+n.height<u.top)break}i&&(i.focus(),t.preventDefault())}}},{key:"_moveFocusHomeEnd",value:function(e,t){if(t.target._layoutData){var n=void 0,i=this._columns;if(e)n=i[0]&&i[0].items[0];else for(var o=i.length-1;o>-1;o--)if(i[o].items.length>0){n=i[o].items[i[o].items.length-1];break}n&&(n.focus(),t.preventDefault())}}},{key:"layout",value:function(e){var t=this._masonry,n=t.items.getAll();n.length>0?(this._init(n),this._writeStyles(n),this._readStyles(n),this._positionItems(n)):this._columns.length=0;var i=this._getContentHeight();t.style.height=i-this._verSpacing+this._verPadding+"px",e||this._masonryInnerWidth===t.clientWidth?this._postLayout(i):this.layout(!0)}},{key:"destroy",value:function(){this._keys.destroy();for(var e=this._masonry.items.getAll(),t=0;t<e.length;t++){var n=e[t];n._layoutData=void 0,Pl(n,""),this._resetItem(n)}}},{key:"detach",value:function(e){e._layoutData.detached=!0}},{key:"reattach",value:function(e){var t=e._layoutData;t.detached=!1;var n=e.getBoundingClientRect();Fl(e,"none"),e.style.left="",e.style.top="",Pl(e,"");var i=e.getBoundingClientRect();t.left=n.left-i.left,t.top=n.top-i.top,Pl(e,"translate("+t.left+"px, "+t.top+"px)"),e.getBoundingClientRect(),Fl(e,"")}},{key:"itemAt",value:function(e,t){for(var n=this._masonry.items.getAll(),i=0;i<n.length;i++){var o=n[i],a=o._layoutData;if(a&&!a.ignored&&a.left<=e&&a.left+a.width>=e&&a.top<=t&&a.top+a.height>=t)return o}return null}}]),t}(Dl),ql=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_writeStyles",value:function(e){this._outerColumnWidth=this._columnWidth+this._horSpacing;var n=Hl(this._columns,e);this._offsetLeft+=(this._masonryAvailableWidth-n*this._outerColumnWidth)/2,Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_writeStyles",this).call(this,e)}},{key:"_getItemWidth",value:function(e){return this._columnWidth*e+this._horSpacing*(e-1)}},{key:"_getItemLeft",value:function(e){return this._offsetLeft+this._outerColumnWidth*e}}]),t}(jl),zl=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_writeStyles",value:function(e){var n=this._columns;if(this._alignLeft=Hl(n,e)<n.length,!this._alignLeft){var i=this._masonryInnerWidth-this._columnWidth*n.length;this._horSpacing=i/(n.length+1)}Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_writeStyles",this).call(this,e)}},{key:"_getItemWidth",value:function(e){return this._columnWidth*e+this._horSpacing*(e-1)}},{key:"_getItemLeft",value:function(e){return this._zeroOffsetLeft+this._columnWidth*e+this._horSpacing*(e+1)}}]),t}(jl),Ul=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_getItemWidth",value:function(e){return this._masonryAvailableWidth/this._columns.length*e-this._horSpacing}},{key:"_getItemLeft",value:function(e){return this._offsetLeft+this._masonryAvailableWidth*e/this._columns.length}}]),t}(jl),Vl=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_writeItemStyle",value:function(e){this._resetItem(e)}},{key:"_postLayout",value:function(e){for(var t=0;t<this._columns.length;t++)for(var n=this._columns[t],i=e+this._offsetTop,o=n.items.length-1;o>=0;o--){var a=n.items[o],r=a._layoutData;if(r.columnIndex===t){var s=i-r.top-this._verSpacing;a.style.height=s+"px"}i=r.top}}},{key:"_resetItem",value:function(e){e.style.height=""}}]),t}(Ul);Ml.registerLayout(Ml.layouts.FIXED_CENTERED,ql),Ml.registerLayout(Ml.layouts.FIXED_SPREAD,zl),Ml.registerLayout(Ml.layouts.VARIABLE,Ul),Ml.registerLayout(Ml.layouts.DASHBOARD,Vl),window.customElements.define("coral-masonry",Ml),window.customElements.define("coral-masonry-item",Tl),window.Coral=window.Coral||{},window.Coral.Masonry=Ml,window.Coral.Masonry.Item=Tl,window.Coral.Masonry.Layout=Dl;var Kl=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"add",value:function(e,t){if(this._container&&this._itemTagName)return e instanceof HTMLElement||(e=document.createElement(this._itemTagName).set(e)),t||(t=this.last())&&(t=t.nextElementSibling),this._container.insertBefore(e,t||this._container.firstChild),e}}]),t}(Rn),Zl="content"in document.createElement("template"),Wl=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._delegateEvents({"coral-dragaction:dragstart coral-multifield-item":"_onDragStart","coral-dragaction:drag coral-multifield-item":"_onDrag","coral-dragaction:dragend coral-multifield-item":"_onDragEnd","click [coral-multifield-add]":"_onAddItemClick","click .coral3-Multifield-remove":"_onRemoveItemClick"}),e.setAttribute("id",e.id||Yt.getUID()),e._elements={template:e.querySelector("#"+e.id+" > template[coral-multifield-template]")||document.createElement("template")},e._elements.template.setAttribute("coral-multifield-template",""),e._handleTemplateSupport(e._elements.template);var n=e;return n._observer=new MutationObserver(function(e){e.forEach(function(e){for(var t=0;t<e.addedNodes.length;t++){var i=e.addedNodes[t],o=n.template;o.contains(i)&&o!==i&&(o.content.appendChild(i),n.items.getAll().forEach(function(e){n._renderTemplate(e)}))}})}),n._observer.observe(n,{childList:!0,subtree:!0}),e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_handleTemplateSupport",value:function(e){if(!Zl&&!e.content){for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.content=t}}},{key:"_onAddItemClick",value:function(e){if(e.matchedTarget.closest("coral-multifield")===this){this.items.add(document.createElement("coral-multifield-item"));var t=this;window.requestAnimationFrame(function(){t.trigger("change")})}}},{key:"_onRemoveItemClick",value:function(e){if(e.matchedTarget.closest("coral-multifield")===this){var t=e.matchedTarget.closest("coral-multifield-item");t&&t.remove(),this.trigger("change")}}},{key:"_onDragStart",value:function(e){if(e.target.closest("coral-multifield")===this){var t=e.detail.dragElement,n=this.items.getAll(),i=n.indexOf(t);t.classList.add("is-dragging"),n.forEach(function(e,t){t<i?e.classList.add("is-before"):t>i&&e.classList.add("is-after")})}}},{key:"_onDrag",value:function(e){if(e.target.closest("coral-multifield")===this){var t=this.items.getAll(),n=0;t.length&&(n=parseFloat(window.getComputedStyle(t[0]).marginBottom)),t.forEach(function(i){if(!i.classList.contains("is-dragging")){var o=e.detail.dragElement,a=o.getBoundingClientRect(),r=i.getBoundingClientRect(),s=a.top,l=r.top,c=s<l,u=a.height+n+"px";if(i.classList.toggle("is-after",c),i.classList.toggle("is-before",!c),i.classList.contains("is-after")&&(i.style.top=t.indexOf(i)<t.indexOf(o)?u:""),i.classList.contains("is-before")){var d=t.indexOf(i)>t.indexOf(o);i.style.top=d?"-"+u:""}}})}}},{key:"_onDragEnd",value:function(e){if(e.target.closest("coral-multifield")===this){var t=e.detail.dragElement,n=this.items.getAll(),i=[],o=[];n.forEach(function(e){e.classList.contains("is-after")?o.push(e):e.classList.contains("is-before")&&i.push(e),e.classList.remove("is-dragging","is-after","is-before"),e.style.top="",e.style.position=""});var a=o.shift(),r=i.pop();a&&(this.insertBefore(t,a),this.trigger("change")),
r&&(this.insertBefore(t,r.nextElementSibling),this.trigger("change"))}}},{key:"_onItemAdded",value:function(e){e.parentNode===this&&this._renderTemplate(e)}},{key:"_renderTemplate",value:function(e){var t=e.content||e.querySelector("coral-multifield-item-content")||e;if(!t.firstChild){if(!Zl){var n=this.template.content.querySelectorAll("template[coral-multifield-template]");Array.prototype.forEach.call(n,function(e){for(;e.content.firstChild;)e.appendChild(e.content.firstChild)})}t.appendChild(document.importNode(this.template.content,!0))}}},{key:"connectedCallback",value:function(){var e=this;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Multifield"),this.setAttribute("role","list"),this.template=this._elements.template,this.items.getAll().forEach(function(t){e._renderTemplate(t)},this)}},{key:"items",get:function(){return this._items||(this._items=new Kl({host:this,itemTagName:"coral-multifield-item",itemSelector:":scope > coral-multifield-item",onItemAdded:this._onItemAdded})),this._items}},{key:"template",get:function(){return this._getContentZone(this._elements.template)},set:function(e){this._setContentZone("template",e,{handle:"template",tagName:"template",insert:function(e){this.appendChild(e)},set:function(e){this._handleTemplateSupport(e)}})}},{key:"_contentZones",get:function(){return{template:"template"}}}]),t}(Pn(HTMLElement)),Gl=function(e){var t=document.createDocumentFragment(),n=this.remove=document.createElement("button","coral-button");n.setAttribute("type","button"),n.setAttribute("is","coral-button"),n.setAttribute("handle","remove"),n.setAttribute("variant","quiet"),n.setAttribute("icon","delete"),n.setAttribute("iconsize","S"),n.className+=" coral3-Multifield-remove",t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.move=document.createElement("button","coral-button");return o.setAttribute("type","button"),o.setAttribute("is","coral-button"),o.setAttribute("handle","move"),o.setAttribute("variant","quiet"),o.setAttribute("icon","moveUpDown"),o.setAttribute("iconsize","S"),o.className+=" coral3-Multifield-move",t.appendChild(o),t},Xl=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-multifield-item-content")||document.createElement("coral-multifield-item-content")},Gl.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Multifield-item"),this.setAttribute("role","listitem");var e=document.createDocumentFragment(),n=["move","remove"];e.appendChild(this._elements.move),e.appendChild(this._elements.remove);var i=this._elements.content;for(i.parentNode&&this.removeChild(i);this.firstChild;){var o=this.firstChild;o.nodeType===Node.TEXT_NODE||o.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(o.getAttribute("handle"))?i.appendChild(o):this.removeChild(o)}this.appendChild(e),this.content=i;var a=new Gs(this);a.axis="vertical",a.handle=this._elements.move}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-multifield-item-content",insert:function(e){this.insertBefore(e,this.firstChild)}})}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-multifield-item-content":"content"}}}]),t}(Pn(HTMLElement)),Yl=function(){return document.createElement("coral-multifield-item-content")};window.customElements.define("coral-multifield",Wl),window.customElements.define("coral-multifield-item",Xl),window.Coral=window.Coral||{},window.Coral.Multifield=Wl,window.Coral.Multifield.Item=Xl,window.Coral.Multifield.Item.Content=Yl;var Ql={"en-US":{Decrement:"Decrement",Increment:"Increment"},"fr-FR":{Decrement:"Décrémenter",Increment:"Incrémenter"},"de-DE":{Decrement:"Reduzieren",Increment:"Erhöhen"},"it-IT":{Decrement:"Decrementare",Increment:"Incrementare"},"es-ES":{Decrement:"Reducir",Increment:"Aumentar"},"pt-BR":{Decrement:"Decrementar",Increment:"Incrementar"},"ja-JP":{Decrement:"減らす",Increment:"増やす"},"ko-KR":{Decrement:"감소",Increment:"증가"},"zh-CN":{Decrement:"减量",Increment:"增量"},"zh-TW":{Decrement:"減量",Increment:"增量"},"nl-NL":{Decrement:"Verlagen",Increment:"Verhogen"},"da-DK":{Decrement:"Reduktion",Increment:"Dataændring"},"fi-FI":{Decrement:"Vähennys",Increment:"Lisäys"},"nb-NO":{Decrement:"Reduser",Increment:"Øk"},"sv-SE":{Decrement:"Minskning",Increment:"Ökning"},"cs-CZ":{Decrement:"Odpočet",Increment:"Přírůstek"},"pl-PL":{Decrement:"Zmniejsz",Increment:"Zwiększ"},"ru-RU":{Decrement:"Снижение",Increment:"Прирост"},"tr-TR":{Decrement:"Azaltma",Increment:"Artırma"}},Jl=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e,n.uid=Coral.commons.getUID(),e=n;var i=document.createTextNode("\n");t.appendChild(i);var o=this.presentation=document.createElement("span");o.className+=" coral-InputGroup-button",o.setAttribute("role","presentation"),o.setAttribute("handle","presentation");var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.stepUp=document.createElement("button","coral-button");r.className+=" coral3-NumberInput-stepUp",r.setAttribute("type","button"),r.setAttribute("is","coral-button"),r.setAttribute("handle","stepUp"),r.setAttribute("title",Coral.i18n.get("Increment")),r.setAttribute("aria-label",Coral.i18n.get("Increment")),r.setAttribute("icon","chevronUp"),r.setAttribute("iconsize","XS"),r.setAttribute("tabindex","-1"),r.setAttribute("aria-controls",e.uid),o.appendChild(r);var s=document.createTextNode("\n  ");o.appendChild(s);var l=this.stepDown=document.createElement("button","coral-button");l.className+=" coral3-NumberInput-stepDown",l.setAttribute("type","button"),l.setAttribute("is","coral-button"),l.setAttribute("handle","stepDown"),l.setAttribute("title",Coral.i18n.get("Decrement")),l.setAttribute("aria-label",Coral.i18n.get("Decrement")),l.setAttribute("icon","chevronDown"),l.setAttribute("iconsize","XS"),l.setAttribute("tabindex","-1"),l.setAttribute("aria-controls",e.uid),o.appendChild(l);var c=document.createTextNode("\n  ");o.appendChild(c);var u=this.liveregion=document.createElement("span");u.setAttribute("role","presentation"),u.setAttribute("handle","liveregion"),u.setAttribute("aria-live","assertive"),u.setAttribute("aria-atomic","true"),u.setAttribute("aria-relevant","additions text"),u.className+=" u-coral-screenReaderOnly",u.setAttribute("aria-hidden","true"),o.appendChild(u);var d=document.createTextNode("\n");o.appendChild(d),t.appendChild(o);var h=document.createTextNode("\n");t.appendChild(h);var p=this.input=document.createElement("input","coral-textfield");p.setAttribute("is","coral-textfield"),p.setAttribute("handle","input"),p.setAttribute("type","number"),p.className+=" coral3-NumberInput-input coral-InputGroup-input",p.id=e.uid,p.setAttribute("step","1"),p.setAttribute("aria-valuenow",""),p.setAttribute("aria-valuetext",""),t.appendChild(p);var m=document.createTextNode("\n");return t.appendChild(m),t},$l=void 0,ec=!1,tc=!1,nc=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{"key:up":"_onKeyUp","key:pageup":"_onKeyUp","key:down":"_onKeyDown","key:pagedown":"_onKeyDown","key:home":"_onKeyHome","key:end":"_onKeyEnd","touchstart [handle=stepUp], [handle=stepDown]":"_onTouchStart","pointerdown [handle=stepUp], [handle=stepDown]":"_onTouchStart","MSPointerDown [handle=stepUp], [handle=stepUp]":"_onTouchStart","MSPointerDown [handle=stepDown], [handle=stepDown]":"_onTouchStart","click [handle=stepUp]":"_onStepUpButtonClick","click [handle=stepDown]":"_onStepDownButtonClick",'mousewheel [handle="input"]':"_onInputMouseWheel",'DOMMouseScroll [handle="input"]':"_onInputMouseWheel","capture:focus":"_onFocus","capture:blur":"_onBlur"})),e._elements={},Jl.call(e._elements),e._min=e._max=null,e}return Bt(t,e),Ft(t,[{key:"reset",value:function(){this._elements.input.reset()}},{key:"clear",value:function(){this._elements.input.clear()}},{key:"stepUp",value:function(){var e=this.valueAsNumber,t=this._getActualStep();if(isNaN(e))this.value=null!==this.max?Math.min(t,this.max):t;else{var n=dt("+",e,t);this.value=null!==this.max?Math.min(n,this.max):n}}},{key:"stepDown",value:function(){var e=this.valueAsNumber,t=this._getActualStep();if(isNaN(e))this.value=null!==this.min?Math.max(-t,this.min):-t;else{var n=dt("-",e,t);this.value=null!==this.min?Math.max(n,this.min):n}}},{key:"_getActualStep",value:function(){return"any"===this.step?1:this.step}},{key:"_validateInputValue",value:function(){this.invalid=""!==this.value&&(window.isNaN(Number(this.value))||null!==this.max&&this.value>this.max||null!==this.min&&this.value<this.min)}},{key:"_setButtonState",value:function(){this._elements.stepUp.disabled=this.disabled||null!==this.max&&this.value>=this.max||this.readOnly,this._elements.stepDown.disabled=this.disabled||null!==this.min&&this.value<=this.min||this.readOnly}},{key:"_triggerChange",value:function(e,t){e!==t&&this.trigger("change")}},{key:"_onTouchStart",value:function(e){("touchstart"===e.type||"mouse"!==e.pointerType&&4!==e.pointerType)&&(ec=!0)}},{key:"_setFocusToInput",value:function(){ec||document.activeElement===this._elements.input||this._elements.input.focus(),ec=!1}},{key:"_onStepUpButtonClick",value:function(e){e.preventDefault();var t=this.value;tc="click"===e.type,this._setFocusToInput(),this.stepUp(),this._validateInputValue(),this._triggerChange(this.value,t)}},{key:"_onStepDownButtonClick",value:function(e){e.preventDefault();var t=this.value;tc="click"===e.type,this._setFocusToInput(),this.stepDown(),this._validateInputValue(),this._triggerChange(this.value,t)}},{key:"_onKeyHome",value:function(e){if(e.preventDefault(),!this.disabled&&!this.readOnly){if(null!==this.max){var t=this.value;tc=!0,this.value=this.max,this._triggerChange(this.value,t)}this._setFocusToInput()}}},{key:"_onKeyEnd",value:function(e){if(e.preventDefault(),!this.disabled&&!this.readOnly){if(null!==this.min){var t=this.value;tc=!0,this.value=this.min,this._triggerChange(this.value,t)}this._setFocusToInput()}}},{key:"_onKeyUp",value:function(e){e.preventDefault(),this.disabled||this.readOnly||this._onStepUpButtonClick(e)}},{key:"_onKeyDown",value:function(e){e.preventDefault(),this.disabled||this.readOnly||this._onStepDownButtonClick(e)}},{key:"_onInputMouseWheel",value:function(e){if(!this.disabled&&!this.readOnly&&this._elements.input===document.activeElement){e.preventDefault();var t=this.value;Math.max(-1,Math.min(1,e.wheelDelta||-e.detail||e.deltaY))<0?this.stepDown():this.stepUp(),this._triggerChange(this.value,t)}}},{key:"_onInputChange",value:function(e){e.stopPropagation(),this._validateInputValue(),this.value=this.value,this.invalid=this.invalid,this.disabled=this.disabled,this.trigger("change")}},{key:"_onFocus",value:function(){this.classList.add("is-focused"),this._elements.input.classList.add("is-focused"),this._elements.liveregion.removeAttribute("role"),this._elements.liveregion.removeAttribute("aria-hidden")}},{key:"_onBlur",value:function(){this.classList.remove("is-focused"),this._elements.input.classList.remove("is-focused"),this._elements.liveregion.setAttribute("role","presentation"),this._elements.liveregion.setAttribute("aria-hidden",!0),this._clearLiveRegion()}},{key:"_getLabellableElement",value:function(){return this._elements.input}},{key:"_clearLiveRegion",value:function(){var e=this._elements.liveregion;e.firstChild&&e.removeChild(e.firstChild)}},{key:"_updateLiveRegion",value:function(e){var t=this,n=void 0;clearTimeout($l),this._clearLiveRegion(),e&&""!==e&&(n=document.createTextNode(e),window.requestAnimationFrame(function(){t._elements.liveregion.appendChild(n),$l=setTimeout(t._clearLiveRegion.bind(t),3e3)}))}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-NumberInput"),this.classList.add("coral-InputGroup"),this._step||(this.step=1),this.setAttribute("role","group"),"text"===this._elements.input.type&&this._elements.input.setAttribute("role","spinbutton"),this._elements.input.setAttribute("aria-valuenow",""),this._elements.input.setAttribute("aria-valuetext","");var e=document.createDocumentFragment(),n=["presentation","input"];for(e.appendChild(this._elements.presentation),e.appendChild(this._elements.input);this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(i.getAttribute("handle"))?e.appendChild(i):this.removeChild(i)}this.appendChild(e)}},{key:"value",get:function(){return this._elements.input.value},set:function(e){e=isNaN(e)?"":String(e),this._elements.input.value=e;var t=this.getAttribute("value");this._elements.input[t?"setAttribute":"removeAttribute"]("value",t),this._elements.input.setAttribute("aria-valuenow",this.value),this._elements.input.setAttribute("aria-valuetext",this.value),tc||window.chrome?this._updateLiveRegion(this.value):this._updateLiveRegion(),tc=!1,this.invalid=this.invalid,this.disabled=this.disabled}},{key:"valueAsNumber",get:function(){return this._valueAsNumber||An.float(this.value)||window.NaN},set:function(e){this._valueAsNumber=An.float(e),this.value=this._valueAsNumber,this.invalid=this.invalid,this.disabled=this.disabled}},{key:"min",get:function(){return this._min},set:function(e){e=An.number(e),this._min=isNaN(e)?null:e,null===this._min?(this._reflectAttribute("min",!1),this._elements.input.removeAttribute("aria-valuemin"),this._elements.input.removeAttribute("min")):(this._reflectAttribute("min",this._min),this._elements.input.setAttribute("aria-valuemin",this._min),this._elements.input.min=this._min),this.invalid=this.invalid,this.disabled=this.disabled}},{key:"max",get:function(){return this._max},set:function(e){e=An.number(e),this._max=isNaN(e)?null:e,null===this.max?(this._reflectAttribute("max",!1),this._elements.input.removeAttribute("aria-valuemax"),this._elements.input.removeAttribute("max")):(this._reflectAttribute("max",this._max),this._elements.input.setAttribute("aria-valuemax",this._max),this._elements.input.max=this._max),this.invalid=this.invalid,this.disabled=this.disabled}},{key:"step",get:function(){return this._step||1},set:function(e){null!==e&&(e>0||"any"===e)&&(this._step="any"===e?e:An.number(e),this._reflectAttribute("step",this._step),this._elements.input.step=this._step)}},{key:"name",get:function(){return this._elements.input.name},set:function(e){this._reflectAttribute("name",e),this._elements.input.name=e}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled,this._setButtonState()}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly),this._elements.input.readOnly=this._readOnly,this._setButtonState()}},{key:"invalid",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",e,this),this._elements.input.invalid=this._invalid}},{key:"labelledBy",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this),this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy)}},{key:"placeholder",get:function(){return this._elements.input.placeholder||""},set:function(e){e=An.string(e),this._reflectAttribute("placeholder",e),this._elements.input.placeholder=e}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["min","max","step","placeholder"])}}]),t}(yo(Pn(HTMLElement)));Yt.extend(en,{"coralui-component-numberinput":Ql}),window.customElements.define("coral-numberinput",nc),window.Coral=window.Coral||{},window.Coral.NumberInput=nc;var ic=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({"coral-panel:_selectedchanged":"_onItemSelectedChanged"}),e._oldSelection=null,e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation(),this._validateSelection(e.target)}},{key:"_validateSelection",value:function(e){var t=this,n=this.items._getAllSelected();e=e||n[n.length-1],e&&e.hasAttribute("selected")&&n.length>1&&(n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItem,t=this._oldSelection;this._preventTriggeringEvents||e===t||(this.trigger("coral-panelstack:change",{oldSelection:t,selection:e}),this._oldSelection=e)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-PanelStack"),this.setAttribute("role","presentation"),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-panel",itemSelector:":scope > coral-panel",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}}]),t}(Pn(HTMLElement)),oc=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-panel-content")||document.createElement("coral-panel-content")},e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Panel"),this.setAttribute("role","tabpanel");var e=this._elements.content;for(e.remove();this.firstChild;)e.appendChild(this.firstChild);this.content=e}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-panel-content",insert:function(e){this.appendChild(e)}})}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-selected",this._selected),this.setAttribute("aria-hidden",!this.selected),this.trigger("coral-panel:_selectedchanged")}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-panel-content":"content"}}}],[{key:"observedAttributes",get:function(){return["selected"]}}]),t}(Pn(HTMLElement)),ac=function(){return document.createElement("coral-panel-content")};window.customElements.define("coral-panelstack",ic),window.customElements.define("coral-panel",oc),window.Coral=window.Coral||{},window.Coral.PanelStack=ic,window.Coral.Panel=oc,window.Coral.Panel.Content=ac;var rc=function(e){var t=document.createDocumentFragment(),n=this.bar=document.createElement("div");n.setAttribute("handle","bar"),n.className+=" coral3-Progress-bar";var i=document.createTextNode("\n  ");n.appendChild(i);var o=this.status=document.createElement("div");o.className+=" coral3-Progress-status",o.setAttribute("handle","status"),n.appendChild(o);var a=document.createTextNode("\n");n.appendChild(a),t.appendChild(n);var r=document.createTextNode("\n");return t.appendChild(r),t},sc={SMALL:"S",MEDIUM:"M",LARGE:"L"},lc={LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},cc="coral3-Progress",uc={S:"small",M:"medium",L:"large"},dc=[];for(var hc in sc)dc.push(cc+"--"+uc[sc[hc]]);var pc=[];for(var mc in lc)pc.push(cc+"--"+lc[mc]+"Label");var _c=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={label:e.querySelector("coral-progress-label")||document.createElement("coral-progress-label")},rc.call(e._elements),e._observer=new MutationObserver(e._toggleLabelBasedOnContent.bind(e)),e._observer.observe(e._elements.label,{characterData:!0,childList:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_toggleLabelBasedOnContent",value:function(){this._elements.label.textContent.length>0?this._showLabel():this._hideLabel()}},{key:"_hideLabel",value:function(){var e;this._elements.label.hidden=!0,(e=this.classList).remove.apply(e,pc),this.classList.add(cc+"--noLabel"),this.removeAttribute("aria-valuetext")}},{key:"_showLabel",value:function(){this._elements.label.hidden=!1,this.classList.remove(cc+"--noLabel"),this.classList.add(cc+"--"+this.labelPosition+"Label"),!1===this.showPercent&&this.setAttribute("aria-valuetext",this.label.textContent)}},{key:"_setLabelContent",value:function(e){this._elements.label.textContent=e,!0===this.showPercent?this.removeAttribute("aria-valuetext"):this.setAttribute("aria-valuetext",this.label.textContent)}},{key:"attributeChangedCallback",value:function(e,n,i){"indeterminate"===e&&An.booleanAttr(i)&&(this._oldValue=this._value||0),Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attributeChangedCallback",this).call(this,e,n,i)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add(cc),this._value||(this.value=this.value),this._size||(this.size=sc.MEDIUM),this._labelPosition||(this.labelPosition=lc.RIGHT);var e=document.createDocumentFragment();e.appendChild(this._elements.bar);var n=this._elements.label;for(n.parentNode&&n.parentNode.removeChild(n);this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||"bar"!==i.getAttribute("handle")?n.appendChild(i):this.removeChild(i)}this.appendChild(e),this.label=n,this._toggleLabelBasedOnContent(),this.setAttribute("role","progressbar"),this.setAttribute("aria-valuenow","0"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100")}},{key:"value",get:function(){return this.indeterminate?0:this._value||0},set:function(e){e=An.number(e)||0,e>100?e=100:e<0&&(e=0),this._value=e,this._reflectAttribute("value",this._value),this._elements.status.style.width=this.value+"%",this.indeterminate||(this.setAttribute("aria-valuenow",this._value),!0===this.showPercent&&this._setLabelContent(this._value+"%")),this.trigger("coral-progress:change")}},{key:"indeterminate",get:function(){return this._indeterminate||!1},set:function(e){this._indeterminate=An.booleanAttr(e),this._reflectAttribute("indeterminate",this._indeterminate),this._indeterminate?(this.classList.add(cc+"--indeterminate"),this.removeAttribute("aria-valuenow"),this.removeAttribute("aria-valuemin"),this.removeAttribute("aria-valuemax"),this.value=0):(this.classList.remove(cc+"--indeterminate"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100"),this.value=this._oldValue)}},{key:"size",get:function(){return this._size||sc.MEDIUM},set:function(e){var t;e=An.string(e).toUpperCase(),this._size=En.enumeration(sc)(e)&&e||sc.MEDIUM,this._reflectAttribute("size",this._size),(t=this.classList).remove.apply(t,dc),this.classList.add(cc+"--"+uc[this._size])}},{key:"showPercent",get:function(){return this._showPercent||!1},set:function(e){if(this._showPercent=An.booleanAttr(e),this._reflectAttribute("showpercent",this._showPercent),this._showPercent){var t=this.indeterminate?"":this.value+"%";this._setLabelContent(t),this._showLabel()}else this.label.innerHTML=""}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:"coral-progress-label",insert:function(e){this.appendChild(e)}})}},{key:"labelPosition",get:function(){return this._labelPosition||lc.RIGHT},set:function(e){var t;e=An.string(e).toLowerCase(),this._labelPosition=En.enumeration(lc)(e)&&e||lc.RIGHT,this._reflectAttribute("labelposition",this._labelPosition),(t=this.classList).remove.apply(t,pc),this._elements.label.textContent.length>0&&this.classList.add(cc+"--"+this._labelPosition+"Label")}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-progress-label":"label"}}}],[{key:"labelPosition",get:function(){return lc}},{key:"size",get:function(){return sc}},{key:"observedAttributes",get:function(){return["value","indeterminate","size","showpercent","showPercent","labelposition","labelPosition"]}}]),t}(Pn(HTMLElement)),fc=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-Progress-label")}}]),t}(HTMLElement);window.customElements.define("coral-progress",_c),window.customElements.define("coral-progress-label",fc),window.Coral=window.Coral||{},window.Coral.Progress=_c,window.Coral.Progress.Label=fc;var vc={BUTTON:"button",ANCHOR:"anchor"},gc=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={},e._observer=new MutationObserver(e._onMutation.bind(e)),e._observer.observe(e,{characterData:!0,childList:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_onMutation",value:function(){this.trigger("coral-quickactions-item:_contentchanged")}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this._type||(this.type=vc.BUTTON)}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}},{key:"href",get:function(){return this._href||""},set:function(e){this._href=An.string(e),this._reflectAttribute("href",this._href),this.trigger("coral-quickactions-item:_hrefchanged")}},{key:"icon",get:function(){return this._icon||""},set:function(e){this._icon=An.string(e),this._reflectAttribute("icon",this._icon),this.trigger("coral-quickactions-item:_iconchanged")}},{key:"type",get:function(){return this._type||vc.BUTTON},set:function(e){e=An.string(e).toLowerCase(),this._type=En.enumeration(vc)(e)&&e||vc.BUTTON,this._reflectAttribute("type",this._type),this.trigger("coral-quickactions-item:_typechanged")}}],[{key:"type",get:function(){return vc}},{key:"observedAttributes",get:function(){return["href","icon","type"]}}]),t}(Pn(HTMLElement)),bc=function(e){var t=document.createDocumentFragment(),n=this.moreButton=document.createElement("button","coral-button");n.className+=" coral3-QuickActions-button",n.setAttribute("is","coral-button"),n.setAttribute("type","button"),n.setAttribute("icon","more"),n.setAttribute("iconsize","S"),n.setAttribute("handle","moreButton"),n.setAttribute("title",Coral.i18n.get("More actions")),n.setAttribute("role","menuitem"),n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-label",Coral.i18n.get("More actions")),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.overlay=document.createElement("coral-overlay");o.className+=" coral3-QuickActions-overlay",o.setAttribute("offset","5"),o.setAttribute("placement","bottom"),o.setAttribute("handle","overlay");var a=document.createTextNode("\n  ");o.appendChild(a);var r=this.buttonList=document.createElement("coral-buttonlist");r.id=Coral.commons.getUID(),r.className+=" coral3-QuickActions-buttonList",r.setAttribute("handle","buttonList"),r.setAttribute("tabindex","-1"),o.appendChild(r);var s=document.createTextNode("\n");o.appendChild(s),t.appendChild(o);var l=document.createTextNode("\n");return t.appendChild(l),t},yc={ON:"on",OFF:"off"},Cc={PARENT:"_parent",PREVIOUS:"_prev",NEXT:"_next"},kc={TOP:"top",CENTER:"center",BOTTOM:"bottom"},Ac=10,wc=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._overlayAnimationTime=Fi.FADETIME,e._alignMy=Fi.align.CENTER_TOP,e._alignAt=Fi.align.CENTER_TOP,e._lengthOffset=Ac,e._inner=!0,e._target=Cc.PREVIOUS,e._placement=kc.TOP,e._openedBefore=!1,e._delegateEvents({"global:resize":"_onWindowResize",mouseout:"_onMouseOut","capture:blur":"_onBlur","global:click":"_onGlobalClick","global:key:escape":"_onEscapeKeypress","key:home > .coral3-QuickActions-button":"_onHomeKeypress","key:end > .coral3-QuickActions-button":"_onEndKeypress","key:pagedown > .coral3-QuickActions-button":"_onButtonKeypressNext","key:right > .coral3-QuickActions-button":"_onButtonKeypressNext","key:down > .coral3-QuickActions-button":"_onButtonKeypressNext","key:pageup > .coral3-QuickActions-button":"_onButtonKeypressPrevious","key:left > .coral3-QuickActions-button":"_onButtonKeypressPrevious","key:up > .coral3-QuickActions-button":"_onButtonKeypressPrevious",'click > .coral3-QuickActions-button:not([handle="moreButton"])':"_onButtonClick","coral-overlay:beforeopen":"_onOverlayBeforeOpen","coral-overlay:beforeclose":"_onOverlayBeforeClose","coral-overlay:open":"_onOverlayOpen","coral-overlay:close":"_onOverlayClose","coral-overlay:positioned":"_onOverlayPositioned","click [coral-list-item]":"_onButtonListItemClick","coral-quickactions-item:_contentchanged":"_onItemChange","coral-quickactions-item:_iconchanged":"_onItemChange","coral-quickactions-item:_hrefchanged":"_onItemChange","coral-quickactions-item:_typechanged":"_onItemTypeChange"}),e._onTargetMouseEnter=e._onTargetMouseEnter.bind(e),e._onTargetKeyUp=e._onTargetKeyUp.bind(e),e._onTargetMouseLeave=e._onTargetMouseLeave.bind(e),bc.call(e._elements),e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_getTarget",value:function(e){if((e=e||this.target)instanceof Node)return e;var n=null;return"string"==typeof e&&(n=e===Cc.PARENT?this.parentNode:Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getTarget",this).call(this,e)),n}},{key:"_addTargetEventListeners",value:function(e){(e=e||this._getTarget())&&this.interaction===yc.ON&&(e.addEventListener("mouseenter",this._onTargetMouseEnter),e.addEventListener("keyup",this._onTargetKeyUp),e.addEventListener("keydown",this._onTargetKeyDown),e.addEventListener("mouseleave",this._onTargetMouseLeave))}},{key:"_removeTargetEventListeners",value:function(e){(e=e||this._getTarget())&&(e.removeEventListener("mouseenter",this._onTargetMouseEnter),e.removeEventListener("keyup",this._onTargetKeyUp),e.removeEventListener("keydown",this._onTargetKeyDown),e.removeEventListener("mouseleave",this._onTargetMouseLeave))}},{key:"_toggleTabbable",value:function(e,t){e&&(t?e.hasAttribute("tabIndex")&&e.removeAttribute("tabIndex"):e.setAttribute("tabIndex","-1"))}},{key:"_getFocusableNeighbour",value:function(e,t){var n=Array.prototype.slice.call(this._getFocusableButtons()),i=n.indexOf(e);if(i>=0)if(t){if(0!==i)return n[i-1]}else if(i<n.length-1)return n[i+1]}},{key:"_getButtons",value:function(e){var t=".coral3-QuickActions-button"
;return t=e?t+':not([handle="moreButton"])':t,this.querySelectorAll(t)}},{key:"_getFocusableButtons",value:function(){return this.querySelectorAll(".coral3-QuickActions-button:not([disabled]):not([hidden])")}},{key:"_getFirstFocusableButton",value:function(){return this.querySelector(".coral3-QuickActions-button:not([disabled]):not([hidden])")}},{key:"_proxyClick",value:function(e){e.trigger("click").defaultPrevented||this.interaction!==yc.ON||this.hide()}},{key:"_getItemData",value:function(e){return{htmlContent:e.innerHTML,textContent:e.textContent,icon:e.getAttribute("icon")||""}}},{key:"_attachItem",value:function(e,t){if(e._elements&&e._elements.button)return void this._updateItem(e);void 0===t&&(t=Array.prototype.indexOf.call(this.items.getAll(),e));var n=this._getItemData(e),i=gc.type,o=void 0;e.type===i.BUTTON?o=(new pi).set({icon:n.icon,iconsize:Qn.size.SMALL,type:"button"},!0):e.type===i.ANCHOR&&(o=(new fo).set({icon:n.icon,iconsize:Qn.size.SMALL,href:e.href},!0)),o.classList.add("coral3-QuickActions-button"),o.setAttribute("tabindex","-1"),o.setAttribute("title",n.textContent.trim()),o.setAttribute("aria-label",n.textContent.trim()),o.setAttribute("role","menuitem"),this.insertBefore(o,this.children[t]||null);var a=void 0;e.type===i.BUTTON?a=new Zo.Item:e.type===i.ANCHOR&&(a=new Vo.Item,a.href=e.href);var r=this._elements.buttonList;r.insertBefore(a,r.children[t]),a.tabIndex=-1,a.content.innerHTML=n.htmlContent,a.icon=n.icon,e._elements.button=o,e._elements.buttonListItem=a,a._elements.quickActionsItem=e,o._elements.quickActionsItem=e}},{key:"_layout",value:function(){this._setWidth();var e=this._getButtons(!0);if(e.length){var t=this._elements.buttonList.items.getAll(),n=this.style.display,i=!1;this.open||(this.style.left-=1e4,this.style.top-=1e4,this.style.display="block",i=!0);for(var o=this.offsetWidth-10,a=window.getComputedStyle(e[0],null).getPropertyValue("min-width"),r=Math.round(parseFloat(a,10)),s=r+10,l=0,c=0;o>c;)c+=s,o>c&&l++;var u=this.threshold>0,d=u&&e.length>this.threshold,h=e.length>l||d,p=h&&u&&this.threshold+1<l,m=void 0;m=h?p?this.threshold+1:l:e.length;for(var _=0;_<e.length;_++)this._toggleTabbable(e[_],!1),e[_].hidden=!1,t[_]&&(t[_].hidden=!1);if(this._toggleTabbable(this._elements.moreButton,!1),h){if(m>0){for(var f=m-1;f<e.length;f++)e[f].hide();for(var v=0;v<m-1;v++)t[v].hide();this._toggleTabbable(e[0],!0)}else this._toggleTabbable(this._elements.moreButton,!0);this._elements.moreButton.show()}else this._toggleTabbable(e[0],!0),this._elements.moreButton.hide();var g=m*s,b=Math.round((o-g)/2);this.style.paddingLeft=b+"px",i&&(this.style.left+=1e4,this.style.top+=1e4,this.style.display=n),this.reposition()}}},{key:"_setWidth",value:function(){var e=this._getTarget();e&&(this.style.width=e.offsetWidth+"px")}},{key:"_setButtonListHeight",value:function(){this._elements.buttonList.style.height="";var e=window.getComputedStyle(this._elements.buttonList),t=parseInt(e.height,10);t<parseInt(e.maxHeight,10)&&(this._elements.buttonList.style.height=t-1+"px")}},{key:"_isInternalToComponent",value:function(e){var t=this._getTarget();return e&&(this.contains(e)||t&&t.contains(e))}},{key:"_onWindowResize",value:function(){this._layout()}},{key:"_onMouseOut",value:function(e){var t=e.toElement||e.relatedTarget;this._isInternalToComponent(t)||this.interaction!==yc.ON||this.hide()}},{key:"_onBlur",value:function(e){var t=e.toElement||e.relatedTarget;if(this.interaction===yc.ON)if(t)this._isInternalToComponent(t)||this.hide();else{var n=this;window.requestAnimationFrame(function(){t=document.activeElement,n._isInternalToComponent(t)||n.hide()})}}},{key:"_onTargetMouseEnter",value:function(e){var t=e.fromElement||e.relatedTarget;this.open||this._isInternalToComponent(t)||this.show()}},{key:"_onTargetKeyUp",value:function(e){var t=e.keyCode;(e.shiftKey&&121===t||e.ctrlKey&&32===t)&&(this.open||(this.interaction===yc.ON&&(this._previousTrapFocus=this.trapFocus,this._previousReturnFocus=this.returnFocus,this.trapFocus=this.constructor.trapFocus.ON,this.returnFocus=this.constructor.returnFocus.ON),this.show()))}},{key:"_onTargetKeyDown",value:function(e){var t=e.keyCode;(e.shiftKey&&121===t||e.ctrlKey&&32===t)&&e.preventDefault()}},{key:"_onTargetMouseLeave",value:function(e){var t=e.toElement||e.relatedTarget;this._isInternalToComponent(t)||this.hide()}},{key:"_onEscapeKeypress",value:function(){this.interaction===yc.ON&&(this._elements.overlay.open&&this._elements.overlay._isTopOverlay()?this._elements.overlay.hide():this.open&&this._isTopOverlay()&&this.hide())}},{key:"_onHomeKeypress",value:function(e){e.preventDefault();var t=this._getFirstFocusableButton();t&&t.focus()}},{key:"_onEndKeypress",value:function(e){e.preventDefault();var t=this._getFocusableButtons(),n=t[t.length-1];n&&n.focus()}},{key:"_onButtonKeypressNext",value:function(e){e.preventDefault();var t=this._getFocusableNeighbour(e.matchedTarget);t&&t.focus()}},{key:"_onButtonKeypressPrevious",value:function(e){e.preventDefault();var t=this._getFocusableNeighbour(e.matchedTarget,!0);t&&t.focus()}},{key:"_onButtonClick",value:function(e){if(e.stopPropagation(),!this._preventClick){var t=e.matchedTarget,n=t._elements.quickActionsItem;this._proxyClick(n);var i=this;window.setTimeout(function(){i._preventClick=!1},this._overlayAnimationTime),this._preventClick=!0}}},{key:"_onGlobalClick",value:function(e){if(this._elements.moreButton.contains(e.target))this._elements.overlay.open=!this._elements.overlay.open;else{this._elements.overlay.contains(e.target)||(this._elements.overlay.open=!1)}}},{key:"_onOverlayBeforeOpen",value:function(e){e.target===this?(this._preventClick=!1,this._layout()):e.target===this._elements.overlay&&(e.stopImmediatePropagation(),this._setButtonListHeight())}},{key:"_onOverlayBeforeClose",value:function(e){e.target===this._elements.overlay&&e.stopImmediatePropagation()}},{key:"_onOverlayOpen",value:function(e){if(e.target===this._elements.overlay){e.stopImmediatePropagation();var t=this;window.requestAnimationFrame(function(){var e=t._elements.buttonList.items.getAll().filter(function(e){return!e.hasAttribute("hidden")&&!e.hasAttribute("disabled")});e.length>0&&e[0].focus()})}}},{key:"_onOverlayClose",value:function(e){if(e.target===this){this._elements.overlay.open=!1;var t=this;window.requestAnimationFrame(function(){t._previousTrapFocus&&(t.trapFocus=t._previousTrapFocus,t._previousTrapFocus=void 0),t._previousReturnFocus&&(t.returnFocus=t._previousReturnFocus,t._previousReturnFocus=void 0)})}else e.target===this._elements.overlay&&e.stopImmediatePropagation()}},{key:"_onOverlayPositioned",value:function(e){e.target===this._elements.overlay&&e.stopImmediatePropagation()}},{key:"_onButtonListItemClick",value:function(e){e.stopImmediatePropagation();var t=e.matchedTarget;if(t){var n=t._elements.quickActionsItem;this._proxyClick(n)}}},{key:"_onItemRemoved",value:function(e){this._removeItemElements(e)}},{key:"_onCollectionChange",value:function(e){if(this._openedBefore){for(var t=this.items.getAll(),n=void 0,i=0,o=e.length;i<o;i++)n=Array.prototype.indexOf.call(t,e[i]),this._attachItem(e[i],n);this._layout()}}},{key:"_onItemChange",value:function(e){e.stopImmediatePropagation(),this._updateItem(e.target)}},{key:"_onItemTypeChange",value:function(e){e.stopImmediatePropagation();var t=e.target;this._removeItemElements(t),this._attachItem(t),this._layout()}},{key:"_removeItemElements",value:function(e){e._elements.button&&(e._elements.button.remove(),e._elements.button._elements.quickActionsItem=void 0,e._elements.button=void 0),e._elements.buttonListItem&&(e._elements.buttonListItem.remove(),e._elements.buttonListItem._elements.quickActionsItem=null,e._elements.buttonListItem=void 0)}},{key:"_updateItem",value:function(e){var t=this._getItemData(e),n=gc.type,i=e._elements.button;i&&(i.icon=t.icon,i.setAttribute("title",t.textContent.trim()),i.setAttribute("aria-label",t.textContent.trim()),i[e.type===n.ANCHOR?"setAttribute":"removeAttribute"]("href",e.href));var o=e._elements.buttonListItem;o&&(o.content.innerHTML=t.htmlContent,o[e.type===n.ANCHOR?"setAttribute":"removeAttribute"]("href",e.href),o.icon=t.icon)}},{key:"_toggleCenterPlacement",value:function(e){e?this.placement===kc.CENTER&&(this._placement=Fi.placement.RIGHT):this._placement===Fi.placement.RIGHT&&(this._placement=kc.CENTER)}},{key:"reposition",value:function(){this._toggleCenterPlacement(!0),Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reposition",this).call(this),this._toggleCenterPlacement(!1)}},{key:"focus",value:function(){if(this.open&&!this.contains(document.activeElement)){var e=this._getFirstFocusableButton();e&&e.focus()}}},{key:"connectedCallback",value:function(){var e=this;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.style.maxWidth="none",this.classList.add("coral3-QuickActions"),this.setAttribute("tabIndex","-1"),this.setAttribute("role","menu"),["moreButton","overlay"].forEach(function(t){var n=e.querySelector('[handle="'+t+'"]');n&&n.remove()},this),this.insertBefore(this._elements.overlay,this.firstChild),this.appendChild(this._elements.moreButton),this._elements.overlay.target=this._elements.moreButton}},{key:"items",get:function(){return this._items||(this._items=new Rn({host:this,itemTagName:"coral-quickactions-item",onItemRemoved:this._onItemRemoved,onCollectionChange:this._onCollectionChange})),this._items}},{key:"threshold",get:function(){return"number"==typeof this._threshold?this._threshold:4},set:function(e){this._threshold=An.number(e),this._reflectAttribute("threshold",this._threshold)}},{key:"placement",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"placement",this)},set:function(e){e=An.string(e).toLowerCase(),this._placement=En.enumeration(kc)&&e||kc.TOP,this.reposition()}},{key:"interaction",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"interaction",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"interaction",e,this),this.interaction===yc.ON?this._addTargetEventListeners():this._removeTargetEventListeners()}},{key:"target",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"target",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"target",e,this);var n=this._getTarget(e),i=n!==this._previousTarget;if(n&&i){if(this._previousTarget){var o=this._getTarget(this._previousTarget);o&&(this._removeTargetEventListeners(o),n.removeAttribute("aria-haspopup"),n.removeAttribute("aria-owns"))}this._addTargetEventListeners(),n.setAttribute("aria-haspopup","true");var a=n.getAttribute("aria-owns");a=a&&a.length?a.trim()+"  "+this.id:this.id,n.setAttribute("aria-owns",a),this._previousTarget=n}}},{key:"open",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",e,this);var n=this;window.requestAnimationFrame(function(){if(n.open&&!n._openedBefore){for(var e=n.items.getAll(),t=0,i=e.length;t<i;t++)n._attachItem(e[t],t);n._openedBefore=!0}n.open&&(n._layout(),n.style.visibility="visible",n.focus());var o=n._getTarget();o&&o.classList.toggle("is-selected",n.open)})}}],[{key:"placement",get:function(){return kc}},{key:"target",get:function(){return Cc}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["threshold"])}}]),t}(Fi),Ec={"en-US":{"More actions":"More actions"},"fr-FR":{"More actions":"Autres actions"},"de-DE":{"More actions":"Weitere Aktionen"},"it-IT":{"More actions":"Altre azioni"},"es-ES":{"More actions":"Más acciones"},"pt-BR":{"More actions":"Mais ações"},"ja-JP":{"More actions":"その他のアクション"},"ko-KR":{"More actions":"추가 작업"},"zh-CN":{"More actions":"更多操作"},"zh-TW":{"More actions":"更多動作"},"nl-NL":{"More actions":"Meer acties"},"da-DK":{"More actions":"Flere handlinger"},"fi-FI":{"More actions":"Lisää toimintoja"},"nb-NO":{"More actions":"Flere handlinger"},"sv-SE":{"More actions":"Fler åtgärder"},"cs-CZ":{"More actions":"Další akce"},"pl-PL":{"More actions":"Więcej czynności"},"ru-RU":{"More actions":"Другие действия"},"tr-TR":{"More actions":"Daha fazla işlem"}};Yt.extend(en,{"coralui-component-quickactions":Ec}),window.customElements.define("coral-quickactions",wc),window.customElements.define("coral-quickactions-item",gc),window.Coral=window.Coral||{},window.Coral.QuickActions=wc,window.Coral.QuickActions.Item=gc;var Tc=function(e){var t=document.createDocumentFragment(),n=this.input=document.createElement("input");n.setAttribute("type","radio"),n.setAttribute("handle","input"),n.className+=" coral3-Radio-input",n.id=Coral.commons.getUID(),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.checkmark=document.createElement("span");o.className+=" coral3-Radio-checkmark",o.setAttribute("handle","checkmark"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.labelWrapper=document.createElement("label");r.className+=" coral3-Radio-description",r.setAttribute("handle","labelWrapper"),r.setAttribute("for",this.input.id),r.setAttribute("hidden",""),t.appendChild(r);var s=document.createTextNode("\n");return t.appendChild(s),t},Sc=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{click:"_onClick",mousedown:"_onMouseDown"})),e._elements={label:e.querySelector("coral-radio-label")||document.createElement("coral-radio-label")},Tc.call(e._elements),e._observer=new MutationObserver(e._hideLabelIfEmpty.bind(e)),e._observer.observe(e._elements.labelWrapper,{childList:!0,characterData:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_syncRelatedRadios",value:function(){if(null!==this.parentNode&&this.name&&this.checked)for(var e=document.querySelectorAll(this.tagName+"[name="+JSON.stringify(this.name)+"]"),t=e.length,n=0;n<t;n++)e[n]!==this&&e[n].removeAttribute("checked")}},{key:"_hideLabelIfEmpty",value:function(){var e=this.label,t=0===e.children.length&&""===e.textContent.replace(/\s*/g,"");t!==this._elements.labelWrapper.hidden&&(this._elements.labelWrapper.hidden=t)}},{key:"_onClick",value:function(e){e.target!==this||this.checked||(this.checked=!0,this.trigger("change"))}},{key:"_onMouseDown",value:function(){var e=this._elements.input;requestAnimationFrame(function(){e!==document.activeElement&&e.focus()})}},{key:"clear",value:function(){this.checked=!1}},{key:"reset",value:function(){this.checked=this._initialCheckedState}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Radio");var e=document.createDocumentFragment(),n=["input","checkmark","labelWrapper"];e.appendChild(this._elements.input),e.appendChild(this._elements.checkmark),e.appendChild(this._elements.labelWrapper);var i=this._elements.label;for(i&&i.parentNode&&i.parentNode.removeChild(i),this._elements.labelWrapper.hidden=!0;this.firstChild;){var o=this.firstChild;o.nodeType===Node.TEXT_NODE||o.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(o.getAttribute("handle"))?i.appendChild(o):this.removeChild(o)}this.appendChild(e),this.label=i,this._initialCheckedState=this.checked,this._syncRelatedRadios(),this._hideLabelIfEmpty()}},{key:"checked",get:function(){return this._checked||!1},set:function(e){this._checked=An.booleanAttr(e),this._reflectAttribute("checked",this._checked),this._elements.input.checked=this._checked,this._syncRelatedRadios()}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:"coral-radio-label",insert:function(e){this._elements.labelWrapper.appendChild(e)}})}},{key:"name",get:function(){return this._elements.input.name},set:function(e){this._reflectAttribute("name",e),this._elements.input.name=e}},{key:"value",get:function(){return this._elements.input.value||"on"},set:function(e){this._elements.input.value=e}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly)}},{key:"_componentTargetProperty",get:function(){return"checked"}},{key:"_eventTargetProperty",get:function(){return"checked"}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-radio-label":"label"}}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["checked"])}}]),t}(yo(Pn(HTMLElement))),xc=function(){return document.createElement("coral-radio-label")};window.customElements.define("coral-radio",Sc),window.Coral=window.Coral||{},window.Coral.Radio=Sc,window.Coral.Radio.Label=xc;var Lc={"en-US":{"Search for Help":"Search for Help","Searching Help…":"Searching Help…","Error fetching results":"Error fetching results","No results found":"No results found","See all {0} results":"See all {0} results"},"fr-FR":{"Search for Help":"Rechercher de l’aide","Searching Help…":"Recherche dans l’aide…","Error fetching results":"Erreur lors de la récupération des résultats","No results found":"Aucun résultat trouvé","See all {0} results":"Voir les {0} résultats"},"de-DE":{"Search for Help":"Nach Hilfe suchen","Searching Help…":"Suche nach Hilfe …","Error fetching results":"Fehler beim Abruf von Ergebnissen","No results found":"Keine Ergebnisse gefunden","See all {0} results":"Alle {0} Ergebnisse anzeigen"},"it-IT":{"Search for Help":"Cerca informazioni nell'Aiuto","Searching Help…":"Ricerca aiuto…","Error fetching results":"Errore durante il recupero dei risultati","No results found":"Nessun risultato trovato","See all {0} results":"Visualizza tutti i {0} risultati"},"es-ES":{"Search for Help":"Buscar ayuda","Searching Help…":"Buscando ayuda…","Error fetching results":"Error al obtener los resultados","No results found":"No se han encontrado resultados","See all {0} results":"Ver los {0} resultados"},"pt-BR":{"Search for Help":"Procurar nas seções de Ajuda","Searching Help…":"Procurando ajuda…","Error fetching results":"Erro ao obter resultados","No results found":"Nenhum resultado encontrado","See all {0} results":"Ver todos os resultados de {0}"},"ja-JP":{"Search for Help":"ヘルプを検索","Searching Help…":"ヘルプを検索中…","Error fetching results":"結果を取得中にエラーが発生しました","No results found":"結果が見つかりませんでした","See all {0} results":"すべての {0} 結果を確認"},"ko-KR":{"Search for Help":"도움말 검색","Searching Help…":"도움말 검색 중…","Error fetching results":"결과를 가져오는 중 오류 발생","No results found":"결과를 찾을 수 없습니다","See all {0} results":"총 {0}개 결과 보기"},"zh-CN":{"Search for Help":"搜索帮助","Searching Help…":"正在搜索帮助…","Error fetching results":"获取结果时出错","No results found":"找不到任何结果","See all {0} results":"查看全部 {0} 个结果"},"zh-TW":{"Search for Help":"搜尋說明","Searching Help…":"正在搜尋說明…","Error fetching results":"擷取結果時發生錯誤","No results found":"找不到結果","See all {0} results":"查看全部 {0} 個結果"},"nl-NL":{"Search for Help":"Zoeken naar hulp","Searching Help…":"Hulp zoeken…","Error fetching results":"Fout bij ophalen resultaten","No results found":"Geen resultaten gevonden","See all {0} results":"Alle {0} resultaten bekijken"},"da-DK":{"Search for Help":"Søg efter Hjælp...","Searching Help…":"Søger i Hjælp...","Error fetching results":"Fejl ved hentning af resultater","No results found":"Ingen resultater fundet","See all {0} results":"Se alle {0} resultater"},"fi-FI":{"Search for Help":"Hae ohjeita","Searching Help…":"Haun ohje…","Error fetching results":"Tuloksia haettaessa tapahtui virhe.","No results found":"Tuloksia ei löytynyt.","See all {0} results":"Näytä kaikki {0} tulosta"},"nb-NO":{"Search for Help":"Søk etter hjelp","Searching Help…":"Søker i Hjelp …","Error fetching results":"Kan ikke hente resultater","No results found":"Finner ingen resultater","See all {0} results":"Vis alle de {0} resultatene"},"sv-SE":{"Search for Help":"Sök efter hjälp","Searching Help…":"Sökhjälp…","Error fetching results":"Det gick inte att hämta resultat","No results found":"Inga resultat funna","See all {0} results":"Se alla {0} resultat"},"cs-CZ":{"Search for Help":"Vyhledat nápovědu","Searching Help…":"Nápověda hledání…","Error fetching results":"Při shromažďování výsledků došlo k chybě","No results found":"Nebyly nalezeny žádné výsledky","See all {0} results":"Zobrazit všechny výsledky: {0}"},"pl-PL":{"Search for Help":"Szukaj pomocy","Searching Help…":"Trwa przeszukiwanie Pomocy...","Error fetching results":"Błąd pobierania wyników","No results found":"Nie znaleziono żadnych wyników","See all {0} results":"Zobacz wszystkie {0} wyników"},"ru-RU":{"Search for Help":"Поиск справки","Searching Help…":"Поиск по справке…","Error fetching results":"Ошибка получения результатов","No results found":"Результаты не найдены","See all {0} results":"Посмотреть все результаты ({0})"},"tr-TR":{"Search for Help":"Yardım Ara","Searching Help…":"Yardım Aranıyor...","Error fetching results":"Sonuçlar alınırken hata oluştu","No results found":"Sonuç bulunamadı","See all {0} results":"Tüm {0} sonuçlarını gör"}},Oc={"en-US":{"Search Organizations":"Search Organizations","No organizations found&period;":"No organizations found."},"fr-FR":{"Search Organizations":"Rechercher des organisations","No organizations found&period;":"Aucune organisation trouvée."},"de-DE":{"Search Organizations":"Organisationen durchsuchen","No organizations found&period;":"Keine Organisationen gefunden."},"it-IT":{"Search Organizations":"Cerca organizzazioni","No organizations found&period;":"Nessuna organizzazione trovata."},"es-ES":{"Search Organizations":"Buscar organizaciones","No organizations found&period;":"No se ha encontrado ninguna organización."},"pt-BR":{"Search Organizations":"Procurar organizações","No organizations found&period;":"Nenhuma organização encontrada."},"ja-JP":{"Search Organizations":"組織を検索","No organizations found&period;":"組織が見つかりませんでした。"},"ko-KR":{"Search Organizations":"조직 검색","No organizations found&period;":"조직을 찾을 수 없습니다."},"zh-CN":{"Search Organizations":"搜索组织","No organizations found&period;":"找不到任何组织。"},"zh-TW":{"Search Organizations":"搜尋組織","No organizations found&period;":"找不到組織。"},"nl-NL":{"Search Organizations":"Organisaties zoeken","No organizations found&period;":"Geen organisaties gevonden."},"da-DK":{"Search Organizations":"Søg i virksomheder","No organizations found&period;":"Ingen virksomheder fundet."},"fi-FI":{"Search Organizations":"Hae organisaatioita","No organizations found&period;":"Organisaatioita ei löytynyt."},"nb-NO":{"Search Organizations":"Søk etter organisasjoner","No organizations found&period;":"Finner ingen organisasjoner."},"sv-SE":{"Search Organizations":"Sökorganisationer","No organizations found&period;":"Inga organisationer funna."},"cs-CZ":{"Search Organizations":"Hledat ve společnostech","No organizations found&period;":"Nebyly nalezeny žádné společnosti."},"pl-PL":{"Search Organizations":"Wyszukaj organizacje","No organizations found&period;":"Nie znaleziono żadnych organizacji."},"ru-RU":{"Search Organizations":"Искать организации","No organizations found&period;":"Организации не найдены."},"tr-TR":{"Search Organizations":"Kuruluşları ara","No organizations found&period;":"Kuruluş bulunamadı."}},Ic=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-shell-content")||document.createElement("coral-shell-content")},e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell");var e=this._elements.content;if(!e.parentNode)for(;this.firstChild;)e.appendChild(this.firstChild);this.content=e}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-shell-content",insert:function(e){this.appendChild(e)}})}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-shell-content":"content"}}}]),t}(Pn(HTMLElement)),Nc=function(){return document.createElement("coral-shell-content")},Mc=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={home:e.querySelector("coral-shell-header-home")||document.createElement("coral-shell-header-home"),actions:e.querySelector("coral-shell-header-actions")||document.createElement("coral-shell-header-actions"),content:e.querySelector("coral-shell-header-content")||document.createElement("coral-shell-header-content")},e._delegateEvents({"global:coral-overlay:beforeopen":"_handleMenuBeforeOpenOrClose","global:coral-overlay:beforeclose":"_handleMenuBeforeOpenOrClose"}),e}return Bt(t,e),Ft(t,[{key:"_handleMenuBeforeOpenOrClose",value:function(e){var t=e.target;if("CORAL-SHELL-MENU"===t.tagName){var n=this;window.requestAnimationFrame(function(){n.style.zIndex=parseInt(t.style.zIndex,10)+100})}}},{key:"_enableHomeAccessibility",value:function(e){e.setAttribute("role","heading"),e.setAttribute("aria-level","2")}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell-header"),this.classList.add("coral--dark");var e=this._elements.home,n=this._elements.actions,i=this._elements.content;for(e.parentNode&&e.remove(),n.parentNode&&n.remove(),i.parentNode&&i.remove();this.firstChild;)i.appendChild(this.firstChild);this.home=e,this.actions=n,this.content=i}},{key:"home",get:function(){return this._getContentZone(this._elements.home)},set:function(e){this._setContentZone("home",e,{handle:"home",tagName:"coral-shell-header-home",insert:function(e){this._enableHomeAccessibility(e),this.appendChild(e)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-shell-header-content",insert:function(e){this.appendChild(e)}})}},{key:"actions",get:function(){return this._getContentZone(this._elements.actions)},set:function(e){this._setContentZone("actions",e,{handle:"actions",tagName:"coral-shell-header-actions",insert:function(e){this.appendChild(e)}})}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-shell-header-home":"home","coral-shell-header-content":"content","coral-shell-header-actions":"actions"}}}]),t}(Pn(HTMLElement)),Dc=function(e){var t=document.createDocumentFragment(),n=this.icon=document.createElement("coral-icon");n.setAttribute("handle","icon"),n.className+=" coral3-Shell-homeAnchor-icon",n.setAttribute("size","M"),t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},Pc=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={label:e.querySelector("coral-shell-homeanchor-label")||document.createElement("coral-shell-homeanchor-label")},Dc.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell-homeAnchor");var e=document.createDocumentFragment(),n=this._elements.label;for(n.parentNode&&this.removeChild(n);this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE?n.appendChild(i):"CORAL-ICON"===i.nodeName?e.childNodes.length?this.removeChild(i):(this._elements.icon=i,e.appendChild(i)):this.removeChild(i)}this.appendChild(e),this.label=n}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:"coral-shell-homeanchor-label",insert:function(e){this.appendChild(e)}})}},{key:"icon",get:function(){return this._elements.icon.icon},set:function(e){this._elements.icon.icon=e,""===this.icon?this._elements.icon.remove():this.contains(this._elements.icon)||this.insertBefore(this._elements.icon,this.firstChild)}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-shell-homeanchor-label":"label"}}}],[{key:"observedAttributes",get:function(){return["icon"]}}]),t}(Pn(HTMLAnchorElement)),Fc=function(){return document.createElement("coral-shell-homeanchor-label")},Hc={"it-IT":{"Clear search":"Azzera ricerca"},"ja-JP":{"Clear search":"検索をクリア"},"es-ES":{"Clear search":"Borrar búsqueda"},"ko-KR":{"Clear search":"검색 지우기"},"zh-CN":{"Clear search":"清除搜索"},"zh-TW":{"Clear search":"清除搜尋"},"pt-BR":{"Clear search":"Limpar busca"},"nl-NL":{"Clear search":"Zoekopdracht wissen"},"en-US":{"Clear search":"Clear search"},"de-DE":{"Clear search":"Suche löschen"},"fr-FR":{"Clear search":"Effacer la recherche"},"da-DK":{"Clear search":"Slet søgning"},"fi-FI":{"Clear search":"Tyhjennä haku"},"nb-NO":{"Clear search":"Fjern søk"},"sv-SE":{"Clear search":"Rensa sökningen"},"cs-CZ":{"Clear search":"Vymazat hledání"},"pl-PL":{"Clear search":"Wyczyść wyniki wyszukiwania"},"ru-RU":{"Clear search":"Очистить поиск"},"tr-TR":{"Clear search":"Aramayı temizle"}},Bc=function(e){var t=document.createDocumentFragment(),n=this.icon=document.createElement("coral-icon");n.className+=" coral-DecoratedTextfield-icon",n.setAttribute("size","S"),n.setAttribute("handle","icon"),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.input=document.createElement("input","coral-textfield");o.setAttribute("type","text"),o.className+=" coral-DecoratedTextfield-input coral3-Search-input",o.setAttribute("is","coral-textfield"),o.setAttribute("handle","input"),t.appendChild(o);var a=document.createTextNode("\n");t.appendChild(a);var r=this.clearButton=document.createElement("button","coral-button");return r.setAttribute("type","button"),r.setAttribute("aria-label",Coral.i18n.get("Clear search")),r.setAttribute("is","coral-button"),r.setAttribute("variant","minimal"),r.setAttribute("icon","close"),r.setAttribute("iconsize","XS"),r.className+=" coral-DecoratedTextfield-button",r.setAttribute("handle","clearButton"),t.appendChild(r),t},Rc={DEFAULT:"default",QUIET:"quiet"},jc=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{"keydown [handle=input]":"_onEnterKey","keyup [handle=input]":"_onKeyUp","input [handle=input]":"_triggerInputEvent","key:escape [handle=input]":"_clearInput","click [handle=clearButton]:not(:disabled)":"_clearInput"})),e._elements={},Bc.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"_triggerInputEvent",value:function(){this.trigger("coral-search:input")}},{key:"_onEnterKey",value:function(e){if(13===e.which){if(e.preventDefault(),this.disabled)return;this.trigger("coral-search:submit")}}},{key:"_onKeyUp",value:function(){this._updateClearButton()}},{key:"_updateClearButton",value:function(){
""===this._elements.input.value?this._elements.clearButton.style.display="none":this._elements.clearButton.style.display=""}},{key:"_clearInput",value:function(){this._elements.input.value="",this._updateClearButton(),this._elements.input.focus(),this.trigger("coral-search:clear")}},{key:"_getLabellableElement",value:function(){return this._elements.input}},{key:"reset",value:function(){this._elements.input.reset()}},{key:"clear",value:function(){this._elements.input.clear()}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Search"),this.classList.add("coral-DecoratedTextfield"),this._icon||(this.icon="search"),this._variant||(this.variant=Rc.DEFAULT);var e=document.createDocumentFragment(),n=["icon","input","clearButton"];for(e.appendChild(this._elements.icon),e.appendChild(this._elements.input),e.appendChild(this._elements.clearButton);this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(i.getAttribute("handle"))?e.appendChild(i):this.removeChild(i)}this.appendChild(e),this._updateClearButton()}},{key:"name",get:function(){return this._elements.input.name},set:function(e){this._reflectAttribute("name",e),this._elements.input.name=e}},{key:"value",get:function(){return this._elements.input.value||"on"},set:function(e){this._elements.input.value=e}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled,this._elements.clearButton.disabled=this._disabled}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly),this._elements.input.readOnly=this._readOnly,this._elements.clearButton.disabled=this._readOnly}},{key:"invalid",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"invalid",e,this),this._elements.input.invalid=this._invalid}},{key:"labelledBy",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"labelledBy",e,this),this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy)}},{key:"placeholder",get:function(){return this._elements.input.placeholder||""},set:function(e){e=An.string(e),this._reflectAttribute("placeholder",e),this._elements.input.placeholder=e}},{key:"maxLength",get:function(){return this._elements.input.maxLength},set:function(e){this._elements.input.maxLength=e,this._reflectAttribute("maxlength",this.maxLength)}},{key:"icon",get:function(){return this._elements.icon.icon||"search"},set:function(e){this._elements.icon.icon=e,this._elements.icon.icon&&this._reflectAttribute("icon",this._elements.icon.icon),this._elements.icon.hidden=!this._elements.icon.icon}},{key:"variant",get:function(){return this._variant||Rc.DEFAULT},set:function(e){e=An.string(e).toLowerCase(),this._variant=En.enumeration(Rc)(e)&&e||Rc.DEFAULT,this._reflectAttribute("variant",this._variant),this._elements.input.variant=e}}],[{key:"variant",get:function(){return Rc}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["placeholder","icon","variant","maxlength","maxLength"])}}]),t}(yo(Pn(HTMLElement)));Yt.extend(en,{"coralui-component-search":Hc}),window.customElements.define("coral-search",jc),window.Coral=window.Coral||{},window.Coral.Search=jc;var qc=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e;var i=Coral.commons.getUID();e=n;var o=document.createTextNode("\n");t.appendChild(o);var a=this.contentWrapper=document.createElement("div");a.setAttribute("handle","contentWrapper");var r=document.createTextNode("\n  ");a.appendChild(r);var s=document.createElement("label");s.className+=" u-coral-screenReaderOnly",s.id=i,s.textContent=Coral.i18n.get("Search for Help"),a.appendChild(s);var l=document.createTextNode("\n  ");a.appendChild(l);var c=this.search=document.createElement("coral-search");c.className+=" coral3-Shell-help-search",c.setAttribute("handle","search"),c.setAttribute("placeholder",Coral.i18n.get("Search for Help")),c.setAttribute("labelledby",i),a.appendChild(c);var u=document.createTextNode("\n  ");a.appendChild(u);var d=this.items=document.createElement("div");d.className+=" coral3-Shell-help-items",d.setAttribute("handle","items"),a.appendChild(d);var h=document.createTextNode("\n  ");a.appendChild(h);var p=this.results=document.createElement("coral-anchorlist");p.className+=" coral3-Shell-help-results",p.setAttribute("handle","results"),p.setAttribute("hidden",""),a.appendChild(p);var m=document.createTextNode("\n  ");a.appendChild(m);var _=this.resultMessage=document.createElement("div");_.className+=" coral3-Shell-help-resultMessage",_.setAttribute("handle","resultMessage"),_.setAttribute("hidden",""),a.appendChild(_);var f=document.createTextNode("\n  ");a.appendChild(f);var v=this.loading=document.createElement("div");v.className+=" coral3-Shell-help-loading",v.setAttribute("handle","loading"),v.setAttribute("hidden","");var g=document.createTextNode("\n    ");v.appendChild(g);var b=document.createElement("coral-wait");b.setAttribute("size","S"),b.className+=" coral3-Shell-help-loading-wait",v.appendChild(b);var y=document.createTextNode("\n    ");v.appendChild(y);var C=document.createElement("span");C.className+=" coral-Heading--2 coral3-Shell-help-loading-info",C.textContent=Coral.i18n.get("Searching Help…"),v.appendChild(C);var k=document.createTextNode("\n  ");v.appendChild(k),a.appendChild(v);var A=document.createTextNode("\n");a.appendChild(A),t.appendChild(a);var w=document.createTextNode("\n");return t.appendChild(w),t},zc=function(e){var t=document.createDocumentFragment(),n=document.createElement("coral-list-item-content"),i=document.createTextNode(e.title+"\n  ");n.appendChild(i);var o=document.createElement("div");o.className+=" coral3-Shell-help-result-description",o.textContent=e.description,n.appendChild(o);var a=document.createTextNode("\n");n.appendChild(a),t.appendChild(n);var r=document.createTextNode("\n");return t.appendChild(r),t},Uc=function(e){var t=document.createElement("div");t.className+=" coral3-Shell-help-resultMessage-container";var n=document.createTextNode("\n  ");t.appendChild(n);var i=document.createElement("div");i.className+=" coral-Heading--1 coral3-Shell-help-resultMessage-heading",i.textContent=Coral.i18n.get("Error fetching results"),t.appendChild(i);var o=document.createTextNode("\n");return t.appendChild(o),t},Vc=function(e){var t=document.createElement("div");t.className+=" coral3-Shell-help-resultMessage-container";var n=document.createTextNode("\n  ");t.appendChild(n);var i=document.createElement("div");i.className+=" coral-Heading--1 coral3-Shell-help-resultMessage-heading",i.textContent=Coral.i18n.get("No results found"),t.appendChild(i);var o=document.createTextNode("\n");return t.appendChild(o),t},Kc=["coral3-BasicList","coral3-AnchorList","coral3-Shell-help"],Zc=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={},qc.call(e._elements),e._delegateEvents({"coral-search:clear":"_showItems","coral-search:submit":"_performSearch"}),e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_moveItems",value:function(){var e=this;this.setAttribute("id",this.id||Yt.getUID()),Array.prototype.forEach.call(this.querySelectorAll("#"+this.id+' > a[is="coral-shell-help-item"]'),function(t){e._elements.items.appendChild(t)},this)}},{key:"_performSearch",value:function(e){e.stopPropagation(),this._elements.items.hidden=!0,this._elements.loading.hidden=!1,this._elements.resultMessage.hidden=!0,this._elements.results.hidden=!0;var t=this._elements.search.value;this.trigger("coral-shell-help:search",{value:t})}},{key:"_showItems",value:function(e){e.stopPropagation(),this._elements.results.hidden=!0,this._elements.loading.hidden=!0,this._elements.resultMessage.hidden=!0,this._elements.items.hidden=!1}},{key:"showError",value:function(){this._elements.loading.hidden=!0,this._elements.resultMessage.innerHTML="",this._elements.resultMessage.appendChild(Uc.call(this._elements)),this._elements.resultMessage.hidden=!1}},{key:"showResults",value:function(e,t,n){var i=this;if(this._elements.loading.hidden=!0,e&&0!==t){if(this._elements.results.innerHTML="",e.forEach(function(e){var t=e.tags.join(" & "),n=(new Ko).set({href:e.href,target:e.target});n.content=zc.call(i._elements,{title:e.title,description:t}).firstElementChild,i._elements.results.appendChild(n)},this),this._elements.results.hidden=!1,t>1){var o=(new Ko).set({href:n,content:{innerHTML:an.get("See all {0} results",t)},target:"_blank"});o.classList.add("coral-Link","coral3-Shell-help-allResults"),this._elements.results.appendChild(o)}}else this._elements.resultMessage.innerHTML="",this._elements.resultMessage.appendChild(Vc.call(this._elements)),this._elements.resultMessage.hidden=!1}},{key:"connectedCallback",value:function(){var e,n=this;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),(e=this.classList).add.apply(e,Kc),this._moveItems();var i=this.querySelector('[handle="contentWrapper"]');i?(this._elements.contentWrapper=i,["search","result","items","results","resultMessage","loading"].forEach(function(e){n._elements[e]=n.querySelector('[handle="'+e+'"]')},this),this._items._container=this._elements.items):this.appendChild(this._elements.contentWrapper)}},{key:"items",get:function(){return this._items||(this._items=new Rn({host:this,itemTagName:"coral-shell-help-item",itemBaseTagName:"a",container:this._elements.items})),this._items}},{key:"placeholder",get:function(){return this._elements.search.placeholder},set:function(e){this._elements.search.placeholder=e}}],[{key:"observedAttributes",get:function(){return["placeholder"]}}]),t}(Pn(HTMLElement)),Wc=["coral3-BasicList-item","coral3-AnchorList-item","coral3-Shell-help-item"],Gc=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){var e;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),(e=this.classList).add.apply(e,Wc)}}]),t}(Ko),Xc="coral3-Shell-menu",Yc={RIGHT:"right",TOP:"top"},Qc=[];for(var Jc in Yc)Qc.push(Xc+"--"+Yc[Jc]);var $c={RIGHT:"right",TOP:"top"},eu=[];for(var tu in $c)eu.push(Xc+"--"+$c[tu]);var nu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._focusOnShow=e.constructor.focusOnShow.ON,e._returnFocus=e.constructor.returnFocus.ON,e._overlayAnimationTime=e.constructor.FADETIME,e._delegateEvents({"click [coral-close]":"_handleCloseClick","global:key:escape":"_handleGlobalEscape","global:capture:click":"_handleGlobalClick"}),e}return Bt(t,e),Ft(t,[{key:"_handleGlobalEscape",value:function(){this.open&&this._isTopOverlay()&&(this.open=!1)}},{key:"_handleCloseClick",value:function(e){var t=e.matchedTarget,n=t.getAttribute("coral-close");n&&!this.matches(n)||(this.hide(),e.stopPropagation())}},{key:"_handleGlobalClick",value:function(e){var t=e.target,n=t.closest("coral-shell-menubar-item");n&&this===n._getMenu()||this.open&&!this.contains(t)&&this.hide()}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add(Xc),this._placement||(this.placement=Yc.RIGHT),this._from||(this.from=$c.TOP)}},{key:"placement",get:function(){return this._placement||Yc.RIGHT},set:function(e){var t;e=An.string(e).toLowerCase(),this._placement=En.enumeration(Yc)(e)&&e||Yc.RIGHT,this._reflectAttribute("placement",this._placement),(t=this.classList).remove.apply(t,Qc),this.classList.add(Xc+"--placement-"+this._placement)}},{key:"from",get:function(){return this._from||$c.TOP},set:function(e){var t;e=An.string(e).toLowerCase(),this._from=En.enumeration($c)(e)&&e||$c.TOP,this._reflectAttribute("from",this._from),(t=this.classList).remove.apply(t,eu),this.classList.add(Xc+"--from-"+this._from)}},{key:"full",get:function(){return this._full||!1},set:function(e){this._full=An.booleanAttr(e),this._reflectAttribute("full",this._full),this.classList.toggle(Xc+"--full",this._full)}},{key:"top",get:function(){return this._top||!1},set:function(e){this._top=An.booleanAttr(e),this._reflectAttribute("top",this._top)}},{key:"open",get:function(){return Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this)},set:function(e){jt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",e,this),this.top&&(this.style.zIndex=parseInt(this.style.zIndex,10)+20)}}],[{key:"placement",get:function(){return Yc}},{key:"from",get:function(){return $c}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["placement","from","full","top"])}}]),t}(Si(Pn(HTMLElement))),iu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell-menubar")}},{key:"items",get:function(){return this._items||(this._items=new Rn({host:this,itemTagName:"coral-shell-menubar-item"})),this._items}}]),t}(Pn(HTMLElement)),ou=function(e){var t=this.shellMenuButton=document.createElement("button","coral-button");t.setAttribute("is","coral-button"),t.setAttribute("variant","minimal"),t.setAttribute("iconsize","S"),t.className+=" coral3-Shell-menu-button",t.setAttribute("handle","shellMenuButton");var n=document.createTextNode("\n  ");t.appendChild(n);var i=this.shellMenuButtonLabel=document.createElement("coral-button-label");i.setAttribute("handle","shellMenuButtonLabel"),t.appendChild(i);var o=document.createTextNode("\n");return t.appendChild(o),t},au={DEFAULT:"default",CIRCLE:"circle"},ru="coral3-Shell-menubar-item",su=[];for(var lu in au)su.push(ru+"--"+au[lu]);var cu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={},ou.call(e._elements),e._delegateEvents({'click [handle="shellMenuButton"]':"_handleButtonClick","global:coral-overlay:close":"_handleOverlayEvent","global:coral-overlay:open":"_handleOverlayEvent"}),e}return Bt(t,e),Ft(t,[{key:"_handleOverlayEvent",value:function(e){var t=e.target;t===this._getMenu()&&this.open!==t.open&&(this.open=t.open)}},{key:"_handleButtonClick",value:function(){this.open=!this.open}},{key:"_getMenu",value:function(e){if((e=e||this.menu)instanceof Node)return e;var t=null;return"string"==typeof e&&(t=document.querySelector(e)),t}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add(ru);var e=this.querySelector(".coral3-Shell-menu-button");if(e)this._elements.shellMenuButton=e,this._elements.shellMenuButtonLabel=this.querySelector("coral-button-label");else{for(;this.firstChild;)this._elements.shellMenuButtonLabel.appendChild(this.firstChild);this.appendChild(this._elements.shellMenuButton)}this.label=this._elements.shellMenuButtonLabel}},{key:"icon",get:function(){return this._elements.shellMenuButton.icon},set:function(e){this._elements.shellMenuButton.icon=e}},{key:"iconSize",get:function(){return this._elements.shellMenuButton.iconSize},set:function(e){this._elements.shellMenuButton.iconSize=e}},{key:"iconVariant",get:function(){return this._iconVariant||au.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._iconVariant=En.enumeration(au)(e)&&e||au.DEFAULT,(t=this.classList).remove.apply(t,su),this.variant!==au.DEFAULT&&this.classList.add(ru+"--"+this._iconVariant)}},{key:"badge",get:function(){return this._elements.shellMenuButton.getAttribute("badge")||""},set:function(e){this._elements.shellMenuButton[e&&"0"!==e?"setAttribute":"removeAttribute"]("badge",e)}},{key:"open",get:function(){return this._open||!1},set:function(e){var t=this._getMenu();null!==t&&(this._open=An.booleanAttr(e),this._reflectAttribute("open",this._open),t.open!==this._open&&(t.open=this._open),this.trigger("coral-shell-menubar-item:"+(this._open?"open":"close")))}},{key:"label",get:function(){return this._getContentZone(this._elements.shellMenuButtonLabel)},set:function(e){this._setContentZone("label",e,{handle:"shellMenuButtonLabel",tagName:"coral-button-label",insert:function(e){this._elements.shellMenuButton.label=e}})}},{key:"menu",get:function(){return this._menu||null},set:function(e){this._menu=e instanceof HTMLElement?e:String(e)}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-button-label":"label"}}}],[{key:"iconVariant",get:function(){return au}},{key:"observedAttributes",get:function(){return["icon","iconsize","iconSize","iconvariant","iconVariant","badge","open","menu"]}}]),t}(Pn(HTMLElement)),uu=function(e){var t=document.createDocumentFragment(),n=this.container=document.createElement("div");n.className+=" coral3-Shell-user-container",n.setAttribute("handle","container");var i=document.createTextNode("\n  ");n.appendChild(i);var o=this.image=document.createElement("div");o.className+=" coral3-Shell-user-image",o.setAttribute("handle","image");var a=document.createTextNode("\n    ");o.appendChild(a);var r=this.avatar=document.createElement("coral-icon");r.setAttribute("icon","user"),r.className+=" coral3-Shell-user-avatar",r.setAttribute("size","L"),r.setAttribute("handle","avatar"),o.appendChild(r);var s=document.createTextNode("\n  ");o.appendChild(s),n.appendChild(o);var l=document.createTextNode("\n");n.appendChild(l),t.appendChild(n);var c=document.createTextNode("\n");return t.appendChild(c),t},du={DEFAULT:"user"},hu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={name:e.querySelector("coral-shell-user-name")||document.createElement("coral-shell-user-name"),heading:e.querySelector("coral-shell-user-heading")||document.createElement("coral-shell-user-heading"),subheading:e.querySelector("coral-shell-user-subheading")||document.createElement("coral-shell-user-subheading"),content:e.querySelector("coral-shell-user-content")||document.createElement("coral-shell-user-content"),footer:e.querySelector("coral-shell-user-footer")||document.createElement("coral-shell-user-footer")},uu.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell-user");var e=document.createDocumentFragment();e.appendChild(this._elements.container);for(var n in this._contentZones){var i=this._elements[this._contentZones[n]];i.parentNode&&i.parentNode.removeChild(i)}for(;this.firstChild;){var o=this.firstChild;o.nodeType===Node.TEXT_NODE||o.nodeType===Node.ELEMENT_NODE&&"container"!==o.getAttribute("handle")?this._elements.content.appendChild(o):this.removeChild(o)}this.appendChild(e);for(var a in this._contentZones){var r=this._contentZones[a],s=this._elements[this._contentZones[a]];this[r]=s}}},{key:"avatar",get:function(){return this._elements.avatar.icon},set:function(e){this._elements.avatar.icon=e}},{key:"name",get:function(){return this._getContentZone(this._elements.name)},set:function(e){this._setContentZone("content",e,{handle:"name",tagName:"coral-shell-user-name",insert:function(e){this._elements.container.appendChild(e)}})}},{key:"heading",get:function(){return this._getContentZone(this._elements.heading)},set:function(e){this._setContentZone("heading",e,{handle:"heading",tagName:"coral-shell-user-heading",insert:function(e){this._elements.container.appendChild(e)}})}},{key:"subheading",get:function(){return this._getContentZone(this._elements.subheading)},set:function(e){this._setContentZone("subheading",e,{handle:"subheading",tagName:"coral-shell-user-subheading",insert:function(e){this._elements.container.appendChild(e)}})}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-shell-user-content",insert:function(e){this.appendChild(e)}})}},{key:"footer",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("footer",e,{handle:"footer",tagName:"coral-shell-user-footer",insert:function(e){this.appendChild(e)}})}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-shell-user-name":"name","coral-shell-user-heading":"heading","coral-shell-user-subheading":"subheading","coral-shell-user-content":"content","coral-shell-user-footer":"footer"}}}],[{key:"observedAttributes",get:function(){return["avatar"]}},{key:"avatar",get:function(){return du}}]),t}(Pn(HTMLElement)),pu=function(){return document.createElement("coral-shell-user-content")},mu=function(){return document.createElement("coral-shell-user-footer")},_u=function(){return document.createElement("coral-shell-user-heading")},fu=function(){return document.createElement("coral-shell-user-name")},vu=function(){return document.createElement("coral-shell-user-subheading")},gu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({'key:down [is="coral-shell-workspace"]':"_focusNextItem",'key:right [is="coral-shell-workspace"]':"_focusNextItem",'key:left [is="coral-shell-workspace"]':"_focusPreviousItem",'key:up [is="coral-shell-workspace"]':"_focusPreviousItem",'key:pageup [is="coral-shell-workspace"]':"_focusPreviousItem",'key:pagedown [is="coral-shell-workspace"]':"_focusNextItem",'key:home [is="coral-shell-workspace"]':"_focusFirstItem",'key:end [is="coral-shell-workspace"]':"_focusLastItem","coral-shell-workspace:_selectedchanged":"_onItemSelectedChanged"}),e._oldSelection=null,e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_validateSelection",value:function(e){var t=this.items._getAllSelected(),n=t.length;if(0===n){var i=this.items._getFirstSelectable();i&&i.setAttribute("selected","")}else if(n>1){e=e||t[t.length-1];for(var o=0;o<n;o++)t[o]!==e&&(this._preventTriggeringEvents=!0,t[o].removeAttribute("selected"));this._preventTriggeringEvents=!1}this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItem,t=this._oldSelection;this._preventTriggeringEvents||e===t||(this.trigger("coral-shell-workspaces:change",{oldSelection:t,selection:e}),this._oldSelection=e)}},{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation();var t=e.target;this._validateSelection(t)}},{key:"_eventIsAtTarget",value:function(e){var t=e.target,n=e.matchedTarget,i=t===n;return i&&(e.preventDefault(),e.stopPropagation()),i}},{key:"_focusNextItem",value:function(e){if(this._eventIsAtTarget(e)){var t=e.matchedTarget;t.nextElementSibling?t.nextElementSibling.focus():this.items.first().focus()}}},{key:"_focusPreviousItem",value:function(e){if(this._eventIsAtTarget(e)){var t=e.matchedTarget;t.previousElementSibling?t.previousElementSibling.focus():this.items.last().focus()}}},{key:"_focusFirstItem",value:function(e){this._eventIsAtTarget(e)&&this.items.first().focus()}},{key:"_focusLastItem",value:function(e){this._eventIsAtTarget(e)&&this.items.last().focus()}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell-workspaces"),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-shell-workspace",itemBaseTagName:"a",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}}]),t}(Pn(HTMLElement)),bu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({click:"_onClick"}),e}return Bt(t,e),Ft(t,[{key:"_onClick",value:function(){this.selected||(this.selected=!0)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell-workspaces-workspace")}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.setAttribute("aria-selected",this._selected),this.classList.toggle("is-selected",this._selected),this.trigger("coral-shell-workspace:_selectedchanged")}}],[{key:"observedAttributes",get:function(){return["selected"]}}]),t}(Pn(HTMLAnchorElement)),yu=function(e){var t=document.createDocumentFragment(),n=this.container=document.createElement("div");n.setAttribute("handle","container"),n.className+=" coral3-Shell-solutions-container",t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},Cu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._elements={},yu.call(e._elements);var n=e;return new MutationObserver(function(e){e.forEach(function(e){for(var t=0;t<e.addedNodes.length;t++){var i=e.addedNodes[t];"CORAL-SHELL-SOLUTIONS"!==i.nodeName||i.hasAttribute("secondary")||n._elements.container.appendChild(i)}})}).observe(e,{childList:!0}),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell-solutionSwitcher"),this.classList.add("coral--dark");var e=this.querySelector(".coral3-Shell-solutions-container")||this._elements.container;e.parentNode&&e.remove(),Array.prototype.forEach.call(this.querySelectorAll("coral-shell-solutions:not([secondary])"),function(t){e.appendChild(t)}),this.insertBefore(e,this.firstChild)}},{key:"items",get:function(){return this._items||(this._items=new Rn({host:this,itemTagName:"coral-shell-solutions"})),this._items}}]),t}(Pn(HTMLElement)),ku=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell-solutions")}},{key:"items",get:function(){return this._items||(this._items=new Rn({host:this,itemTagName:"coral-shell-solution",itemBaseTagName:"a"})),this._items}},{key:"secondary",get:function(){return this._secondary||!1},set:function(e){this._secondary=An.booleanAttr(e),this._reflectAttribute("secondary",this._secondary),this.classList.toggle("coral3-Shell-solutions--secondary",this._secondary)}}],[{key:"observedAttributes",get:function(){return["secondary"]}}]),t}(Pn(HTMLElement)),Au=function(e){var t=document.createDocumentFragment(),n=this.icon=document.createElement("coral-icon");n.setAttribute("size","L"),n.setAttribute("handle","icon"),n.className+=" coral3-Shell-solution-icon",t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},wu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={label:e.querySelector("coral-shell-solution-label")||document.createElement("coral-shell-solution-label")},Au.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Shell-solution");var e=document.createDocumentFragment();e.appendChild(this._elements.icon);var n=this._elements.label;for(n&&n.remove();this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE&&"icon"!==i.getAttribute("handle")?n.appendChild(i):this.removeChild(i)}this.appendChild(e),this.label=n}},{key:"icon",get:function(){return this._elements.icon.icon},set:function(e){this._elements.icon.icon=e}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:"coral-shell-solution-label",insert:function(e){this.appendChild(e)}})}},{key:"linked",get:function(){return this._linked||!1},set:function(e){this._linked=An.booleanAttr(e),this._reflectAttribute("linked",this._linked),this.classList.toggle("coral3-Shell-solution--linked",this._linked)}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-shell-solution-label":"label"}}}],[{key:"observedAttributes",get:function(){return["icon","linked"]}}]),t}(Pn(HTMLAnchorElement)),Eu=function(){return document.createElement("coral-shell-solution-label")},Tu=function(e){var t=document.createDocumentFragment(),n=e=void 0===e?{}:e;n=e;var i=Coral.commons.getUID();e=n;var o=document.createTextNode("\n");t.appendChild(o);var a=this.container=document.createElement("div");a.setAttribute("handle","container");var r=document.createTextNode("\n  ");a.appendChild(r);var s=document.createElement("label");s.className+=" u-coral-screenReaderOnly",s.id=i,s.textContent=Coral.i18n.get("Search Organizations"),a.appendChild(s);var l=document.createTextNode("\n  ");a.appendChild(l);var c=this.search=document.createElement("coral-search");c.className+=" coral3-Shell-orgSwitcher-search",c.setAttribute("variant","quiet"),c.setAttribute("handle","search"),c.setAttribute("placeholder",Coral.i18n.get("Search Organizations")),c.setAttribute("labelledby",i),a.appendChild(c);var u=document.createTextNode("\n  ");a.appendChild(u);var d=this.items=document.createElement("div");d.className+=" coral3-Shell-orgSwitcher-items",d.setAttribute("handle","items"),a.appendChild(d);var h=document.createTextNode("\n  ");a.appendChild(h);var p=this.resultMessage=document.createElement("div");p.className+=" coral3-Shell-orgSwitcher-resultMessage",p.setAttribute("handle","resultMessage"),p.setAttribute("hidden","");var m=document.createTextNode("\n    ");p.appendChild(m);var _=document.createElement("div");_.className+=" coral3-Shell-orgSwitcher-resultMessage-container";var f=document.createTextNode("\n      ");_.appendChild(f);var v=document.createElement("div");v.className+=" coral-Heading--1 coral3-Shell-orgSwitcher-resultMessage-heading",v.textContent=Coral.i18n.get("No organizations found."),_.appendChild(v);var g=document.createTextNode("\n    ");_.appendChild(g),p.appendChild(_);var b=document.createTextNode("\n  ");p.appendChild(b),a.appendChild(p);var y=document.createTextNode("\n");a.appendChild(y),t.appendChild(a);var C=document.createTextNode("\n");return t.appendChild(C),t
},Su=["coral3-BasicList","coral3-Shell-orgSwitcher"],xu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({"coral-search:clear":"_showAll","coral-search:input":"_performSearch","coral-search:submit":"_selectFirst","coral-shell-organization:change":"_onOrganizationChange","coral-shell-organization:_selectedchanged":"_onItemSelectedChanged","coral-shell-suborganization:_selectedchanged":"_onSubItemSelectedChanged"}),e._elements={footer:e.querySelector("coral-shell-orgswitcher-footer")||document.createElement("coral-shell-orgswitcher-footer")},Tu.call(e._elements),e._oldSelection=null,e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation();var t=e.target;this._validateSelection(t)}},{key:"_onSubItemSelectedChanged",value:function(e){var t=this;e.stopImmediatePropagation(),e.target.hasAttribute("selected")&&(this.items._getAllSelected().forEach(function(e){"CORAL-SHELL-ORGANIZATION"===e.tagName&&(t._preventTriggeringEvents=!0,e.removeAttribute("selected"))}),this._preventTriggeringEvents=!1)}},{key:"_onOrganizationChange",value:function(){this._triggerChangeEvent()}},{key:"_selectFirst",value:function(e){e.stopPropagation();var t=this.items.first();t&&t.setAttribute("selected","")}},{key:"_validateSelection",value:function(e){var t=this.items._getAllSelected(),n=t.length;if(n>1){for(var i=0;i<n;i++)t[i]!==e&&(this._preventTriggeringEvents=!0,t[i].removeAttribute("selected"));this._preventTriggeringEvents=!1}this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItem,t=this._oldSelection;this._preventTriggeringEvents||e===t||(this.trigger("coral-shell-orgswitcher:change",{oldSelection:t,selection:e}),this._oldSelection=e)}},{key:"_showAll",value:function(e){e.stopPropagation(),this._elements.resultMessage.hidden=!0,this.items.getAll().forEach(function(e){e.hidden=!1,e.items&&e.items.getAll().forEach(function(e){e.hidden=!1})})}},{key:"_performSearch",value:function(e){e.stopPropagation();var t=this._elements.search.value.toLowerCase();this._elements.resultMessage.hidden=!0;var n=0;this.items.getAll().forEach(function(e){var i=-1!==e.content.textContent.toLowerCase().indexOf(t),o=!1;e.items&&e.items.getAll().forEach(function(e){var n=-1!==e.content.textContent.toLowerCase().indexOf(t);o=o||n,e.hidden=!n}),i=i||o,e.hidden=!i,i&&n++}),0===n&&(this._elements.resultMessage.hidden=!1)}},{key:"_moveItems",value:function(){var e=this;this.setAttribute("id",this.id||Yt.getUID()),Array.prototype.forEach.call(this.querySelectorAll("#"+this.id+" > coral-shell-organization"),function(t){e._elements.items.appendChild(t)},this)}},{key:"_onCollectionChange",value:function(e){this._moveItems(),this._validateSelection(e),this.items.length<=6?this._elements.search.hide():this._elements.search.show()}},{key:"connectedCallback",value:function(){var e;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),(e=this.classList).add.apply(e,Su),this._moveItems();var n=this.querySelector('[handle="container"]');n?(this._elements.container=n,this._elements.items=this.querySelector(".coral3-Shell-orgSwitcher-items"),this._elements.search=this.querySelector(".coral3-Shell-orgSwitcher-search"),this._elements.resultMessage=this.querySelector(".coral3-Shell-orgSwitcher-resultMessage"),this._items._container=this._elements.items):this.appendChild(this._elements.container),this.footer=this._elements.footer,this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-shell-organization",itemSelector:"coral-shell-organization, coral-shell-suborganization",container:this._elements.items,onItemAdded:this._onCollectionChange,onItemRemoved:this._onCollectionChange})),this._items}},{key:"placeholder",get:function(){return this._elements.search.placeholder},set:function(e){this._elements.search.placeholder=e}},{key:"footer",get:function(){return this._getContentZone(this._elements.footer)},set:function(e){this._setContentZone("content",e,{handle:"footer",tagName:"coral-shell-orgswitcher-footer",insert:function(e){this.appendChild(e)}})}},{key:"_itemTagName",get:function(){return"coral-shell-organization"}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"_contentZones",get:function(){return{"coral-shell-orgswitcher-footer":"footer"}}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["placeholder"])}}]),t}(qo),Lu=function(){return document.createElement("coral-shell-orgswitcher-footer")},Ou=function(e){var t=document.createDocumentFragment(),n=this.checkmark=document.createElement("coral-icon");n.setAttribute("handle","checkmark"),n.className+=" coral3-Shell-orgSwitcher-item-checkmark",n.setAttribute("hidden",""),n.setAttribute("icon","check"),n.setAttribute("size","XS"),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.items=document.createElement("div");o.setAttribute("handle","items"),o.className+=" coral3-Shell-orgSwitcher-subitems",t.appendChild(o);var a=document.createTextNode("\n\n");return t.appendChild(a),t},Iu=["coral3-BasicList-item","coral3-Shell-orgSwitcher-item"],Nu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({click:"_onClick","key:enter":"_onClick","key:space":"_onClick","coral-shell-suborganization:_selectedchanged":"_onItemSelectedChanged"}),Ou.call(e._elements),e._oldSelection=null,e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onItemSelectedChanged",value:function(e){if("CORAL-SHELL-ORGANIZATION"===this.tagName){var t=e.target;this._validateSelection(t)}}},{key:"_onItemAdded",value:function(e){this._moveItems(),this._validateSelection(e)}},{key:"_onItemRemoved",value:function(e){this._setParent(),this._validateSelection(e)}},{key:"_validateSelection",value:function(e){var t=this.items._getAllSelected(),n=t.length;if(n>1){for(var i=0;i<n;i++)t[i]!==e&&(this._preventTriggeringEvents=!0,t[i].removeAttribute("selected"));this._preventTriggeringEvents=!1}this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItem,t=this._oldSelection;this._preventTriggeringEvents||e===t||(this.trigger(this.tagName.toLowerCase()+":change",{oldSelection:t,selection:e}),this._oldSelection=e)}},{key:"_moveItems",value:function(){var e=this;Array.prototype.forEach.call(this.querySelectorAll("coral-shell-suborganization"),function(t){e._elements.items.contains(t)||e._elements.items.appendChild(t)},this)}},{key:"_setParent",value:function(){var e=0!==this.items.length;e?(this.removeAttribute("role"),this.removeAttribute("tabindex")):(this.setAttribute("role","button"),this.setAttribute("tabindex",0)),this.classList.toggle("is-parent",e)}},{key:"_onClick",value:function(){0===this.items.length&&(this.selected=!0)}},{key:"connectedCallback",value:function(){var e;(e=this.classList).add.apply(e,Iu),this._moveItems(),Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.setAttribute("id",this.id||Yt.getUID());var n=this.querySelector("#"+this.id+" > .coral3-Shell-orgSwitcher-subitems");if(n)this._elements.items=n,this._elements.checkmark=this.querySelector("#"+this.id+" > .coral3-Shell-orgSwitcher-item-checkmark"),this._items._container=this._elements.items;else{var i=document.createDocumentFragment();i.appendChild(this._elements.checkmark),i.appendChild(this._elements.items),this.appendChild(i),this._elements.icon.size=Qn.size.MEDIUM,this._elements.icon.classList.add("coral3-Shell-orgSwitcher-item-icon")}this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem,this._setParent()}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-shell-suborganization",container:this._elements.items,onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"selected",get:function(){return this._selected||!1},set:function(e){if(this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.setAttribute("aria-selected",this._selected),this.classList.toggle("is-selected",this._selected),this._elements.checkmark.hidden=!this._selected,this.items){var t=this.selectedItem;this.classList.toggle("is-child-selected",t),!this._selected&&t&&t.removeAttribute("selected")}this.trigger(this.tagName.toLowerCase()+":_selectedchanged")}},{key:"name",get:function(){return this._name||""},set:function(e){this._name=An.string(e),this._reflectAttribute("name",this._name)}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["name","selected"])}}]),t}(zo),Mu=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.className="coral3-BasicList-item, coral3-Shell-orgSwitcher-subitem "+this.className,this._elements.icon.size=Qn.size.SMALL,this._elements.icon.classList.add("coral3-Shell-orgSwitcher-subitem-icon"),this.setAttribute("role","button"),this.setAttribute("tabindex",0)}}]),t}(Nu);Yt.extend(en,{"coralui-component-shell-help":Lc,"coralui-component-shell-orgswitcher":Oc}),window.customElements.define("coral-shell",Ic),window.customElements.define("coral-shell-header",Mc),window.customElements.define("coral-shell-homeanchor",Pc,{extends:"a"}),window.customElements.define("coral-shell-help",Zc),window.customElements.define("coral-shell-help-item",Gc,{extends:"a"}),window.customElements.define("coral-shell-menu",nu),window.customElements.define("coral-shell-menubar",iu),window.customElements.define("coral-shell-menubar-item",cu),window.customElements.define("coral-shell-user",hu),window.customElements.define("coral-shell-workspaces",gu),window.customElements.define("coral-shell-workspace",bu,{extends:"a"}),window.customElements.define("coral-shell-solutionswitcher",Cu),window.customElements.define("coral-shell-solutions",ku),window.customElements.define("coral-shell-solution",wu,{extends:"a"}),window.customElements.define("coral-shell-orgswitcher",xu),window.customElements.define("coral-shell-organization",Nu),window.customElements.define("coral-shell-suborganization",Mu),window.Coral=window.Coral||{},window.Coral.Shell=Ic,window.Coral.Shell.Content=Nc,window.Coral.Shell.Header=Mc,window.Coral.Shell.HomeAnchor=Pc,window.Coral.Shell.HomeAnchor.Label=Fc,window.Coral.Shell.Help=Zc,window.Coral.Shell.Help.Item=Gc,window.Coral.Shell.Menu=nu,window.Coral.Shell.MenuBar=iu,window.Coral.Shell.MenuBar.Item=cu,window.Coral.Shell.User=hu,window.Coral.Shell.User.Content=pu,window.Coral.Shell.User.Footer=mu,window.Coral.Shell.User.Heading=_u,window.Coral.Shell.User.Name=fu,window.Coral.Shell.User.Subheading=vu,window.Coral.Shell.Workspaces=gu,window.Coral.Shell.Workspace=bu,window.Coral.Shell.SolutionSwitcher=Cu,window.Coral.Shell.Solutions=ku,window.Coral.Shell.Solution=wu,window.Coral.Shell.Solution.Label=Eu,window.Coral.Shell.OrgSwitcher=xu,window.Coral.Shell.Organization=Nu,window.Coral.Shell.Suborganization=Mu,window.Coral.Shell.OrgSwitcher.Footer=Lu;var Du={ON:"on",OFF:"off"},Pu={SMALL:"S",LARGE:"L"},Fu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({'click > coral-step > [handle="stepMarkerContainer"]':"_onStepClick","click > coral-step > coral-step-label":"_onStepClick","click > coral-step":"_onStepClick","capture:focus > coral-step":"_onStepMouseEnter","capture:mouseenter > coral-step":"_onStepMouseEnter","capture:blur > coral-step":"_onStepMouseLeave","capture:mouseleave > coral-step":"_onStepMouseLeave","key:enter > coral-step":"_onStepKeyboardSelect","key:space > coral-step":"_onStepKeyboardSelect","key:home > coral-step":"_onHomeKey","key:end > coral-step":"_onEndKey","key:pagedown > coral-step":"_selectNextItem","key:right > coral-step":"_selectNextItem","key:down > coral-step":"_selectNextItem","key:pageup > coral-step":"_selectPreviousItem","key:left > coral-step":"_selectPreviousItem","key:up > coral-step":"_selectPreviousItem","coral-step:_selectedchanged":"_onItemSelectedChanged"}),e._oldSelection=null,e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_syncItemTabIndex",value:function(e){this.interaction===Du.ON?(e.setAttribute("tabindex",e.hasAttribute("selected")?"0":"-1"),e.removeAttribute("aria-readonly")):(e.removeAttribute("tabindex"),e.setAttribute("aria-readonly","true"))}},{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation();var t=e.target;this._syncItemTabIndex(t),this._validateSelection(t)}},{key:"_validateSelection",value:function(e){var t=this.items._getAllSelected(),n=t.length;if(0===n){var i=this.items._getFirstSelectable();i&&i.setAttribute("selected","")}else if(n>1){e=e||t[t.length-1];for(var o=0;o<n;o++)t[o]!==e&&(this._preventTriggeringEvents=!0,t[o].removeAttribute("selected"));this._preventTriggeringEvents=!1}this._setStateClasses(),this._allChildrenAdded&&this._updateLabels(),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItem,t=this._oldSelection;this._preventTriggeringEvents||e===t||(this.trigger("coral-steplist:change",{oldSelection:t,selection:e}),this._oldSelection=e)}},{key:"_setStateClasses",value:function(){var e=1/0;this.items.getAll().forEach(function(t,n){t.hasAttribute("selected")&&(e=n),t.classList.toggle("is-complete",n<e)})}},{key:"_onStepKeyboardSelect",value:function(e){if(this.interaction===Du.ON){e.preventDefault(),e.stopPropagation();var t=e.matchedTarget;this._selectAndFocusItem(t)}}},{key:"_onStepClick",value:function(e){if(this.interaction===Du.ON){e.preventDefault(),e.stopPropagation();var t=e.matchedTarget.closest("coral-step");this._selectAndFocusItem(t)}}},{key:"_onStepMouseEnter",value:function(e){if(this.size===Pu.SMALL||this._isHybridMode){var t=e.matchedTarget;if(t.hasAttribute("selected")&&this._isHybridMode)return;""!==t._elements.label.innerHTML.trim()&&(t._elements.tooltip.content.innerHTML=t._elements.label.innerHTML,t._elements.tooltip.open=!0)}}},{key:"_onStepMouseLeave",value:function(e){if(this.size===Pu.SMALL||this._isHybridMode){e.matchedTarget._elements.tooltip.open=!1}}},{key:"_onHomeKey",value:function(e){if(this.interaction===Du.ON){e.preventDefault();var t=this.items._getFirstSelectable();this._selectAndFocusItem(t)}}},{key:"_onEndKey",value:function(e){if(this.interaction===Du.ON){e.preventDefault();var t=this.items._getLastSelectable();this._selectAndFocusItem(t)}}},{key:"_selectNextItem",value:function(e){this.interaction===Du.ON&&(e.preventDefault(),this.next())}},{key:"_selectPreviousItem",value:function(e){this.interaction===Du.ON&&(e.preventDefault(),this.previous())}},{key:"_selectAndFocusItem",value:function(e){e&&(e.setAttribute("selected",""),e.focus())}},{key:"_setHybridLabel",value:function(e){if(this._isHybridMode){var t=this.items.getAll(),n=t.indexOf(e),i=t.length/2,o=120*(i-n)-60;e.label.style.marginLeft=o+"px",e.label.dataset.coralStepIndex=" ("+(n+1)+"/"+t.length+")"}}},{key:"_updateLabels",value:function(){var e=!1;if(this._isHybridMode=!1,this.classList.remove("coral3-StepList--hybrid"),this.size!==Pu.SMALL){var t=this.items.getAll(),n=t.length,i=void 0;for(i=0;i<n;i++)if(t[i]._labelIsHidden){e=!0,this._isHybridMode=!0,this.classList.add("coral3-StepList--hybrid");break}for(i=0;i<n;i++)t[i].label&&(t[i].label.hidden=!(t[i].hasAttribute("selected")||!e));this._setHybridLabel(this.selectedItem)}}},{key:"next",value:function(){var e=this.selectedItem;e&&(e=this.items._getNextSelectable(e),this._selectAndFocusItem(e))}},{key:"previous",value:function(){var e=this.selectedItem;e&&(e=this.items._getPreviousSelectable(e),this._selectAndFocusItem(e))}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-StepList"),this._interaction||(this.interaction=Du.OFF),this._size||(this.size=Pu.LARGE),this.setAttribute("role","tablist"),this.setAttribute("aria-multiselectable","false"),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem;var e=this;window.customElements.whenDefined("coral-step").then(function(){e._allChildrenAdded=!0,e._updateLabels()})}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-step",onItemAdded:this._validateSelection,onItemRemoved:this._validateSelection})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"target",get:function(){return this._target||null},set:function(e){if(null===e||"string"==typeof e||e instanceof Node){this._target=e;var t=this;window.requestAnimationFrame(function(){var e=ht(t._target);if(e)for(var n=t.items.getAll(),i=e.items?e.items.getAll():e.children,o=Math.max(n.length,i.length),a=void 0,r=void 0,s=0;s<o;s++)a=n[s],r=i[s],a&&a.target&&""!==a.target.trim()||(a&&r?(a.id=a.id||Yt.getUID(),r.id=r.id||Yt.getUID(),a.setAttribute("aria-controls",r.id),r.setAttribute("aria-labelledby",a.id)):a?a.removeAttribute("aria-controls"):r.removeAttribute("aria-labelledby"))})}}},{key:"size",get:function(){return this._size||Pu.LARGE},set:function(e){e=An.string(e).toUpperCase(),this._size=En.enumeration(Pu)(e)&&e||Pu.LARGE,this._reflectAttribute("size",this._size),this.classList.toggle("coral3-StepList--small",this._size===Pu.SMALL)}},{key:"interaction",get:function(){return this._interaction||Du.OFF},set:function(e){e=An.string(e).toLowerCase(),this._interaction=En.enumeration(Du)(e)&&e||Du.OFF,this._reflectAttribute("interaction",this._interaction);var t=this._interaction===Du.ON;this.classList.toggle("coral3-StepList--interactive",t);for(var n=this.items.getAll(),i=n.length,o=0;o<i;o++)this._syncItemTabIndex(n[o])}}],[{key:"size",get:function(){return Pu}},{key:"interaction",get:function(){return Du}},{key:"observedAttributes",get:function(){return["target","size","interaction"]}}]),t}(Pn(HTMLElement)),Hu=function(e){var t=document.createDocumentFragment(),n=this.stepMarkerContainer=document.createElement("span");n.className+=" coral3-Step-markerContainer",n.setAttribute("handle","stepMarkerContainer");var i=document.createTextNode("\n  ");n.appendChild(i);var o=document.createElement("span");o.className+=" coral3-Step-marker",n.appendChild(o);var a=document.createTextNode("\n");n.appendChild(a),t.appendChild(n);var r=document.createTextNode("\n");t.appendChild(r);var s=this.tooltip=document.createElement("coral-tooltip");s.setAttribute("handle","tooltip"),s.setAttribute("target","_prev"),s.setAttribute("placement","top"),s.setAttribute("variant","inspect"),s.setAttribute("interaction","off"),s.setAttribute("offset","5"),t.appendChild(s);var l=document.createTextNode("\n");t.appendChild(l);var c=this.line=document.createElement("span");c.className+=" coral3-Step-line",c.setAttribute("handle","line"),t.appendChild(c);var u=document.createTextNode("\n");return t.appendChild(u),t},Bu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={label:e.querySelector("coral-step-label")||document.createElement("coral-step-label")},Hu.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Step"),this.setAttribute("id",this.id||Yt.getUID()),this.setAttribute("role","tab");var e=document.createDocumentFragment();this._elements.tooltip=this.querySelector("coral-tooltip")||this._elements.tooltip,e.appendChild(this._elements.stepMarkerContainer),e.appendChild(this._elements.tooltip),e.appendChild(this._elements.line);var n=["stepMarkerContainer","tooltip","line"],i=this._elements.label;for(i.parentNode&&i.remove();this.firstChild;){var o=this.firstChild;o.nodeType===Node.TEXT_NODE||o.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(o.getAttribute("handle"))?i.appendChild(o):this.removeChild(o)}this.appendChild(e),this.label=i,this._labelIsHidden=this.label.clientWidth>this.clientWidth}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:"coral-step-label",insert:function(e){this.appendChild(e)}})}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this.selected),this.setAttribute("aria-selected",this.selected);var t=this.parentNode,n=void 0;if(this._selected)if(n=ht(this.target))n.setAttribute("selected","");else if(t&&t.target&&(n=ht(t.target))){var i=t.items.getAll().indexOf(this),o=(n.items?n.items.getAll():n.children)[i];o&&o.setAttribute("selected","")}this.trigger("coral-step:_selectedchanged")}},{key:"target",get:function(){return this._target||null},set:function(e){if(null===e||"string"==typeof e||e instanceof Node){this._target=e;var t=ht(this._target);t&&(this.setAttribute("aria-controls",t.id),t.setAttribute("aria-labelledby",this.id))}}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-step-label":"label"}}}],[{key:"observedAttributes",get:function(){return["selected","target"]}}]),t}(Pn(HTMLElement)),Ru=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){this.classList.add("coral3-Step-label")}}]),t}(HTMLElement);window.customElements.define("coral-steplist",Fu),window.customElements.define("coral-step",Bu),window.customElements.define("coral-step-label",Ru),window.Coral=window.Coral||{},window.Coral.StepList=Fu,window.Coral.Step=Bu,window.Coral.Step.Label=Ru;var ju=function(e){var t=document.createDocumentFragment(),n=this.input=document.createElement("input");n.className+=" coral3-Switch-input",n.setAttribute("handle","input"),n.setAttribute("type","checkbox"),n.id=Coral.commons.getUID(),t.appendChild(n);var i=document.createTextNode("\n");t.appendChild(i);var o=this.label=document.createElement("span");o.className+=" coral3-Switch-label",o.setAttribute("handle","label"),o.setAttribute("aria-hidden","true"),t.appendChild(o);var a=document.createTextNode("\n");return t.appendChild(a),t},qu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(e._events),e._elements={},ju.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"clear",value:function(){this.checked=!1}},{key:"reset",value:function(){this.checked=this._initialCheckedState}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Switch");var e=document.createDocumentFragment(),n=["input","label"];for(e.appendChild(this._elements.input),e.appendChild(this._elements.label);this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(i.getAttribute("handle"))?e.appendChild(i):this.removeChild(i)}this.appendChild(e)}},{key:"checked",get:function(){return this._checked||!1},set:function(e){this._checked=An.booleanAttr(e),this._reflectAttribute("checked",this._checked),this._elements.input.checked=this._checked}},{key:"name",get:function(){return this._elements.input.name},set:function(e){this._reflectAttribute("name",e),this._elements.input.name=e}},{key:"value",get:function(){return this._elements.input.value||"on"},set:function(e){this._elements.input.value=e}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.setAttribute("aria-disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.input.disabled=this._disabled}},{key:"required",get:function(){return this._required||!1},set:function(e){this._required=An.booleanAttr(e),this._reflectAttribute("required",this._required),this.setAttribute("aria-required",this._required),this._elements.input.required=this._required}},{key:"readOnly",get:function(){return this._readOnly||!1},set:function(e){this._readOnly=An.booleanAttr(e),this._reflectAttribute("readonly",this._readOnly),this.setAttribute("aria-readonly",this._readOnly)}},{key:"_componentTargetProperty",get:function(){return"checked"}},{key:"_eventTargetProperty",get:function(){return"checked"}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["checked"])}}]),t}(yo(Pn(HTMLElement)));window.customElements.define("coral-switch",qu),window.Coral=window.Coral||{},window.Coral.Switch=qu;var zu={DEFAULT:"default",ASCENDING:"ascending",DESCENDING:"descending"},Uu={ALPHANUMERIC:"alphanumeric",NUMBER:"number",DATE:"date",CUSTOM:"custom"},Vu=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_sort",value:function(){var e=void 0;this.sortableDirection===zu.DEFAULT?e=zu.ASCENDING:this.sortableDirection===zu.ASCENDING?e=zu.DESCENDING:this.sortableDirection===zu.DESCENDING&&(e=zu.DEFAULT),this.trigger("coral-table-column:_beforecolumnsort",{newSortableDirection:e})}},{key:"_doSort",value:function(e){this.trigger("coral-table-column:_sort",{onInitialization:e,sortableDirection:zu,sortableType:Uu})}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral-Table-column"),this._sortableType||(this.sortableType=Uu.ALPHANUMERIC),this._sortableDirection||(this.sortableDirection=zu.DEFAULT)}},{key:"fixedWidth",get:function(){return this._fixedWidth||!1},set:function(e){this._fixedWidth=An.booleanAttr(e),this._reflectAttribute("fixedwidth",this._fixedWidth),this.trigger("coral-table-column:_fixedwidthchanged")}},{key:"hidden",get:function(){return this._hidden||!1},set:function(e){this._hidden=An.booleanAttr(e),this._reflectAttribute("hidden",this._hidden),this.trigger("coral-table-column:_hiddenchanged")}},{key:"orderable",get:function(){return this._orderable||!1},set:function(e){this._orderable=An.booleanAttr(e),this._reflectAttribute("orderable",this._orderable);var t=this;window.requestAnimationFrame(function(){t.trigger("coral-table-column:_orderablechanged")})}},{key:"sortable",get:function(){return this._sortable||!1},set:function(e){this._sortable=An.booleanAttr(e),this._reflectAttribute("sortable",this._sortable);var t=this;window.requestAnimationFrame(function(){t.trigger("coral-table-column:_sortablechanged")})}},{key:"sortableType",get:function(){return this._sortableType||Uu.ALPHANUMERIC},set:function(e){e=An.string(e).toLowerCase(),this._sortableType=En.enumeration(Uu)(e)&&e||Uu.ALPHANUMERIC,this._reflectAttribute("sortabletype",this._sortableType)}},{key:"sortableDirection",get:function(){return this._sortableDirection||zu.DEFAULT},set:function(e){e=An.string(e).toLowerCase(),this._sortableDirection=En.enumeration(zu)(e)&&e||zu.DEFAULT,this._reflectAttribute("sortabledirection",this._sortableDirection),this._preventSort||(this._doSort(),this.trigger("coral-table-column:_sortabledirectionchanged"))}}],[{key:"sortableDirection",get:function(){return zu}},{key:"sortableType",get:function(){return Uu}},{key:"observedAttributes",get:function(){return["fixedwidth","fixedWidth","hidden","orderable","sortable","sortabletype","sortableType","sortabledirection","sortableDirection"]}}]),t}(Pn(HTMLTableColElement)),Ku=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"_setHandle",value:function(e){this.querySelector("["+e+"]")||this.setAttribute(e,"")}},{key:"_toggleSelectable",value:function(e){e?this._setHandle("coral-table-cellselect"):this.selected=!1}},{key:"_syncAriaSelectedState",value:function(){this.classList.toggle("is-selected",this.selected),this.setAttribute("aria-selected",this.selected)}},{key:"_syncSelectHandle",value:function(){var e=this.querySelector("[coral-table-cellselect]");e&&(void 0!==e.indeterminate&&(e.indeterminate=!1),void 0!==e.checked&&(e.checked=this.selected))}},{key:"attributeChangedCallback",value:function(e,n,i){"_selectable"===e?this._toggleSelectable(null!==i):Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attributeChangedCallback",this).call(this,e,n,i)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral-Table-cell"),this.setAttribute("role","gridcell")}},{key:"content",get:function(){return this},set:function(e){if("object"===(void 0===e?"undefined":Dt(e)))for(var t in e)this[t]=e[t]}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this.trigger("coral-table-cell:_beforeselectedchanged"),this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.trigger("coral-table-cell:_selectedchanged"),this._syncAriaSelectedState(),this._syncSelectHandle()}},{key:"value",get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",An.string(e))}}],[{key:"observedAttributes",get:function(){return["selected","_selectable"]}}]),t}(Pn(HTMLTableCellElement)),Zu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-table-headercell-content")||document.createElement("coral-table-headercell-content")},e._stickyCellObserver=new MutationObserver(e._handleMutations.bind(e)),e._stickyCellObserver.observe(e._elements.content,{childList:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_handleMutations",value:function(){this.trigger("coral-table-headercell:_contentchanged")}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral-Table-headerCell");var e=this._elements.content;if(!e.parentNode)for(;this.firstChild;)e.appendChild(this.firstChild);this.content=e}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-table-headercell-content",insert:function(e){this.appendChild(e)}})}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-table-headercell-content":"content"}}}]),t}(Pn(HTMLTableCellElement)),Wu=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._oldSelection=[],e._delegateEvents({"coral-table-cell:_beforeselectedchanged":"_onBeforeCellSelectionChanged","coral-table-cell:_selectedchanged":"_onCellSelectionChanged"}),e._observer=new MutationObserver(e._handleMutations.bind(e)),e._observer.observe(e,{childList:!0}),e}return Bt(t,e),Ft(t,[{key:"_triggerChangeEvent",value:function(){var e=this.selectedItems;this.trigger("coral-table-row:_change",{
oldSelection:this._oldSelection,selection:e}),this._oldSelection=e}},{key:"_onCellSelectionChanged",value:function(e){e.stopImmediatePropagation(),this._triggerChangeEvent()}},{key:"_onBeforeCellSelectionChanged",value:function(e){e.stopImmediatePropagation();var t=this.selectedItem;this.multiple||!t||e.target.selected||t.set("selected",!1,!0)}},{key:"_syncAriaSelectedState",value:function(){this.classList.toggle("is-selected",this.selected),this.setAttribute("aria-selected",this.selected)}},{key:"_syncSelectHandle",value:function(){var e=this.querySelector("[coral-table-rowselect]");e&&(void 0!==e.indeterminate&&(e.indeterminate=!1),void 0!==e.checked&&(e.checked=this.selected))}},{key:"_toggleSelectable",value:function(e){e?this._setHandle("coral-table-rowselect"):this.set("selected",!1,!0)}},{key:"_toggleOrderable",value:function(e){e?this._setHandle("coral-table-roworder"):this.dragAction&&this.dragAction.destroy()}},{key:"_toggleLockable",value:function(e){e&&this._setHandle("coral-table-rowlock")}},{key:"_setHandle",value:function(e){this.querySelector("["+e+"]")||this.setAttribute(e,"")}},{key:"_handleMutations",value:function(e){var t=this;e.forEach(function(e){t.trigger("coral-table-row:_contentchanged",{addedNodes:e.addedNodes,removedNodes:e.removedNodes})},this)}},{key:"attributeChangedCallback",value:function(e,n,i){"_selectable"===e?this._toggleSelectable(null!==i):"_orderable"===e?this._toggleOrderable(null!==i):"_lockable"===e?this._toggleLockable(null!==i):Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attributeChangedCallback",this).call(this,e,n,i)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral-Table-row"),this.setAttribute("role","row")}},{key:"locked",get:function(){return this._locked||!1},set:function(e){this._locked=An.booleanAttr(e),this._reflectAttribute("locked",this._locked),this.trigger("coral-table-row:_lockedchanged")}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this.trigger("coral-table-row:_beforeselectedchanged"),this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.trigger("coral-table-row:_selectedchanged"),this._syncAriaSelectedState(),this._syncSelectHandle()}},{key:"selectable",get:function(){return this._selectable||!1},set:function(e){var t=this;this._selectable=An.booleanAttr(e),this._reflectAttribute("selectable",this._selectable),this.items.getAll().forEach(function(e){e[t._selectable?"setAttribute":"removeAttribute"]("_selectable","")},this)}},{key:"multiple",get:function(){return this._multiple||!1},set:function(e){this._multiple=An.booleanAttr(e),this._reflectAttribute("multiple",this._multiple),this.trigger("coral-table-row:_multiplechanged")}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getFirstSelected()}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemBaseTagName:"td",itemTagName:"coral-table-cell"})),this._items}}],[{key:"observedAttributes",get:function(){return["locked","selected","multiple","selectable","_selectable","_orderable","_lockable"]}}]),t}(Pn(HTMLTableRowElement)),Gu=function(e){var t=e.parentNode;return t?Array.prototype.indexOf.call(t.children,e):-1},Xu=function(e,t,n){var i=[];if(n){var o=0===n.indexOf("next")?"nextElementSibling":"previousElementSibling";if(-1!==n.indexOf("Until"))for(;e[o]&&!function(){return"string"==typeof t?e[o].matches(t):e[o]===t}();)i.push(e=e[o]);else{if(-1===n.indexOf("All")){var a=e[o];return a&&a.matches(t)?a:null}for(;e[o];)e=e[o],e.matches(t)&&i.push(e)}}else["previousElementSibling","nextElementSibling"].forEach(function(n){for(var o=e;o[n];)o=o[n],o.matches(t)&&i.push(o)});return i},Yu=function(e){for(var t=[],n=0,i=t.length=e.length;n<i;n++)t[n]=e[n];return t},Qu=function(e){return Yu(e.querySelectorAll('col[is="coral-table-column"]'))},Ju=function(e){var t=[];return e.forEach(function(e){e&&(t=t.concat(Yu(e.querySelectorAll('tr[is="coral-table-row"]'))))}),t},$u=function(e){return Yu(e.querySelectorAll('td[is="coral-table-cell"], th[is="coral-table-headercell"]'))},ed=function(e){return Yu(e.querySelectorAll('td[is="coral-table-cell"]'))},td=function(e){return Yu(e.querySelectorAll('th[is="coral-table-headercell"]'))},nd=function(e,t){return $u(e).filter(function(e){return Gu(e)===t})[0]||null},id={NONE:"none",ROW:"row",COLUMN:"column",CELL:"cell"},od=[];for(var ad in id)od.push("coral-Table-divider--"+id[ad]);var rd=function(e){return function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.setAttribute("role","rowgroup"),this._divider||(this.divider=id.ROW)}},{key:"divider",get:function(){return this._divider||id.ROW},set:function(e){var t;e=An.string(e).toLowerCase(),this._divider=En.enumeration(id)(e)&&e||id.ROW,this._reflectAttribute("divider",this._divider),(t=this.classList).remove.apply(t,od),this.classList.add("coral-Table-divider--"+this.divider)}}],[{key:"observedAttributes",get:function(){return["divider"]}}]),t}(e)},sd=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._observer=new MutationObserver(e._handleMutations.bind(e)),e._observer.observe(e,{childList:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_handleMutations",value:function(e){var t=this;e.forEach(function(e){t.trigger("coral-table-head:_contentchanged",{addedNodes:e.addedNodes,removedNodes:e.removedNodes})},this)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral-Table-head")}},{key:"sticky",get:function(){return this._sticky||!1},set:function(e){this._sticky=An.booleanAttr(e),this._reflectAttribute("sticky",this._sticky);var t=this;window.requestAnimationFrame(function(){t.trigger("coral-table-head:_stickychanged")})}}],[{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this).concat(["sticky"])}}]),t}(rd(Pn(HTMLTableSectionElement))),ld=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._observer=new MutationObserver(e._handleMutations.bind(e)),e._observer.observe(e,{childList:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_handleMutations",value:function(e){var t=this;e.forEach(function(e){t.trigger("coral-table-body:_contentchanged",{addedNodes:e.addedNodes,removedNodes:e.removedNodes})},this)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral-Table-body"),0===Ju([this]).length&&this.trigger("coral-table-body:_empty")}}]),t}(rd(Pn(HTMLTableSectionElement))),cd=function(e){function t(){return Pt(this,t),Rt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Bt(t,e),Ft(t,[{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral-Table-foot")}}]),t}(rd(Pn(HTMLTableSectionElement))),ud=function(e){var t=document.createDocumentFragment(),n=this.container=document.createElement("div");n.setAttribute("handle","container"),n.className+=" coral-Table-wrapper-container",n.setAttribute("role","presentation"),n.setAttribute("coral-table-scroll","");var i=document.createTextNode("\n  ");n.appendChild(i);var o=this.table=document.createElement("table");o.setAttribute("handle","table"),o.className+=" coral-Table",o.setAttribute("role","grid"),n.appendChild(o);var a=document.createTextNode("\n");n.appendChild(a),t.appendChild(n);var r=document.createTextNode("\n");return t.appendChild(r),t};!function(){var e=document.documentElement;if(-1!==e.className.indexOf("wf-inactive")||-1!==e.className.indexOf("wf-loading")){var t=new MutationObserver(function(){-1!==e.className.indexOf("wf-active")&&(t.disconnect(),Jt.dispatch("coral-commons:_webfontload"))});t.observe(e,{attributes:!0,attributeFilter:["class"]})}}();var dd="coral-Table-wrapper",hd={DEFAULT:"default",LIST:"list"},pd=[];for(var md in hd)pd.push(dd+"--"+hd[md]);var _d=-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0||-1!==navigator.userAgent.indexOf("Edge"),fd=-1!==navigator.userAgent.indexOf("Firefox"),vd=yn.keyToCode("space"),gd=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={head:e.querySelector('thead[is="coral-table-head"]')||new sd,body:e.querySelector('tbody[is="coral-table-body"]')||new ld,foot:e.querySelector('tfoot[is="coral-table-foot"]')||new cd,columns:e.querySelector("colgroup")||document.createElement("colgroup")},ud.call(e._elements),e._delegateEvents({"global:coral-commons:_webfontload":"_resetLayout","change [coral-table-select]":"_onSelectAll",'capture:scroll [handle="container"]':"_onScroll",'click thead[is="coral-table-head"] th[is="coral-table-headercell"]':"_onHeaderCellSort",'coral-dragaction:dragstart thead[is="coral-table-head"] th[is="coral-table-headercell"]':"_onHeaderCellDragStart",'coral-dragaction:drag thead[is="coral-table-head"] tr[is="coral-table-row"] > th[is="coral-table-headercell"]':"_onHeaderCellDrag",'coral-dragaction:dragend thead[is="coral-table-head"] tr[is="coral-table-row"] > th[is="coral-table-headercell"]':"_onHeaderCellDragEnd",'key:enter th[is="coral-table-headercell"]':"_onHeaderCellSort",'key:space th[is="coral-table-headercell"]':"_onHeaderCellSort",'click tbody[is="coral-table-body"] [coral-table-rowlock]':"_onRowLock",'click tbody[is="coral-table-body"] [coral-table-rowselect]':"_onRowSelect",'click tbody[is="coral-table-body"] tr[is="coral-table-row"][selectable] [coral-table-cellselect]':"_onCellSelect",'capture:mousedown tbody[is="coral-table-body"] [coral-table-roworder]:not([disabled])':"_onRowOrder",'capture:touchstart tbody[is="coral-table-body"] [coral-table-roworder]:not([disabled])':"_onRowOrder",'coral-dragaction:dragstart tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDragStart",'coral-dragaction:drag tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDrag",'coral-dragaction:dragover tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDragOver",'coral-dragaction:dragend tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowDragEnd",'mousedown tbody[is="coral-table-body"] [coral-table-rowselect]':"_onRowDown",'key:enter tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowSelect",'key:space tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onRowSelect",'key:pageup tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusPreviousItem",'key:pagedown tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusNextItem",'key:left tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusPreviousItem",'key:right tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusNextItem",'key:up tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusPreviousItem",'key:down tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusNextItem",'key:home tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusFirstItem",'key:end tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onFocusLastItem",'key:shift+pageup tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectPreviousItem",'key:shift+pagedown tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectNextItem",'key:shift+left tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectPreviousItem",'key:shift+right tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectNextItem",'key:shift+up tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectPreviousItem",'key:shift+down tbody[is="coral-table-body"] tr[is="coral-table-row"]':"_onSelectNextItem","coral-table-row:_multiplechanged":"_onRowMultipleChanged","coral-table-row:_beforeselectedchanged":"_onBeforeRowSelectionChanged","coral-table-row:_selectedchanged":"_onRowSelectionChanged","coral-table-row:_lockedchanged":"_onRowLockedChanged","coral-table-row:_change":"_onRowChange","coral-table-row:_contentchanged":"_onRowContentChanged","coral-table-headercell:_contentchanged":"_resetLayout","coral-table-head:_contentchanged":"_onHeadContentChanged","coral-table-body:_contentchanged":"_onBodyContentChanged","coral-table-body:_empty":"_onBodyEmpty","coral-table-column:_fixedwidthchanged":"_onFixedWidthChanged","coral-table-column:_orderablechanged":"_onColumnOrderableChanged","coral-table-column:_sortablechanged":"_onColumnSortableChanged","coral-table-column:_sortabledirectionchanged":"_onColumnSortableDirectionChanged","coral-table-column:_hiddenchanged":"_onColumnHiddenChanged","coral-table-column:_beforecolumnsort":"_onBeforeColumnSort","coral-table-column:_sort":"_onColumnSort","coral-table-head:_stickychanged":"_onHeadStickyChanged"}),e._oldSelection=[],e._lastSelectedItems={items:[],direction:null},e._allowSorting=!1,e._timeout=null,e._wait=50,e._resetLayout=e._resetLayout.bind(e),e._observer=new MutationObserver(e._handleMutations.bind(e)),e._observer.observe(e,{childList:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_onSelectAll",value:function(e){if(this.selectable){var t=Ju([this.body]);if(t.length)if(this.multiple){var n=e.target.checked;t.forEach(function(e){e.set("selected",n,!0)}),t=n?t:[],this._setSelectAllHandleState(n?"checked":"unchecked"),this.trigger("coral-table:change",{selection:t,oldSelection:this._oldSelection}),this._oldSelection=t,this._lastSelectedItems.items=t}else{var i=t[t.length-1];i.selected=!i.selected}}}},{key:"_triggerChangeEvent",value:function(){if(!this._preventTriggeringEvents){var e=this.selectedItems;this.trigger("coral-table:change",{oldSelection:this._oldSelection,selection:e}),this._oldSelection=e}}},{key:"_onRowOrder",value:function(e){var t=this,n=e.target.closest('tr[is="coral-table-row"]');if(n&&t.orderable){var i=t.head,o=t.body,a=i&&i.sticky,r=n.getAttribute("style"),s=Gu(n),l=n.nextElementSibling,c=new Gs(n),u=Ju([o]),d=t.getBoundingClientRect(),h=n.getBoundingClientRect();n===u[0]?t.classList.add("is-draggedFirstItem"):n===u[u.length-1]&&t.classList.add("is-draggedLastItem"),c.axis="vertical",c.scroll=!1,c.handle=n.querySelector("[coral-table-roworder]");var p=n.cloneNode(!0);p.classList.add("coral-Table-row--placeholder"),n.style.top=h.top-d.top+"px",t._preventTriggeringEvents=!0,o.insertBefore(p,n.nextElementSibling),window.requestAnimationFrame(function(){t._preventTriggeringEvents=!1});var m={placeholder:p,index:s,oldBefore:l,style:{row:r}};a&&(m.sticky=a,m.tableTop=d.top,m.tableSize=d.height,m.headSize=parseFloat(t._elements.container.style.marginTop),m.dragElementSize=h.height),n.dragAction._dragData=m}}},{key:"_onHeaderCellSort",value:function(e){var t=this,n=e.matchedTarget;if(!n._isDragging){var i=t._getColumn(n);i&&i.sortable&&(e.preventDefault(),i._sort(),n.focus())}}},{key:"_onHeaderCellDragStart",value:function(e){var t=this,n=e.matchedTarget,i=e.detail.dragElement,o=n===i?'th[is="coral-table-headercell"]':'th[is="coral-table-headercell"] coral-table-headercell-content',a=t.getBoundingClientRect();i.dragAction._dragData={draggedColumnIndex:Gu(n),tableLeft:a.left,tableSize:a.width,dragElementSize:n.getBoundingClientRect().width,tableScrollWidth:t._elements.container.scrollWidth},Xu(n,o,"prevAll").forEach(function(e){e.classList.add("is-before")}),Xu(n,o,"nextAll").forEach(function(e){e.classList.add("is-after")})}},{key:"_onHeaderCellDrag",value:function(e){var t=this,n=t._elements.container,i=e.matchedTarget,o=e.detail.dragElement,a=o.dragAction._dragData,r=i.parentElement,s=i===o,l=n.scrollLeft,c=document.body.scrollLeft;i._isDragging=!0;var u=o.getBoundingClientRect().left-a.tableLeft,d=a.tableSize-a.dragElementSize;u<0?n.scrollLeft-=10:u>d&&l+a.tableSize<a.tableScrollWidth&&(n.scrollLeft+=10),td(r).forEach(function(t){var n=s?t:t.content;if(!n.classList.contains("is-dragging")){var o=n.getBoundingClientRect().left+c,a=e.detail.pageX<o+n.offsetWidth/3;n.classList.toggle("is-after",a),n.classList.toggle("is-before",!a);var r=Gu(t),u=Gu(i);if(n.classList.contains("is-after"))if(r<u){var d=window.getComputedStyle(n),h=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight);if(s){var p=parseFloat(d.width);n.style.left=p+h+"px"}else{var m=Xu(t,'th[is="coral-table-headercell"]',"next"),_=m.getBoundingClientRect().left+c;n.style.left=_-h+l+"px"}}else n.style.left="";if(n.classList.contains("is-before"))if(r>u){var f=Xu(t,'th[is="coral-table-headercell"]',"prev"),v=window.getComputedStyle(f),g=parseFloat(v.paddingLeft)+parseFloat(v.paddingRight);if(s){var b=parseFloat(v.width);n.style.left=-1*(b+g)+"px"}else{var y=f.getBoundingClientRect().left+c;n.style.left=y-g+l+"px"}}else n.style.left=""}})}},{key:"_onHeaderCellDragEnd",value:function(e){var t=this,n=e.matchedTarget,i=e.detail.dragElement,o=i.dragAction._dragData,a=t._getColumn(n),r=Ju([t.head]),s=n===i,l=n.parentElement,c=function(e){var n=[];return Ju([t.body,t.foot]).forEach(function(t){var i=nd(t,e);i&&n.push(i)}),n},u=c(Gu(n)),d=null,h=null;if(s?(d=l.querySelector('th[is="coral-table-headercell"].is-after'),h=l.querySelectorAll('th[is="coral-table-headercell"].is-before'),h=h.length?h[h.length-1]:null):(d=l.querySelector('th[is="coral-table-headercell"] > coral-table-headercell-content.is-after'),d=d?d.parentNode:null,h=l.querySelectorAll('th[is="coral-table-headercell"] > coral-table-headercell-content.is-before'),h=h.length?h[h.length-1].parentNode:null),!(d&&d.previousElementSibling===n||h&&h.nextElementSibling===n)){var p=d?t._getColumn(d):null,m=t.trigger("coral-table:beforecolumndrag",{column:a,before:p}),_=a.nextElementSibling;if(!m.defaultPrevented){if(d){var f=Gu(d),v=c(f);u.forEach(function(e,t){e.parentNode.insertBefore(e,v[t])});var g=Qu(t.columns)[f];g&&a&&t.columns.insertBefore(a,g),l.insertBefore(n,d)}if(h){var b=Gu(h),y=c(b);u.forEach(function(e,t){e.parentNode.insertBefore(e,y[t].nextElementSibling)});var C=Qu(t.columns)[b];C&&a&&t.columns.insertBefore(a,C.nextElementSibling),l.insertBefore(n,h.nextElementSibling)}if(o.draggedColumnIndex!==Gu(n)){var k=Qu(t.columns)[Gu(a)+1];t.trigger("coral-table:columndrag",{column:a,oldBefore:_,before:k||null})}}}r.forEach(function(e){td(e).forEach(function(e){e=s?e:e.content,e.classList.remove("is-after"),e.classList.remove("is-before"),e.style.left=""})}),t._resetLayout(),window.requestAnimationFrame(function(){n._isDragging=void 0,t._toggleElementTabIndex(i,null,!0)})}},{key:"_onCellSelect",value:function(e){var t=e.target.closest('td[is="coral-table-cell"]');t&&(t.selected=!t.selected)}},{key:"_onRowSelect",value:function(e){var t=this,n=e.target.closest('tr[is="coral-table-row"]');if(n){if(t.lockable&&n.locked)return;if(t.classList.remove("is-unselectable"),t.selectable&&(yn.filterInputs(e)||!n.hasAttribute("coral-table-rowselect"))){if(e.keyCode===vd&&e.preventDefault(),e.shiftKey){var i=t._lastSelectedItems.items[t._lastSelectedItems.items.length-1],o=t._lastSelectedItems.direction;if(!t.selectedItem){var a=Ju([t.body]);a.length&&(i=a[0],i.selected=!0)}if(i&&Gu(n)!==Gu(i)){var r=Gu(n)<Gu(i),s=r?"prevUntil":"nextUntil";if(t._lastSelectedItems.direction=r?"up":"down",n.selected){var l=Xu(i,n,s);l.some(function(e){return!e.hasAttribute("selected")})?(l.forEach(function(e){e.selected=!0}),Xu(n,'tr[is="coral-table-row"]:not([selected])',s).forEach(function(e){e.selected=!1})):(l[r?"push":"unshift"](i),l.forEach(function(e){e.selected=!1}))}else{var c=Xu(i,'tr[is="coral-table-row"]:not([selected])',s);c[r?"push":"unshift"](i),(!r&&"up"===o||r&&"down"===o)&&c.forEach(function(e){e.selected=!1});var u=c[r?0:c.length-1];u.selected=!0,Xu(u,n,s).forEach(function(e){e.selected=!0})}}}else t._lastSelectedItems.direction=null;n.selected=!!e.shiftKey||!n.selected,t._focusItem(n,e.target===e.matchedTarget||e.target.tabIndex<0)}}}},{key:"_onRowLock",value:function(e){var t=this;if(t.lockable){var n=e.target.closest('tr[is="coral-table-row"]');n&&(e.preventDefault(),e.stopPropagation(),n.locked=!n.locked,window.requestAnimationFrame(function(){t._focusItem(n,!0)}))}}},{key:"_onRowDown",value:function(e){var t=this;if(t.selectedItem&&e.shiftKey){t.classList.add("is-unselectable");var n=document.onselectstart;document.onselectstart=function(){return!1},window.requestAnimationFrame(function(){document.onselectstart=n})}}},{key:"_onRowDragStart",value:function(e){var t=this,n=t.body,i=e.detail.dragElement,o=i.dragAction._dragData;o.style.cells=[],$u(i).forEach(function(e){o.style.cells.push(e.content.getAttribute("style")),e.content.style.width=window.getComputedStyle(e).width}),i.style.position="absolute",i.dragAction.dropZone=n.querySelectorAll('tr[is="coral-table-row"]:not(.is-dragging)'),i.classList.add("is-focused")}},{key:"_onRowDrag",value:function(e){var t=this,n=t.body,i=e.detail.dragElement,o=i.dragAction._dragData,a=Ju([n])[0];if(i.getBoundingClientRect().top<=a.getBoundingClientRect().top&&(t._preventTriggeringEvents=!0,n.insertBefore(o.placeholder,a),window.requestAnimationFrame(function(){t._preventTriggeringEvents=!1})),o.sticky){var r=i.getBoundingClientRect().top,s=r-o.tableTop-o.headSize,l=o.tableSize-o.dragElementSize-o.headSize;window.requestAnimationFrame(function(){s<0?t._elements.container.scrollTop-=10:s>l&&(t._elements.container.scrollTop+=10)})}}},{key:"_onRowDragOver",value:function(e){var t=this,n=t.body,i=e.detail.dragElement,o=e.detail.dropElement,a=i.dragAction._dragData;i.getBoundingClientRect().top>=o.getBoundingClientRect().top&&(t._preventTriggeringEvents=!0,n.insertBefore(a.placeholder,o.nextElementSibling),window.requestAnimationFrame(function(){t._preventTriggeringEvents=!1}))}},{key:"_onRowDragEnd",value:function(e){var t=this,n=t.body,i=e.detail.dragElement,o=i.dragAction._dragData,a=o.placeholder.nextElementSibling;if(t.classList.remove("is-draggedFirstItem"),t.classList.remove("is-draggedLastItem"),n.removeChild(o.placeholder),i.dragAction.destroy(),i.setAttribute("style",o.style.row),$u(i).forEach(function(e,t){e.content.setAttribute("style",o.style.cells[t])}),!t.trigger("coral-table:beforeroworder",{row:i,before:a}).defaultPrevented){var r=Ju([n]).filter(function(e){return e!==i});o.index!==r.indexOf(o.placeholder)&&(t._preventTriggeringEvents=!0,n.insertBefore(i,a),window.requestAnimationFrame(function(){t._preventTriggeringEvents=!1}),t.trigger("coral-table:roworder",{row:i,oldBefore:o.oldBefore,before:a}))}window.requestAnimationFrame(function(){i.classList.remove("is-focused"),t._focusItem(i,!0)})}},{key:"_onRowMultipleChanged",value:function(e){e.stopImmediatePropagation();var t=this,n=e.target;if(!n.multiple){var i=n.selectedItems;t._preventTriggeringEvents=!0,i.forEach(function(e,t){e.selected=t===i.length-1}),window.requestAnimationFrame(function(){t._preventTriggeringEvents=!1,t.trigger("coral-table:rowchange",{oldSelection:i,selection:n.selectedItems,row:n})})}}},{key:"_onBeforeRowSelectionChanged",value:function(e){e.stopImmediatePropagation();var t=this.selectedItem;this.multiple||!t||e.target.selected||(t.set("selected",!1,!0),this._removeLastSelectedItem(t))}},{key:"_syncSelectAllHandle",value:function(e,t){t.length&&e.length===t.length?this._setSelectAllHandleState("checked"):e.length?this._setSelectAllHandleState("indeterminate"):this._setSelectAllHandleState("unchecked")}},{key:"_setSelectAllHandleState",value:function(e){var t=this.querySelector("[coral-table-select]");t&&("checked"===e?(void 0!==t.indeterminate&&(t.indeterminate=!1),void 0!==t.checked&&(t.checked=!0)):"unchecked"===e?(void 0!==t.indeterminate&&(t.indeterminate=!1),void 0!==t.checked&&(t.checked=!1)):"indeterminate"===e&&void 0!==t.indeterminate&&(t.indeterminate=!0))}},{key:"_onRowSelectionChanged",value:function(e){e.stopImmediatePropagation(),this._triggerChangeEvent();var t=this,n=t.body,i=e.target;if(n&&n.contains(i)){var o=t.selectedItems,a=Ju([n]);t._syncSelectAllHandle(o,a),t[i.selected?"_addLastSelectedItem":"_removeLastSelectedItem"](i);var r=t._lastSelectedItems.items[t._lastSelectedItems.items.length-1],s="down"===t._lastSelectedItems.direction;i.selected&&r&&r.selected&&Xu(r,'tr[is="coral-table-row"][selected]',s?"next":"prev")&&Xu(r,'tr[is="coral-table-row"]:not([selected])',s?"nextUntil":"prevUntil").forEach(function(e){t._addLastSelectedItem(e)})}}},{key:"_onRowLockedChanged",value:function(e){e.stopImmediatePropagation();var t=this,n=this.body,i=e.target;if(n&&n.contains(i))if(i.locked)i._rowIndex=Gu(i),t._preventTriggeringEvents=!0,n.insertBefore(i,Ju([n])[0]),window.requestAnimationFrame(function(){t._preventTriggeringEvents=!1}),t.trigger("coral-table:rowlock",{row:i});else{if(i._rowIndex>=0){var o=Ju([n])[i._rowIndex];o&&(t._preventTriggeringEvents=!0,n.insertBefore(i,o.nextElementSibling),window.requestAnimationFrame(function(){t._preventTriggeringEvents=!1}))}t.trigger("coral-table:rowunlock",{row:i})}}},{key:"_onHeadContentChanged",value:function(e){e.stopImmediatePropagation();for(var t=this,n=t.head,i=e.detail.addedNodes,o=0;o<i.length;o++){var a=i[o];a instanceof Zu&&t._toggleStickyHeaderCell(a,n.sticky)}}},{key:"_onBodyContentChanged",value:function(e){e.stopImmediatePropagation&&e.stopImmediatePropagation();for(var t=this,n=e.detail.addedNodes,i=e.detail.removedNodes,o=null,a=function(e){e.selected=e===o},r=!1,s=0;s<n.length;s++)if((o=n[s])instanceof Wu){r=!0,o._toggleSelectable(t.selectable),o._toggleOrderable(t.orderable),o._toggleLockable(t.lockable);var l=t.selectedItems;o.selected&&(!t.multiple&&l.length>1&&l.forEach(a),t._triggerChangeEvent()),o.selectable&&o.trigger("coral-table-row:_contentchanged",{addedNodes:ed(o),removedNodes:[]}),t._preventTriggeringEvents||t.trigger("coral-collection:add",{item:o}),t._toggleFocusable()}for(var c=0;c<i.length;c++){var u=i[c];if(u instanceof Wu){if(r=!0,"0"===u.getAttribute("tabindex")){var d=Ju([t.body])[0];d&&t._focusItem(d)}u.selected&&t._triggerChangeEvent();var h=t._lastSelectedItems.items.indexOf(u);-1!==h&&(t._lastSelectedItems.items=t._lastSelectedItems.items.splice(h,1)),t._preventTriggeringEvents||t.trigger("coral-collection:remove",{item:u})}}if(r){var p=Ju([t.body]);t._syncSelectAllHandle(t.selectedItems,p),t._toggleInteractivity(0===p.length)}}},{key:"_onBodyEmpty",value:function(e){e.stopImmediatePropagation(),this._toggleInteractivity(!0)}},{key:"_onRowChange",value:function(e){e.stopImmediatePropagation(),this._preventTriggeringEvents||this.trigger("coral-table:rowchange",{oldSelection:e.detail.oldSelection,selection:e.detail.selection,row:e.target})}},{key:"_onRowContentChanged",value:function(e){e.stopImmediatePropagation();for(var t=this,n=e.target,i=e.detail.addedNodes,o=null,a=e.detail.removedNodes,r=function(e){e.selected=e===o},s=0;s<i.length;s++)if((o=i[s])instanceof Ku){o._toggleSelectable(n.selectable);var l=n.selectedItems;o.selected&&(!n.multiple&&l.length>1&&l.forEach(r),n._triggerChangeEvent()),t._preventTriggeringEvents||n.trigger("coral-collection:add",{item:o})}else o instanceof Zu&&t._setHeaderCellScope(o,n.parentNode);for(var c=0;c<a.length;c++){var u=a[c];u instanceof Ku&&(u.selected&&n._triggerChangeEvent(),t._preventTriggeringEvents||n.trigger("coral-collection:remove",{item:u}))}}},{key:"_toggleInteractivity",value:function(e){var t=this,n=t.querySelector("[coral-table-select]");n&&(n.disabled=e),t.classList.toggle("is-disabled",e)}},{key:"_onFixedWidthChanged",value:function(e){e.stopImmediatePropagation();var t=this,n=t.head,i=e.target;if(n){var o=Ju([n]),a=Gu(e.target);o.forEach(function(e){var t=nd(e,a);t&&"TH"===t.tagName&&t[i.fixedWidth?"setAttribute":"removeAttribute"]("fixedwidth","")})}t._resetLayout()}},{key:"_onColumnOrderableChanged",value:function(e){e.stopImmediatePropagation();var t=this,n=this.head,i=e.target,o=t._getColumnHeaderCell(i);o&&(t._toggleDragActionHandle(o,n&&n.sticky),t._resetLayout())}},{key:"_onColumnSortableChanged",value:function(e){e.stopImmediatePropagation();var t=this,n=this.head,i=e.target,o=t._getColumnHeaderCell(i);o&&(o[i.sortable?"setAttribute":"removeAttribute"]("sortable",""),t._toggleHeaderCellTabIndex(o,n&&n.sticky),t._resetLayout())}},{key:"_onColumnSortableDirectionChanged",value:function(e){e.stopImmediatePropagation();var t=this,n=e.target,i=Vu.sortableDirection;t.classList.toggle("is-sorted",t._isSorted());var o=t._getColumnHeaderCell(n);o&&(o.setAttribute("sortabledirection",n.sortableDirection),o.setAttribute("aria-sort",n.sortableDirection===i.DEFAULT?"none":n.sortableDirection))}},{key:"_onColumnHiddenChanged",value:function(e){e.stopImmediatePropagation(),this._syncHiddenColumn(e.target,!0)}},{key:"_onBeforeColumnSort",value:function(e){e.stopImmediatePropagation();var t=this,n=e.target,i=e.detail.newSortableDirection;t.trigger("coral-table:beforecolumnsort",{column:n,direction:i}).defaultPrevented||(n.sortableDirection=i)}},{key:"_onColumnSort",value:function(e){if(e.stopImmediatePropagation(),this._allowSorting){var t=this,n=t.body,i=e.target,o=Gu(i),a=t._getColumnHeaderCell(i),r=e.detail.onInitialization,s=e.detail.sortableDirection,l=e.detail.sortableType,c=Ju([n]),u=[];t&&(t._preventTriggeringEvents=!0),c.forEach(function(e,t){void 0===e._defaultRowIndex&&(e._defaultRowIndex=t);var n=nd(e,o);n&&u.push(n)}),i.sortableDirection===s.ASCENDING?(Xu(i,'col[is="coral-table-column"]').forEach(function(e){e._preventSort=!0,e.setAttribute("sortabledirection",s.DEFAULT),e._preventSort=!1}),a&&Xu(a,'th[is="coral-table-headercell"]').forEach(function(e){e.setAttribute("sortabledirection",s.DEFAULT),e.setAttribute("aria-sort","none")}),u.sort(function(e,t){if(i.sortableType===l.ALPHANUMERIC){var n=e.value?e.value:e.textContent,o=t.value?t.value:t.textContent;return n.localeCompare(o)}if(i.sortableType===l.NUMBER){return parseFloat(e.value?e.value:e.textContent.replace(/\s+/g,"").replace(/,/g,"."))>parseFloat(t.value?t.value:t.textContent.replace(/\s+/g,"").replace(/,/g,"."))?1:-1}if(i.sortableType===l.DATE){return(e.value?new Date(parseInt(e.value,10)):new Date(e.textContent))>(t.value?new Date(parseInt(t.value,10)):new Date(t.textContent))?1:-1}}),i.sortableType!==l.CUSTOM&&(n&&u.forEach(function(e){var t=e.parentElement;t.locked||n.appendChild(t)}),t.trigger("coral-table:columnsort",{column:i})),c.forEach(function(e){e.dragAction&&e.dragAction.destroy()})):i.sortableDirection===s.DESCENDING?(Xu(i,'col[is="coral-table-column"]').forEach(function(e){e._preventSort=!0,e.setAttribute("sortabledirection",s.DEFAULT),e._preventSort=!1}),a&&Xu(a,'th[is="coral-table-headercell"]').forEach(function(e){e.setAttribute("sortabledirection",s.DEFAULT),e.setAttribute("aria-sort","none")}),u.sort(function(e,t){if(i.sortableType===l.ALPHANUMERIC){var n=e.value?e.value:e.textContent;return(t.value?t.value:t.textContent).localeCompare(n)}if(i.sortableType===l.NUMBER){return parseFloat(e.value?e.value:e.textContent.replace(/\s+/g,"").replace(/,/g,"."))<parseFloat(t.value?t.value:t.textContent.replace(/\s+/g,"").replace(/,/g,"."))?1:-1}if(i.sortableType===l.DATE){return(e.value?new Date(parseInt(e.value,10)):new Date(e.textContent))<(t.value?new Date(parseInt(t.value,10)):new Date(t.textContent))?1:-1}}),i.sortableType!==l.CUSTOM&&(n&&u.forEach(function(e){var t=e.parentElement;t.locked||n.appendChild(t)}),t.trigger("coral-table:columnsort",{column:i})),c.forEach(function(e){e.dragAction&&e.dragAction.destroy()})):i.sortableDirection!==s.DEFAULT||r||i.sortableType!==l.CUSTOM&&(c.sort(function(e,t){return e._defaultRowIndex>t._defaultRowIndex?1:-1}),c.forEach(function(e){n&&!e.locked&&n.appendChild(e)}),t.trigger("coral-table:columnsort",{column:i})),
window.requestAnimationFrame(function(){t._preventTriggeringEvents=!1})}}},{key:"_onHeadStickyChanged",value:function(e){e.stopImmediatePropagation();var t=this,n=e.target;n.classList.toggle("is-hidden",n.sticky),t._resetContainerLayout(n.sticky?n.getBoundingClientRect().height+"px":null),Ju([n]).forEach(function(e){td(e).forEach(function(e){t._toggleStickyHeaderCell(e,n.sticky)})}),t.classList.toggle(dd+"--sticky",n.sticky),t._resetLayout()}},{key:"_getColumnHeaderCell",value:function(e){var t=this,n=t.head,i=null;if(n){var o=Ju([n]),a=Gu(e);o.length&&(i=nd(o[o.length-1],a),i=i&&"TH"===i.tagName?i:null)}return i}},{key:"_getColumn",value:function(e){return Qu(this.columns)[Gu(e)]||null}},{key:"_toggleStickyHeaderCell",value:function(e,t){this._layoutStickyCell(e,t),this._toggleDragActionHandle(e,t),this._toggleHeaderCellTabIndex(e,t)}},{key:"_layoutStickyCell",value:function(e,t){if(t){var n=window.getComputedStyle(e);if(!e.style.minWidth){var i=e.content.getBoundingClientRect().width;i>0&&(e.style.minWidth=i+"px")}var o=parseFloat(n.width),a=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),r=parseFloat(n.borderRightWidth);e.content.style.width=o+a+r+"px"}else e.style.minWidth="",e.content.style.width="",e.content.style.height="",e.content.style.top="",e.content.style.marginLeft="",(_d||fd)&&(e.content.style.paddingTop="")}},{key:"_toggleDragActionHandle",value:function(e,t){var n=this._getColumn(e);if(e.dragAction&&e.dragAction.destroy(),e.content.dragAction&&e.content.dragAction.destroy(),n&&n.orderable){var i=new Gs(t?e.content:e);i.axis="horizontal",i.scroll=!1,e.setAttribute("orderable","")}else e.removeAttribute("orderable")}},{key:"_toggleFocusable",value:function(){var e=Ju([this.body])[0];if(e){var t=this._getFocusableItem();this.selectable||this.lockable||this.orderable?t||this._toggleElementTabIndex(e):t&&t.removeAttribute("tabindex")}}},{key:"_toggleElementTabIndex",value:function(e,t,n){t&&t.removeAttribute("tabindex"),e.setAttribute("tabindex","0"),n&&e.focus()}},{key:"_toggleHeaderCellTabIndex",value:function(e,t){var n=this._getColumn(e),i=n&&(n.sortable||n.orderable);e[i&&!t?"setAttribute":"removeAttribute"]("tabindex","0"),e.content[i&&t?"setAttribute":"removeAttribute"]("tabindex","0")}},{key:"_syncHiddenColumn",value:function(e,t){var n=this,i=Gu(e);-1!==i&&(Ju([n._elements.table]).forEach(function(t){var n=nd(t,i);n&&(n.hidden=e.hidden)}),t&&n._resetLayout())}},{key:"_isSorted",value:function(){var e=null;return!!Qu(this.columns).some(function(t){return e=t,t.sortableDirection!==Vu.sortableDirection.DEFAULT})&&e}},{key:"_focusEdgeItem",value:function(e,t){var n=Ju([this.body]);if(n.length){e.preventDefault();var i=this._getFocusableItem();i&&i.removeAttribute("tabindex"),i=n[t?0:n.length-1],i.setAttribute("tabindex","0"),i.focus()}}},{key:"_focusSiblingItem",value:function(e,t){var n=this._getFocusableItem();if(n){e.preventDefault();var i=Xu(n,'tr[is="coral-table-row"]',t?"next":"prev");i&&(n.removeAttribute("tabindex"),i.setAttribute("tabindex","0"),i.focus())}}},{key:"_selectSiblingItem",value:function(e){if(this.selectable&&this.multiple){var t=this.selectedItems,n=this._lastSelectedItems.items[this._lastSelectedItems.items.length-1];if(t.length){if(e&&n.matches(":last-of-type")||!e&&n.matches(":first-of-type"))return;var i=Xu(n,'tr[is="coral-table-row"]',e?"next":"prev");i.hasAttribute("selected")||(n=i),this._lastSelectedItems.direction=e?"down":"up",n.selected=!n.selected}else if(Ju([this.body]).length){var o=this._getFocusableItem();this._lastSelectedItems.direction=e?"down":"up",o.selected=!0}}var a=this;window.requestAnimationFrame(function(){var e=a._lastSelectedItems.items[a._lastSelectedItems.items.length-1];e&&a._focusItem(e,!0)})}},{key:"_getFocusableItem",value:function(){return this.body&&this.body.querySelector('tr[is="coral-table-row"][tabindex="0"]')}},{key:"_getFocusableHeaderCell",value:function(){return this.head&&this.head.querySelector('th[is="coral-table-headercell"][tabindex="0"], coral-table-headercell-label[tabindex="0"]')}},{key:"_addLastSelectedItem",value:function(e){-1===this._lastSelectedItems.items.indexOf(e)?this._lastSelectedItems.items.push(e):(this._removeLastSelectedItem(e),this._addLastSelectedItem(e))}},{key:"_removeLastSelectedItem",value:function(e){this._lastSelectedItems.items.splice(this._lastSelectedItems.items.indexOf(e),1)}},{key:"_focusItem",value:function(e,t){this._toggleElementTabIndex(e,this._getFocusableItem(),t)}},{key:"_onFocusFirstItem",value:function(e){this._focusEdgeItem(e,!0)}},{key:"_onFocusLastItem",value:function(e){this._focusEdgeItem(e,!1)}},{key:"_onFocusNextItem",value:function(e){this._focusSiblingItem(e,!0)}},{key:"_onFocusPreviousItem",value:function(e){this._focusSiblingItem(e,!1)}},{key:"_onSelectNextItem",value:function(){this._selectSiblingItem(!0)}},{key:"_onSelectPreviousItem",value:function(){this._selectSiblingItem(!1)}},{key:"_resetLayout",value:function(){if(!this._preventResetLayout){null!==this._timeout&&window.clearTimeout(this._timeout);var e=this;this._timeout=window.setTimeout(function(){e._timeout=null,e._resizeStickyHead(),e._resizeContainer()},this._wait)}}},{key:"_resizeStickyHead",value:function(){var e=this,t=e.head;t&&t.sticky&&Ju([t]).forEach(function(t){td(t).forEach(function(t){e._layoutStickyCell(t,!0)})})}},{key:"_resizeContainer",value:function(){var e=this,t=e.head;if(t&&t.sticky){var n=0,i=0;Ju([t]).forEach(function(t,o){var a=td(t);if(a.length){var r=window.getComputedStyle(a[0].content),s=0,l=parseFloat(r.minHeight),c=parseFloat(r.borderTopWidth);a.forEach(function(e){e.content.style.height="",s=Math.max(s,e.content.getBoundingClientRect().height)}),n+=s,a.forEach(function(t){if(s-c!==l&&(t.content.style.height=s+"px"),(_d||fd)&&t.content.textContent.trim().length){var n=t.content.getBoundingClientRect().height,a=document.createElement("span");for(e._preventResetLayout=!0;t.content.firstChild;)a.appendChild(t.content.firstChild);t.content.appendChild(a);for(var r=a.getBoundingClientRect().height,u=(n-r)/2;a.firstChild;)t.content.appendChild(a.firstChild);t.content.removeChild(a),t.content.style.paddingTop=u+"px",window.requestAnimationFrame(function(){e._preventResetLayout=!1})}i=i||s,t.content.style.top=(o>0?i*o+c*(o-1):0)+"px"})}});var o=window.getComputedStyle(this._elements.container),a=parseFloat(o.borderTopWidth),r=parseFloat(o.borderBottomWidth),s=a+r,l=n+"px",c="calc(100% - "+(n+s)+"px)";this._resetContainerLayout(l,c),t.classList.remove("is-hidden")}else this._resetContainerLayout()}},{key:"_resetContainerLayout",value:function(e,t){this._elements.container.style.marginTop=e||"",this._elements.container.style.height=t||""}},{key:"_resetHiddenColumns",value:function(){var e=this;Qu(this.columns).forEach(function(t){e._syncHiddenColumn(t)},this)}},{key:"_onScroll",value:function(){var e=this,t=e.head,n=e._elements.container.scrollLeft;e._lastScrollLeft!==n&&(e._lastScrollLeft=n,t&&t.sticky&&(t.style.margin="1px",window.requestAnimationFrame(function(){if(t.style.margin="",!e._preventLayoutStickyCellOnScroll){var i=t.querySelector('tr[is="coral-table-row"] th[is="coral-table-headercell"]');i&&(e._layoutStickyCellOnScroll||1===i.content.offsetLeft?(e._layoutStickyCellOnScroll=!0,Ju([t]).forEach(function(e){td(e).forEach(function(e){var t=parseFloat(window.getComputedStyle(e).paddingLeft);e.content.style.marginLeft="-"+(n+t)+"px"})})):e._preventLayoutStickyCellOnScroll=!0)}})))}},{key:"_setHeaderCellScope",value:function(e,t){var n="THEAD"===t.nodeName||"TFOOT"===t.nodeName?"col":"row",i="col"===n?"columnheader":"rowheader";e.setAttribute("role",i),e.setAttribute("scope",n)}},{key:"_handleMutations",value:function(e){var t=this,n=!1;e.forEach(function(e){for(var i=0;i<e.addedNodes.length;i++){var o=e.addedNodes[i];n=n||o instanceof Zu||o instanceof Ku||o instanceof Wu||o instanceof sd||o instanceof ld||o instanceof cd}for(var a=0;a<e.removedNodes.length;a++){var r=e.removedNodes[a];r instanceof ld&&t._onBodyContentChanged({target:r,detail:{addedNodes:[],removedNodes:Ju([r])}})}},this),n&&this._resetHiddenColumns(),this._resetLayout()}},{key:"connectedCallback",value:function(){var e=this;Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add(dd),(_d||fd)&&this.classList.add(dd+"--IE"),this.setAttribute("role","presentation"),this._variant||(this.variant=hd.DEFAULT);var n=this._elements.head,i=this._elements.body,o=this._elements.foot,a=this._elements.columns,r=document.createDocumentFragment();if(r.appendChild(this._elements.container),this._observer.disconnect(),!i.parentNode){var s=this.querySelector("tbody");if(s){for(;s.firstChild;)i.appendChild(s.firstChild);s.remove()}}this.head=n,this.body=i,this.foot=o,this.columns=a;var l=this.querySelector(".coral-Table-wrapper-container"),c=this.querySelector("object");l&&l.remove(),c&&c.parentNode===this&&this.removeChild(c),this.appendChild(r),this._observer.observe(this,{childList:!0,subtree:!0}),Ju([this._elements.table]).forEach(function(t){td(t).forEach(function(n){e._setHeaderCellScope(n,t.parentNode)},e)},this),Yt.addResizeListener(this,this._resetLayout);var u=Ju([this.body]);if(this._toggleInteractivity(0===u.length),this.selectable){var d=this.selectedItems;this._syncSelectAllHandle(d,u),d.length&&(this._oldSelection=d,this._lastSelectedItems.items=d)}this._allowSorting=!0;var h=this._isSorted();h&&h._doSort(!0)}},{key:"head",get:function(){return this._getContentZone(this._elements.head)},set:function(e){this._setContentZone("head",e,{handle:"head",tagName:"thead",insert:function(e){this._elements.table.tHead=e}})}},{key:"body",get:function(){return this._getContentZone(this._elements.body)},set:function(e){this._setContentZone("body",e,{handle:"body",tagName:"tbody",insert:function(e){this._elements.table.appendChild(e)}})}},{key:"foot",get:function(){return this._getContentZone(this._elements.foot)},set:function(e){this._setContentZone("foot",e,{handle:"foot",tagName:"tfoot",insert:function(e){this._elements.table.tFoot=e}})}},{key:"columns",get:function(){return this._getContentZone(this._elements.columns)},set:function(e){this._setContentZone("columns",e,{handle:"columns",tagName:"colgroup",insert:function(e){this._elements.table.appendChild(e)}})}},{key:"variant",get:function(){return this._variant||hd.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(hd)(e)&&e||hd.DEFAULT,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,pd),this.classList.add(dd+"--"+this._variant)}},{key:"selectable",get:function(){return this._selectable||!1},set:function(e){this._selectable=An.booleanAttr(e),this._reflectAttribute("selectable",this._selectable);var t=Ju([this.body]);this._selectable?t.forEach(function(e){e.setAttribute("_selectable","")}):(t.forEach(function(e){e.removeAttribute("_selectable")}),this.trigger("coral-table:change",{selection:[],oldSelection:this._oldSelection}),this._oldSelection=[],this._lastSelectedItems.items=[]),this._toggleFocusable()}},{key:"orderable",get:function(){return this._orderable||!1},set:function(e){var t=this;this._orderable=An.booleanAttr(e),this._reflectAttribute("orderable",this._orderable),Ju([this.body]).forEach(function(e){e[t._orderable?"setAttribute":"removeAttribute"]("_orderable","")},this),this._toggleFocusable()}},{key:"multiple",get:function(){return this._multiple||!1},set:function(e){if(this._multiple=An.booleanAttr(e),this._reflectAttribute("multiple",this._multiple),this._elements.table.setAttribute("aria-multiselectable",this._multiple),!this.multiple){var t=this.selectedItems;if(t.length>1){t.forEach(function(e,n){e.set("selected",n===t.length-1,!0)});var n=this.selectedItems;n.length?this._setSelectAllHandleState("indeterminate"):this._setSelectAllHandleState("unchecked"),this.trigger("coral-table:change",{selection:n,oldSelection:t}),this._oldSelection=n,this._lastSelectedItems.items=n}}}},{key:"lockable",get:function(){return this._lockable||!1},set:function(e){var t=this;this._lockable=An.booleanAttr(e),this._reflectAttribute("lockable",this._lockable),Ju([this.body]).forEach(function(e){e[t._lockable?"setAttribute":"removeAttribute"]("_lockable","")},this),this._toggleFocusable()}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getFirstSelected()}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,container:this.body,itemBaseTagName:"tr",itemTagName:"coral-table-row"})),this._items}},{key:"defaultContentZone",get:function(){return this.body},set:function(e){this.body=e}},{key:"_contentZones",get:function(){return{tbody:"body",thead:"head",tfoot:"foot",colgroup:"columns"}}}],[{key:"variant",get:function(){return hd}},{key:"divider",get:function(){return id}},{key:"observedAttributes",get:function(){return["variant","selectable","orderable","multiple","lockable"]}}]),t}(Pn(HTMLTableElement)),bd=function(){return document.createElement("coral-table-headercell-content")};window.customElements.define("coral-table-column",Vu,{extends:"col"}),window.customElements.define("coral-table-cell",Ku,{extends:"td"}),window.customElements.define("coral-table-headercell",Zu,{extends:"th"}),window.customElements.define("coral-table-row",Wu,{extends:"tr"}),window.customElements.define("coral-table-head",sd,{extends:"thead"}),window.customElements.define("coral-table-body",ld,{extends:"tbody"}),window.customElements.define("coral-table-foot",cd,{extends:"tfoot"}),window.customElements.define("coral-table",gd,{extends:"table"}),window.Coral=window.Coral||{},window.Coral.Table=gd,window.Coral.Table.Column=Vu,window.Coral.Table.Cell=Ku,window.Coral.Table.HeaderCell=Zu,window.Coral.Table.HeaderCell.Content=bd,window.Coral.Table.Row=Wu,window.Coral.Table.Head=sd,window.Coral.Table.Body=ld,window.Coral.Table.Foot=cd;var yd=function(e){var t=document.createDocumentFragment(),n=this.icon=document.createElement("coral-icon");n.setAttribute("handle","icon"),n.setAttribute("size","S"),t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},Cd=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={label:e.querySelector("coral-tab-label")||document.createElement("coral-tab-label")},yd.call(e._elements),e}return Bt(t,e),Ft(t,[{key:"_selectTarget",value:function(){var e=pt(this.target);if(e)e.setAttribute("selected","");else{var t=this.parentNode;if(t&&t.target&&(e=pt(t.target))){var n=t.items.getAll().indexOf(this),i=(e.items?e.items.getAll():e.children)[n];i&&i.setAttribute("selected","")}}}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Tab"),this.setAttribute("role","tab"),this.setAttribute("id",this.id||Yt.getUID());var e=document.createDocumentFragment();this.icon&&e.appendChild(this._elements.icon);var n=this._elements.label;for(n.parentNode&&n.parentNode.removeChild(n);this.firstChild;){var i=this.firstChild;i.nodeType===Node.TEXT_NODE||i.nodeType===Node.ELEMENT_NODE&&"icon"!==i.getAttribute("handle")?n.appendChild(i):this.removeChild(i)}this.appendChild(e),this.label=n,this.selected&&this._selectTarget()}},{key:"label",get:function(){return this._getContentZone(this._elements.label)},set:function(e){this._setContentZone("label",e,{handle:"label",tagName:"coral-tab-label",insert:function(e){this.appendChild(e)}})}},{key:"icon",get:function(){var e=this._elements.icon;return e?e.icon:""},set:function(e){var t=this._elements.icon;t.icon=e,""===this.icon?t.remove():t.parentNode||this.insertBefore(t,this.firstChild)}},{key:"invalid",get:function(){return this._invalid||!1},set:function(e){this._invalid=An.booleanAttr(e),this._reflectAttribute("invalid",this._invalid),this.classList.toggle("is-invalid",this._invalid),this.setAttribute("aria-invalid",this._invalid)}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this.disabled),this.setAttribute("aria-disabled",this.disabled),this._disabled&&this.selected&&(this.selected=!1),this._disabled||this.selected||this.trigger("coral-tab:_validateselection")}},{key:"selected",get:function(){return this._selected||!1},set:function(e){(!(e=An.booleanAttr(e))||e&&!this.disabled)&&(this._selected=e,this._reflectAttribute("selected",!this.disabled&&this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("tabindex",this._selected?"0":"-1"),this.setAttribute("aria-selected",this._selected),this._selected&&this._selectTarget(),this.trigger("coral-tab:_selectedchanged"))}},{key:"target",get:function(){return"string"==typeof this._target?this._target:this._target||null},set:function(e){if(null===e||"string"==typeof e||e instanceof Node){this._target=e;var t=pt(this.target);t&&(this.setAttribute("aria-controls",t.id),t.setAttribute("aria-labelledby",this.id))}}},{key:"defaultContentZone",get:function(){return this.label},set:function(e){this.label=e}},{key:"_contentZones",get:function(){return{"coral-tab-label":"label"}}}],[{key:"observedAttributes",get:function(){return["selected","disabled","icon","invalid","target"]}}]),t}(Pn(HTMLElement)),kd=function(){return document.createElement("coral-tab-label")},Ad={MEDIUM:"M",LARGE:"L"},wd={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Ed=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({"click > coral-tab":"_onTabClick","key:home > coral-tab":"_onHomeKey","key:end > coral-tab":"_onEndKey","key:pagedown > coral-tab":"_selectNextItem","key:right > coral-tab":"_selectNextItem","key:down > coral-tab":"_selectNextItem","key:pageup > coral-tab":"_selectPreviousItem","key:left > coral-tab":"_selectPreviousItem","key:up > coral-tab":"_selectPreviousItem","coral-tab:_selectedchanged":"_onItemSelectedChanged","coral-tab:_validateselection":"_onValidateSelection"}),e._oldSelection=null,e.items._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onItemAdded",value:function(e){this.selectedItem?this._validateSelection(e):e.setAttribute("selected","")}},{key:"_onItemRemoved",value:function(){this.selectedItem||this._selectFirstItem()}},{key:"_onTabClick",value:function(e){e.preventDefault();var t=e.matchedTarget;this._toggleItemSelectionAndFocus(t)}},{key:"_onHomeKey",value:function(e){e.preventDefault();var t=this.items._getFirstSelectable();this._toggleItemSelectionAndFocus(t)}},{key:"_onEndKey",value:function(e){e.preventDefault();var t=this.items._getLastSelectable();this._toggleItemSelectionAndFocus(t)}},{key:"_selectNextItem",value:function(e){e.preventDefault();var t=this.selectedItem;this._toggleItemSelectionAndFocus(this.items._getNextSelectable(t))}},{key:"_selectPreviousItem",value:function(e){e.preventDefault();var t=this.selectedItem;this._toggleItemSelectionAndFocus(this.items._getPreviousSelectable(t))}},{key:"_toggleItemSelectionAndFocus",value:function(e){e&&!e.hasAttribute("selected")&&(e.setAttribute("selected",""),e.focus())}},{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation(),this._validateSelection(e.target)}},{key:"_onValidateSelection",value:function(e){e.stopImmediatePropagation(),this._validateSelection()}},{key:"_selectFirstItem",value:function(){var e=this.items._getFirstSelectable();e&&e.setAttribute("selected","")}},{key:"_validateSelection",value:function(e){var t=this,n=this.items._getAllSelected();if(e)if(e.hasAttribute("selected")||n.length)e.hasAttribute("selected")&&n.length>1&&(n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1);else{var i=this.items._getNextSelectable(e);e!==i&&i.setAttribute("selected","")}else n.length>1?(e=n[n.length-1],n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1):n.length||this._selectFirstItem();this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItem,t=this._oldSelection;this._preventTriggeringEvents||e===t||(this.trigger("coral-tablist:change",{oldSelection:t,selection:e}),this._oldSelection=e)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-TabList"),this._size||(this.size=Ad.MEDIUM),this._orientation||(this.orientation=wd.HORIZONTAL),this.setAttribute("role","tablist"),this.setAttribute("aria-multiselectable","false"),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItem}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-tab",onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"selectedItem",get:function(){return this.items._getLastSelected()}},{key:"target",get:function(){return"string"==typeof this._target?this._target:this._target||null},set:function(e){if(null===e||"string"==typeof e||e instanceof Node){this._target=e;var t=this;window.requestAnimationFrame(function(){var e=pt(t._target);if(e)for(var n=t.items.getAll(),i=e.items?e.items.getAll():e.children,o=Math.max(n.length,i.length),a=void 0,r=void 0,s=0;s<o;s++)a=n[s],r=i[s],a&&a.target&&""!==a.target.trim()||(a&&r?(a.id=a.id||Yt.getUID(),r.id=r.id||Yt.getUID(),a.setAttribute("aria-controls",r.id),r.setAttribute("aria-labelledby",a.id)):a?a.removeAttribute("aria-controls"):r.removeAttribute("aria-labelledby"))})}}},{key:"size",get:function(){return this._size||Ad.MEDIUM},set:function(e){e=An.string(e).toUpperCase(),this._size=En.enumeration(Ad)(e)&&e||Ad.MEDIUM,this._reflectAttribute("size",this._size),this.classList[this._size===Ad.LARGE?"add":"remove"]("coral3-TabList--large")}},{key:"orientation",get:function(){return this._orientation||wd.HORIZONTAL},set:function(e){e=An.string(e).toLowerCase(),this._orientation=En.enumeration(wd)(e)&&e||wd.HORIZONTAL,this._reflectAttribute("orientation",this._orientation),this.classList[this._orientation===wd.VERTICAL?"add":"remove"]("coral3-TabList--vertical")}}],[{key:"size",get:function(){return Ad}},{key:"orientation",get:function(){return wd}},{key:"observedAttributes",get:function(){return["target","size","orientation"]}}]),t}(Pn(HTMLElement));window.customElements.define("coral-tab",Cd),window.customElements.define("coral-tablist",Ed),window.Coral=window.Coral||{},window.Coral.Tab=Cd,window.Coral.Tab.Label=kd,window.Coral.TabList=Ed;var Td={HORIZONTAL:"horizontal",VERTICAL:"vertical"},Sd=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={tabList:e.querySelector("coral-tablist")||document.createElement("coral-tablist"),panelStack:e.querySelector("coral-panelstack")||document.createElement("coral-panelstack")},e._delegateEvents({"coral-tablist:change > coral-tablist":"_onTabListChange","coral-panelstack:change > coral-panelstack":"_onPanelStackChange","coral-collection:add > coral-tablist":"_syncTabListAndPanelStack","coral-collection:remove > coral-tablist":"_syncTabListAndPanelStack","coral-collection:add > coral-panelstack":"_syncTabListAndPanelStack","coral-collection:remove > coral-panelstack":"_syncTabListAndPanelStack"}),e}return Bt(t,e),Ft(t,[{key:"_onTabListChange",value:function(e){this.trigger("coral-tabview:change",{selection:e.detail.selection,oldSelection:e.detail.oldSelection})}},{key:"_onPanelStackChange",value:function(e){if(e.detail.selection){var t=e.detail.selection.getAttribute("aria-labelledby"),n=document.getElementById(t);n&&!n.hasAttribute("selected")&&n.setAttribute("selected","")}}},{key:"_syncTabListAndPanelStack",value:function(){this._elements.tabList.target=this._elements.tabList.target}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-TabView"),this._orientation||(this.orientation=this.orientation);var e=this._elements.tabList,n=this._elements.panelStack;n.id=n.id||Yt.getUID(),e.setAttribute("target","#"+n.id),this.panelStack=n,this.tabList=e}},{key:"orientation",get:function(){return this._elements.tabList.getAttribute("orientation")||Td.HORIZONTAL},set:function(e){this._elements.tabList.setAttribute("orientation",e),this._reflectAttribute("orientation",this.orientation),this.classList[this.orientation===Td.VERTICAL?"add":"remove"]("coral3-TabView--vertical")}},{key:"tabList",get:function(){return this._getContentZone(this._elements.tabList)},set:function(e){this._setContentZone("tabList",e,{handle:"tabList",tagName:"coral-tablist",insert:function(e){this.insertBefore(e,this._elements.panelStack||null)}})}},{key:"panelStack",get:function(){return this._getContentZone(this._elements.panelStack)},set:function(e){this._setContentZone("panelStack",e,{handle:"panelStack",tagName:"coral-panelstack",insert:function(e){this.appendChild(e)}})}},{key:"_contentZones",get:function(){return{"coral-tablist":"tabList","coral-panelstack":"panelStack"}}}],[{key:"orientation",get:function(){return Td}},{key:"observedAttributes",get:function(){return["orientation"]}}]),t}(Pn(HTMLElement));window.customElements.define("coral-tabview",Sd),window.Coral=window.Coral||{},window.Coral.TabView=Sd;var xd={DEFAULT:"default",QUIET:"quiet"},Ld=[];for(var Od in xd)Ld.push("coral3-Textfield--"+xd[Od]);var Id=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents(Yt.extend(e._events,{input:"_onInput"})),e}return Bt(t,e),Ft(t,[{key:"reset",value:function(){this.value=this.textContent}},{key:"_onInput",value:function(){this.variant===xd.QUIET&&(this.style.height="auto",this.style.height=this.scrollHeight+"px")}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Textfield"),this.classList.add("coral3-Textfield--multiline"),this._variant||(this.variant=xd.DEFAULT)}},{key:"variant",get:function(){return this._variant||xd.DEFAULT},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(xd)(e)&&e||xd.DEFAULT,this._reflectAttribute("variant",this._variant),(t=this.classList).remove.apply(t,Ld),this._variant!==xd.DEFAULT&&this.classList.add("coral3-Textfield--"+this._variant),this._variant===xd.QUIET?this._defaultHeight=this._defaultHeight||this.style.height:(this.style.height=this._defaultHeight,this._defaultHeight=void 0),this._onInput()}}],[{key:"variant",get:function(){return xd}},{key:"observedAttributes",get:function(){return Ht(t.__proto__||Object.getPrototypeOf(t),"_nativeObservedAttributes",this).concat(["variant"])}}]),t}(yo(Pn(HTMLTextAreaElement)));window.customElements.define("coral-textarea",Id,{extends:"textarea"}),window.Coral=window.Coral||{},window.Coral.Textarea=Id;var Nd=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._delegateEvents({"click .coral3-Tree-header":"_onItemClick","click .coral3-Tree-collapseExpand":"_onExpandCollapseClick","coral-collection:add coral-tree-item":"_onCollectionChange","coral-collection:remove coral-tree-item":"_onCollectionChange","key:space .coral3-Tree-header":"_onItemClick","key:enter .coral3-Tree-header":"_onExpandCollapseClick","key:pageup .coral3-Tree-header":"_onFocusPreviousItem","key:left .coral3-Tree-header":"_onFocusPreviousItem","key:up .coral3-Tree-header":"_onFocusPreviousItem","key:pagedown .coral3-Tree-header":"_onFocusNextItem","key:right .coral3-Tree-header":"_onFocusNextItem","key:down .coral3-Tree-header":"_onFocusNextItem","key:home .coral3-Tree-header":"_onFocusFirstItem","key:end .coral3-Tree-header":"_onFocusLastItem","coral-tree-item:_selectedchanged":"_onItemSelectedChanged","coral-tree-item:_disabledchanged":"_onFocusableChanged","coral-tree-item:_expandedchanged":"_onFocusableChanged","coral-tree-item:_afterexpandedchanged":"_onExpandedChanged","coral-tree-item:_hiddenchanged":"_onFocusableChanged"}),e._oldSelection=[],e.items._startHandlingItems(!0);var n=e;return new MutationObserver(function(e){e.forEach(function(e){for(var t=0;t<e.addedNodes.length;t++){var n=e.addedNodes[t];"CORAL-TREE-ITEM"===n.tagName&&n.parentNode.tagName===n.tagName&&n.parentNode._elements.subTreeContainer.appendChild(n)}})}).observe(n,{childList:!0,subtree:!0}),e}return Bt(t,e),Ft(t,[{key:"_onItemSelectedChanged",value:function(e){e.stopImmediatePropagation(),this._validateSelection(e.target)}},{key:"_validateSelection",value:function(e){var t=this,n=this.selectedItems;this.multiple||(e=e||n[n.length-1])&&e.hasAttribute("selected")&&n.length>1&&(n.forEach(function(n){n!==e&&(t._preventTriggeringEvents=!0,n.removeAttribute("selected"))},this),this._preventTriggeringEvents=!1),this._triggerChangeEvent()}},{key:"_triggerChangeEvent",value:function(){var e=this.selectedItems,t=this._oldSelection;!this._preventTriggeringEvents&&this._arraysAreDifferent(e,t)&&(this.multiple?this.trigger("coral-tree:change",{oldSelection:t,selection:e}):this.trigger("coral-tree:change",{oldSelection:t.length>1?t:t[0]||null,selection:e[0]||null}),this._oldSelection=e)}},{key:"_arraysAreDifferent",value:function(e,t){var n=[];return t.length===e.length&&(n=t.filter(function(t){return-1===e.indexOf(t)})),t.length!==e.length||0!==n.length}},{key:"_toggleItemAttribute",value:function(e,t){e&&e[e.hasAttribute(t)?"removeAttribute":"setAttribute"](t,"")}},{key:"_onCollectionChange",value:function(e){e.stopImmediatePropagation()}},{key:"_onItemClick",value:function(e){if(!e.target.hasAttribute("coral-interactive")&&!e.target.closest("[coral-interactive]")){var t=e.target.closest("coral-tree-item");if(t&&!t.hasAttribute("disabled")){e.preventDefault(),e.stopPropagation(),this._toggleItemAttribute(t,"selected");var n=this._getFocusable();n&&n.setAttribute("tabindex","-1"),t._elements.header.setAttribute("tabindex","0"),t._elements.header.focus()}}}},{key:"_onExpandCollapseClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest("coral-tree-item");if(t){if(t.hasAttribute("disabled"))return;this._toggleItemAttribute(t,"expanded")}}},{key:"_focusSiblingItem",value:function(e,t){var n=this._getFocusableItems();if(!(n.length<2)){var i=n.indexOf(e)+(t?1:-1),o=null;for(i>n.length-1?o=n[0]:i<0&&(o=n[n.length-1]);!o;)o=n[i],o.parentNode.closest("coral-tree-item.is-collapsed")&&(t?(i++,o=i>n.length-1?e:null):(i--,o=i<0?e:null));o!==e&&(e._elements.header.setAttribute("tabindex","-1"),o._elements.header.setAttribute("tabindex","0"),o._elements.header.focus())}}},{key:"_focusEdgeItem",value:function(e){var t=this._getFocusable();if(t){var n=this._getFocusableItems(),i=n[e?n.length-1:0];i!==t&&(t.setAttribute("tabindex","-1"),i._elements.header.setAttribute("tabindex","0"),i._elements.header.focus())}}},{key:"_onFocusNextItem",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest("coral-tree-item");t&&this._focusSiblingItem(t,!0)}},{key:"_onFocusPreviousItem",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest("coral-tree-item");t&&this._focusSiblingItem(t,!1)}},{key:"_onFocusFirstItem",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusEdgeItem(!1)}},{key:"_onFocusLastItem",value:function(e){e.preventDefault(),e.stopPropagation(),this._focusEdgeItem(!0)}},{key:"_onFocusableChanged",value:function(e){e.preventDefault(),e.stopPropagation(),e.target.contains(this._getFocusable())&&this._resetFocusableItem()}},{key:"_onExpandedChanged",value:function(e){e.stopImmediatePropagation();var t=e.target
;this.trigger("coral-tree:"+(t.expanded?"expand":"collapse"),{item:t})}},{key:"_getFocusable",value:function(){return this.querySelector('coral-tree-item > .coral3-Tree-header[tabindex="0"]')}},{key:"_getFocusableItems",value:function(){return this.items.getAll().filter(function(e){return!e.closest("coral-tree-item[disabled]")&&!e.closest("coral-tree-item[hidden]")})}},{key:"_resetFocusableItem",value:function(e){var t=this._getFocusable();t&&t.setAttribute("tabindex","-1"),(e=e||this._getFocusableItems()[0])&&e._elements.header.setAttribute("tabindex","0")}},{key:"_expandCollapseAll",value:function(e){var t=this.querySelectorAll("coral-tree-item");if(t){var n=void 0,i=t.length;if(i>0)for(var o=0;o<i;o++)(n=t[o])&&(n.expanded=e)}}},{key:"expandAll",value:function(){this._expandCollapseAll(!0)}},{key:"collapseAll",value:function(){this._expandCollapseAll(!1)}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Tree"),this.setAttribute("role","tree"),this.setAttribute("aria-multiselectable",this.multiple);var e=this;window.customElements.whenDefined("coral-tree-item").then(function(){e._resetFocusableItem()}),this._preventTriggeringEvents=!0,this._validateSelection(),this._preventTriggeringEvents=!1,this._oldSelection=this.selectedItems}},{key:"items",get:function(){return this._items||(this._items=new jn({host:this,itemTagName:"coral-tree-item"})),this._items}},{key:"multiple",get:function(){return this._multiple||!1},set:function(e){this._multiple=An.booleanAttr(e),this._reflectAttribute("multiple",this._multiple),this.setAttribute("aria-multiselectable",this._multiple),this._validateSelection()}},{key:"selectedItems",get:function(){return this.items._getAllSelected()}},{key:"selectedItem",get:function(){return this.items._getAllSelected()[0]||null}}],[{key:"observedAttributes",get:function(){return["multiple"]}}]),t}(Pn(HTMLElement)),Md=function(e){var t=document.createDocumentFragment(),n=this.header=document.createElement("div");n.className+=" coral3-Tree-header",n.setAttribute("tabindex","-1"),n.setAttribute("role","tab"),n.id=Coral.commons.getUID(),n.setAttribute("handle","header");var i=document.createTextNode("\n  ");n.appendChild(i);var o=this.icon=document.createElement("coral-icon");o.className+=" coral3-Tree-collapseExpand",o.setAttribute("size","xs"),o.setAttribute("handle","icon"),o.setAttribute("role","img"),o.setAttribute("icon","chevronRight"),n.appendChild(o);var a=document.createTextNode("\n  ");n.appendChild(a);var r=this.contentContainer=document.createElement("div");r.className+=" coral3-Tree-contentContainer",r.setAttribute("handle","contentContainer"),n.appendChild(r);var s=document.createTextNode("\n");n.appendChild(s),t.appendChild(n);var l=document.createTextNode("\n");t.appendChild(l);var c=this.subTreeContainer=document.createElement("div");c.className+=" coral3-Tree-subTree",c.setAttribute("handle","subTreeContainer"),c.id=Coral.commons.getUID(),c.setAttribute("role","tabpanel"),t.appendChild(c);var u=document.createTextNode("\n");return t.appendChild(u),t},Dd=function(e){var t=document.createDocumentFragment(),n=document.createElement("span");n.className+=" coral3-Tree-item-spacer",t.appendChild(n);var i=document.createTextNode("\n");return t.appendChild(i),t},Pd={true:"chevronDown",false:"chevronRight"},Fd={DRILLDOWN:"drilldown",LEAF:"leaf"},Hd=[];for(var Bd in Fd)Hd.push("coral3-Tree-item--"+Fd[Bd]);var Rd=function(e){if(e)for(var t=e._parent;t;){var n=e._elements.header;n&&n.insertBefore(Dd(),n.firstChild),t=t._parent}},jd=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._elements={content:e.querySelector("coral-tree-item-content")||document.createElement("coral-tree-item-content")},Md.call(e._elements),e.items._startHandlingItems(),e}return Bt(t,e),Ft(t,[{key:"_filterItem",value:function(e){return e.parentNode&&e.parentNode.parentNode===this||e._parent===this}},{key:"_onItemAdded",value:function(e){e._parent=this,Rd(e)}},{key:"_onItemRemoved",value:function(e){e._parent=void 0}},{key:"focus",value:function(){this._elements.header.focus()}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-Tree-item"),this.setAttribute("role","treeitem"),this.setAttribute("aria-selected",this.selected),this._elements.header.setAttribute("aria-controls",this._elements.subTreeContainer.id),this._elements.subTreeContainer.setAttribute("aria-labelledby",this._elements.header.id),this._variant||(this.variant=Fd.DRILLDOWN),this.expanded=this.expanded;var e=document.createDocumentFragment(),n=["header","icon","contentContainer","subTreeContainer"],i=this.querySelector(".coral3-Tree-header");if(i)for(var o=i.querySelectorAll(".coral3-Tree-item-spacer"),a=0;a<o.length;a++)this._elements.header.insertBefore(o[a],this._elements.header.firstChild);var r=this.querySelector(".coral3-Tree-subTree");if(r)for(var s=r.querySelectorAll("coral-tree-item"),l=0;l<s.length;l++)this._elements.subTreeContainer.appendChild(s[l]);e.appendChild(this._elements.header),e.appendChild(this._elements.subTreeContainer);var c=this._elements.content,u=this._elements.subTreeContainer;for(this.content=c;this.firstChild;){var d=this.firstChild;"CORAL-TREE-ITEM"===d.nodeName?(d._parent=this,u.appendChild(d)):d.nodeType===Node.TEXT_NODE||d.nodeType===Node.ELEMENT_NODE&&-1===n.indexOf(d.getAttribute("handle"))?c.appendChild(d):this.removeChild(d)}this.appendChild(e)}},{key:"parent",get:function(){return this._parent||null}},{key:"content",get:function(){return this._getContentZone(this._elements.content)},set:function(e){this._setContentZone("content",e,{handle:"content",tagName:"coral-tree-item-content",insert:function(e){this._elements.contentContainer.appendChild(e)}})}},{key:"items",get:function(){return this._items||(this._items=new Rn({host:this,itemTagName:"coral-tree-item",itemSelector:":scope > coral-tree-item",container:this._elements.subTreeContainer,filter:this._filterItem.bind(this),onItemAdded:this._onItemAdded,onItemRemoved:this._onItemRemoved})),this._items}},{key:"expanded",get:function(){return this._expanded||!1},set:function(e){e=An.booleanAttr(e);var t=this.expanded!==e;this._expanded=e,this._reflectAttribute("expanded",this._expanded);var n=this._elements.header,i=this._elements.icon,o=this._elements.subTreeContainer;this.classList.toggle("is-expanded",this._expanded),this.classList.toggle("is-collapsed",!this._expanded),n.setAttribute("aria-expanded",this._expanded),o.setAttribute("aria-hidden",!this._expanded),i.icon=Pd[this._expanded],this.trigger("coral-tree-item:_expandedchanged");var a=this;window.requestAnimationFrame(function(){if(a._animate){Yt.transitionEnd(o,function(){a.expanded?o.style.height="":o.hidden=!0,t&&a.trigger("coral-tree-item:_afterexpandedchanged")}),a.expanded?o.hidden=!1:o.style.height=o.scrollHeight+"px";o.offsetHeight;o.style.height=a.expanded?o.scrollHeight+"px":0}else a._animate=!0,a.expanded||(o.style.height=0,o.hidden=!0)})}},{key:"variant",get:function(){return this._variant||Fd.DRILLDOWN},set:function(e){var t;e=An.string(e).toLowerCase(),this._variant=En.enumeration(Fd,e)&&e||Fd.DRILLDOWN,(t=this.classList).remove.apply(t,Hd),this.classList.add("coral3-Tree-item--"+this._variant)}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=An.booleanAttr(e),this._reflectAttribute("selected",this._selected),this.classList.toggle("is-selected",this._selected),this.setAttribute("aria-selected",this._selected),this.trigger("coral-tree-item:_selectedchanged")}},{key:"disabled",get:function(){return this._disabled||!1},set:function(e){this._disabled=An.booleanAttr(e),this._reflectAttribute("disabled",this._disabled),this.classList.toggle("is-disabled",this._disabled),this._elements.header.setAttribute("aria-disabled",this._disabled),this.trigger("coral-tree-item:_disabledchanged")}},{key:"hidden",get:function(){return this.hasAttribute("hidden")},set:function(e){this._reflectAttribute("hidden",An.booleanAttr(e)),this.trigger("coral-tree-item:_hiddenchanged")}},{key:"defaultContentZone",get:function(){return this.content},set:function(e){this.content=e}},{key:"_contentZones",get:function(){return{"coral-tree-item-content":"content"}}}],[{key:"variant",get:function(){return Fd}},{key:"observedAttributes",get:function(){return["selected","disabled","variant","expanded","hidden"]}}]),t}(Pn(HTMLElement)),qd=function(){return document.createElement("coral-tree-item-content")};window.customElements.define("coral-tree",Nd),window.customElements.define("coral-tree-item",jd),window.Coral=window.Coral||{},window.Coral.Tree=Nd,window.Coral.Tree.Item=jd,window.Coral.Tree.Item.Content=qd;var zd=function(e){function t(){Pt(this,t);var e=Rt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._delegateEvents({"coral-steplist:change coral-steplist[coral-wizardview-steplist]":"_onStepListChange","click [coral-wizardview-previous]":"_onPreviousClick","click [coral-wizardview-next]":"_onNextClick"}),e.stepLists._startHandlingItems(!0),e.panelStacks._startHandlingItems(!0),e}return Bt(t,e),Ft(t,[{key:"_onItemAdded",value:function(e){this._selectItemByIndex(e,this._getSelectedIndex())}},{key:"_onNextClick",value:function(e){e.stopPropagation(),this.next()}},{key:"_onPreviousClick",value:function(e){e.stopPropagation(),this.previous()}},{key:"_onStepListChange",value:function(e){e.stopPropagation();var t=e.target.items.getAll().indexOf(e.detail.selection);this._selectStep(t),this.trigger("coral-wizardview:change",{selection:e.detail.selection,oldSelection:e.detail.oldSelection})}},{key:"_getSelectedIndex",value:function(){var e=this.stepLists.first();if(!e)return-1;var t=-1;if(e.items)t=e.items.getAll().indexOf(e.selectedItem);else for(var n=e.querySelectorAll("coral-step"),i=n.length-1;i>=0;i--)if(n[i].hasAttribute("selected")){t=i;break}return t}},{key:"_selectItemByIndex",value:function(e,t){var n=null;e.id=e.id||Yt.getUID(),e.items?n=e.items.getAll()[t]:"CORAL-STEPLIST"===e.tagName?n=e.querySelectorAll("#"+e.id+" > coral-step")[t]:"CORAL-PANELSTACK"===e.tagName&&(n=e.querySelectorAll("#"+e.id+" > coral-panel")[t]),n?n.hasAttribute("selected")||n.setAttribute("selected",""):("CORAL-STEPLIST"===e.tagName?n=e.querySelector("#"+e.id+" > coral-step[selected]"):"CORAL-PANELSTACK"===e.tagName&&(n=e.querySelector("#"+e.id+" > coral-panel[selected]")),n&&n.removeAttribute("selected"))}},{key:"_selectStep",value:function(e){var t=this;this.stepLists.getAll().forEach(function(n){t._selectItemByIndex(n,e)},this),this.panelStacks.getAll().forEach(function(n){t._selectItemByIndex(n,e)},this)}},{key:"_syncPanelStackSelection",value:function(e){var t=this,n=this._getSelectedIndex();if(-1===n){if(void 0===e)return;n=e}this.panelStacks.getAll().forEach(function(e){t._selectItemByIndex(e,n)},this)}},{key:"_syncStepListSelection",value:function(e){var t=this,n=this._getSelectedIndex();if(-1===n){if(void 0===e)return;n=e}this.stepLists.getAll().forEach(function(e){t._selectItemByIndex(e,n)},this)}},{key:"next",value:function(){var e=this.stepLists.first();e&&(e.next(),this._selectStep(e.items.getAll().indexOf(e.selectedItem)))}},{key:"previous",value:function(){var e=this.stepLists.first();e&&(e.previous(),this._selectStep(e.items.getAll().indexOf(e.selectedItem)))}},{key:"connectedCallback",value:function(){Ht(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.classList.add("coral3-WizardView"),this._syncStepListSelection(0),this._syncPanelStackSelection(0)}},{key:"panelStacks",get:function(){return this._panelStacks||(this._panelStacks=new Rn({host:this,itemTagName:"coral-panelstack",itemSelector:":scope > coral-panelstack[coral-wizardview-panelstack]",onItemAdded:this._onItemAdded})),this._panelStacks}},{key:"stepLists",get:function(){return this._stepLists||(this._stepLists=new Rn({host:this,itemTagName:"coral-steplist",itemSelector:":scope > coral-steplist[coral-wizardview-steplist]",onItemAdded:this._onItemAdded})),this._stepLists}}]),t}(Pn(HTMLElement));window.customElements.define("coral-wizardview",zd),window.Coral=window.Coral||{},window.Coral.WizardView=zd,function(e,t){function n(){var e=T.splice(0,T.length);for(Xe=0;e.length;)e.shift().call(null,e.shift())}function i(e,t){for(var n=0,i=e.length;n<i;n++)_(e[n],t)}function o(e){for(var t,n=0,i=e.length;n<i;n++)t=e[n],M(t,oe[r(t)])}function a(e){return function(t){Fe(t)&&(_(t,e),ae.length&&i(t.querySelectorAll(ae),e))}}function r(e){var t=qe.call(e,"is"),n=e.nodeName.toUpperCase(),i=se.call(ie,t?ee+t.toUpperCase():$+n);return t&&-1<i&&!s(n,t)?-1:i}function s(e,t){return-1<ae.indexOf(e+'[is="'+t+'"]')}function l(e){var t=e.currentTarget,n=e.attrChange,i=e.attrName,o=e.target,a=e[W]||2,r=e[X]||3;tt&&(!o||o===t)&&t[q]&&"style"!==i&&(e.prevValue!==e.newValue||""===e.newValue&&(n===a||n===r))&&t[q](i,n===a?null:e.prevValue,n===r?null:e.newValue)}function c(e){var t=a(e);return function(e){T.push(t,e.target),Xe&&clearTimeout(Xe),Xe=setTimeout(n,1)}}function u(e){et&&(et=!1,e.currentTarget.removeEventListener(Q,u)),ae.length&&i((e.target||A).querySelectorAll(ae),e.detail===R?R:H),De&&p()}function d(e,t){var n=this;Ve.call(n,e,t),S.call(n,{target:n})}function h(e,t){Ie(e,t),O?O.observe(e,We):($e&&(e.setAttribute=d,e[P]=L(e),e[F](J,S)),e[F](Y,l)),e[K]&&tt&&(e.created=!0,e[K](),e.created=!1)}function p(){for(var e,t=0,n=He.length;t<n;t++)e=He[t],re.contains(e)||(n--,He.splice(t--,1),_(e,R))}function m(e){throw new Error("A "+e+" type is already registered")}function _(e,t){var n,i,o=r(e);-1<o&&(N(e,oe[o]),o=0,t!==H||e[H]?t===R&&!e[R]&&(e[H]=!1,e[R]=!0,i="disconnected",o=1):(e[R]=!1,e[H]=!0,i="connected",o=1,De&&se.call(He,e)<0&&He.push(e)),o&&(n=e[t+B]||e[i+B])&&n.call(e))}function f(){}function v(e,t,n){var i=n&&n[j]||"",o=t.prototype,a=Oe(o),r=t.observedAttributes||he,s={prototype:a};Pe(a,K,{value:function(){if(Ee)Ee=!1;else if(!this[be]){this[be]=!0,new t(this),o[K]&&o[K].call(this);var e=Te[xe.get(t)];(!Ce||e.create.length>1)&&y(this)}}}),Pe(a,q,{value:function(e){-1<se.call(r,e)&&o[q].apply(this,arguments)}}),o[U]&&Pe(a,z,{value:o[U]}),o[V]&&Pe(a,Z,{value:o[V]}),i&&(s[j]=i),e=e.toUpperCase(),Te[e]={constructor:t,create:i?[i,Le(e)]:[e]},xe.set(t,e),A[D](e.toLowerCase(),s),C(e),Se[e].r()}function g(e){var t=Te[e.toUpperCase()];return t&&t.constructor}function b(e){return"string"==typeof e?e:e&&e.is||""}function y(e){for(var t,n=e[q],i=n?e.attributes:he,o=i.length;o--;)t=i[o],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function C(e){return e=e.toUpperCase(),e in Se||(Se[e]={},Se[e].p=new we(function(t){Se[e].r=t})),Se[e].p}function k(){ye&&delete e.customElements,de(e,"customElements",{configurable:!0,value:new f}),de(e,"CustomElementRegistry",{configurable:!0,value:f});for(var t=E.get(/^HTML[A-Z]*[a-z]/),n=t.length;n--;function(t){var n=e[t];if(n){e[t]=function(e){var t,i;return e||(e=this),e[be]||(Ee=!0,t=Te[xe.get(e.constructor)],i=Ce&&1===t.create.length,e=i?Reflect.construct(n,he,t.constructor):A.createElement.apply(A,t.create),e[be]=!0,Ee=!1,i||y(e)),e},e[t].prototype=n.prototype;try{n.prototype.constructor=e[t]}catch(i){ge=!0,de(n,be,{value:e[t]})}}}(t[n]));A.createElement=function(e,t){var n=b(t);return n?Ze.call(this,e,Le(n)):Ze.call(this,e)},Ye||(Je=!0,A[D](""))}var A=e.document,w=e.Object,E=function(e){var t,n,i,o,a=/^[A-Z]+[a-z]/,r=function(e){var t,n=[];for(t in l)e.test(t)&&n.push(t);return n},s=function(e,t){(t=t.toLowerCase())in l||(l[e]=(l[e]||[]).concat(t),l[t]=l[t.toUpperCase()]=e)},l=(w.create||w)(null),c={};for(n in e)for(o in e[n])for(i=e[n][o],l[o]=i,t=0;t<i.length;t++)l[i[t].toLowerCase()]=l[i[t].toUpperCase()]=o;return c.get=function(e){return"string"==typeof e?l[e]||(a.test(e)?[]:""):r(e)},c.set=function(e,t){return a.test(e)?s(e,t):s(t,e),c},c}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=(void 0===t?"undefined":Dt(t))&&(t={type:t||"auto"});var T,S,x,L,O,I,N,M,D="registerElement",P="__"+D+(1e5*e.Math.random()>>0),F="addEventListener",H="attached",B="Callback",R="detached",j="extends",q="attributeChanged"+B,z=H+B,U="connected"+B,V="disconnected"+B,K="created"+B,Z=R+B,W="ADDITION",G="MODIFICATION",X="REMOVAL",Y="DOMAttrModified",Q="DOMContentLoaded",J="DOMSubtreeModified",$="<",ee="=",te=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,ne=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],ie=[],oe=[],ae="",re=A.documentElement,se=ie.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},le=w.prototype,ce=le.hasOwnProperty,ue=le.isPrototypeOf,de=w.defineProperty,he=[],pe=w.getOwnPropertyDescriptor,me=w.getOwnPropertyNames,_e=w.getPrototypeOf,fe=w.setPrototypeOf,ve=!!w.__proto__,ge=!1,be="__dreCEv1",ye=e.customElements,Ce=!/^force/.test(t.type)&&!!(ye&&ye.define&&ye.get&&ye.whenDefined),ke=w.create||w,Ae=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[se.call(t,e)]},set:function(i,o){e=se.call(t,i),e<0?n[t.push(i)-1]=o:n[e]=o}}},we=e.Promise||function(e){function t(e){for(i=!0;n.length;)n.shift()(e)}var n=[],i=!1,o={catch:function(){return o},then:function(e){return n.push(e),i&&setTimeout(t,1),o}};return e(t),o},Ee=!1,Te=ke(null),Se=ke(null),xe=new Ae,Le=function(e){return e.toLowerCase()},Oe=w.create||function e(t){return t?(e.prototype=t,new e):this},Ie=fe||(ve?function(e,t){return e.__proto__=t,e}:me&&pe?function(){function e(e,t){for(var n,i=me(t),o=0,a=i.length;o<a;o++)n=i[o],ce.call(e,n)||de(e,n,pe(t,n))}return function(t,n){do{e(t,n)}while((n=_e(n))&&!ue.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),Ne=e.MutationObserver||e.WebKitMutationObserver,Me=(e.HTMLElement||e.Element||e.Node).prototype,De=!ue.call(Me,re),Pe=De?function(e,t,n){return e[t]=n.value,e}:de,Fe=De?function(e){return 1===e.nodeType}:function(e){return ue.call(Me,e)},He=De&&[],Be=Me.attachShadow,Re=Me.cloneNode,je=Me.dispatchEvent,qe=Me.getAttribute,ze=Me.hasAttribute,Ue=Me.removeAttribute,Ve=Me.setAttribute,Ke=A.createElement,Ze=Ke,We=Ne&&{attributes:!0,characterData:!0,attributeOldValue:!0},Ge=Ne||function(e){$e=!1,re.removeEventListener(Y,Ge)},Xe=0,Ye=D in A&&!/^force-all/.test(t.type),Qe=!0,Je=!1,$e=!0,et=!0,tt=!0;if(Ye||(fe||ve?(N=function(e,t){ue.call(t,e)||h(e,t)},M=h):(N=function(e,t){e[P]||(e[P]=w(!0),h(e,t))},M=N),De?($e=!1,function(){var e=pe(Me,F),t=e.value,n=function(e){var t=new CustomEvent(Y,{bubbles:!0});t.attrName=e,t.prevValue=qe.call(this,e),t.newValue=null,t[X]=t.attrChange=2,Ue.call(this,e),je.call(this,t)},i=function(e,t){var n=ze.call(this,e),i=n&&qe.call(this,e),o=new CustomEvent(Y,{bubbles:!0});Ve.call(this,e,t),o.attrName=e,o.prevValue=n?i:null,o.newValue=t,n?o[G]=o.attrChange=1:o[W]=o.attrChange=0,je.call(this,o)},o=function(e){var t,n=e.currentTarget,i=n[P],o=e.propertyName;i.hasOwnProperty(o)&&(i=i[o],t=new CustomEvent(Y,{bubbles:!0}),t.attrName=i.name,t.prevValue=i.value||null,t.newValue=i.value=n[o]||null,null==t.prevValue?t[W]=t.attrChange=0:t[G]=t.attrChange=1,je.call(n,t))};e.value=function(e,a,r){e===Y&&this[q]&&this.setAttribute!==i&&(this[P]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=n,t.call(this,"propertychange",o)),t.call(this,e,a,r)},de(Me,F,e)}()):Ne||(re[F](Y,Ge),re.setAttribute(P,1),re.removeAttribute(P),$e&&(S=function(e){var t,n,i,o=this;if(o===e.target){t=o[P],o[P]=n=L(o);for(i in n){if(!(i in t))return x(0,o,i,t[i],n[i],W);if(n[i]!==t[i])return x(1,o,i,t[i],n[i],G)}for(i in t)if(!(i in n))return x(2,o,i,t[i],n[i],X)}},x=function(e,t,n,i,o,a){var r={attrChange:e,currentTarget:t,attrName:n,prevValue:i,newValue:o};r[a]=e,l(r)},L=function(e){for(var t,n,i={},o=e.attributes,a=0,r=o.length;a<r;a++)t=o[a],"setAttribute"!==(n=t.name)&&(i[n]=t.value);return i})),A[D]=function(e,t){if(n=e.toUpperCase(),Qe&&(Qe=!1,Ne?(O=function(e,t){function n(e,t){for(var n=0,i=e.length;n<i;t(e[n++]));}return new Ne(function(i){for(var o,a,r,s=0,l=i.length;s<l;s++)o=i[s],"childList"===o.type?(n(o.addedNodes,e),n(o.removedNodes,t)):(a=o.target,tt&&a[q]&&"style"!==o.attributeName&&(r=qe.call(a,o.attributeName))!==o.oldValue&&a[q](o.attributeName,o.oldValue,r))})}(a(H),a(R)),I=function(e){return O.observe(e,{childList:!0,subtree:!0}),e},I(A),Be&&(Me.attachShadow=function(){return I(Be.apply(this,arguments))})):(T=[],A[F]("DOMNodeInserted",c(H)),A[F]("DOMNodeRemoved",c(R))),A[F](Q,u),A[F]("readystatechange",u),Me.cloneNode=function(e){var t=Re.call(this,!!e),n=r(t);return-1<n&&M(t,oe[n]),e&&ae.length&&o(t.querySelectorAll(ae)),t}),Je)return Je=!1;if(-2<se.call(ie,ee+n)+se.call(ie,$+n)&&m(e),!te.test(n)||-1<se.call(ne,n))throw new Error("The type "+e+" is invalid");var n,s,l=function(){return h?A.createElement(p,n):A.createElement(p)},d=t||le,h=ce.call(d,j),p=h?t[j].toUpperCase():n;return h&&-1<se.call(ie,$+p)&&m(p),s=ie.push((h?ee:$)+n)-1,ae=ae.concat(ae.length?",":"",h?p+'[is="'+e.toLowerCase()+'"]':p),l.prototype=oe[s]=ce.call(d,"prototype")?d.prototype:Oe(Me),ae.length&&i(A.querySelectorAll(ae),H),l},A.createElement=Ze=function(e,t){var n=b(t),i=n?Ke.call(A,e,Le(n)):Ke.call(A,e),o=""+e,a=se.call(ie,(n?ee:$)+(n||o).toUpperCase()),r=-1<a;return n&&(i.setAttribute("is",n=n.toLowerCase()),r&&(r=s(o.toUpperCase(),n))),tt=!A.createElement.innerHTMLHelper,r&&M(i,oe[a]),i}),f.prototype={constructor:f,define:Ce?function(e,t,n){if(n)v(e,t,n);else{var i=e.toUpperCase();Te[i]={constructor:t,create:[i]},xe.set(t,i),ye.define(e,t)}}:v,get:Ce?function(e){return ye.get(e)||g(e)}:g,whenDefined:Ce?function(e){return we.race([ye.whenDefined(e),C(e)])}:C},!ye||/^force/.test(t.type))k();else if(!t.noBuiltIn)try{!function(t,n,i){if(n[j]="a",t.prototype=Oe(HTMLAnchorElement.prototype),t.prototype.constructor=t,e.customElements.define(i,t,n),qe.call(A.createElement("a",{is:i}),"is")!==i||Ce&&qe.call(new t,"is")!==i)throw n}(function e(){return Reflect.construct(HTMLAnchorElement,[],e)},{},"document-register-element-a")}catch(e){k()}if(!t.noBuiltIn)try{Ke.call(A,"a","a")}catch(e){Le=function(e){return{is:e.toLowerCase()}}}}(window);re(function(e,t){var n=window.Coral=window.Coral||{};e.exports&&(e.exports=n),function(){function e(){}function t(e){return e}function i(e){return e.validate?Array.isArray(e.validate)?e.validate:[e.validate]:[n.validate.valueMustChange]}function o(t,n){if(!n.reflectAttribute)return e;var i=n.attribute||t;return function(e,t){!1===e||null===e?this.removeAttribute(i):(!0===e&&(e=""),this.getAttribute(i)!==e&&this.setAttribute(i,e))}}function a(t){if(!t)return e;if("function"==typeof t)return t;var n=t;return function(e,t){return this.trigger(n,{oldValue:t,value:e})}}function r(t,n){var i=n.alsoSync;return n.sync||i?i?(Array.isArray(i)?i.unshift(t):i=[t,i],function(e){this._queueSync.apply(this,i)}):function(e){this._queueSync(t)}:e}function s(e,n,s){var l;if("function"==typeof s.triggerBefore||"string"==typeof s.triggerBefore)l=s.triggerBefore;else if(!0===s.triggerBefore){if("string"!=typeof s.trigger||-1===s.trigger.indexOf(":"))throw new Error('Coral.register: Cannot automatically set "before" event name unless descriptor.trigger is a string that conatins a colon');l=s.trigger.replace(":",":before")}s.set=s.set||d(n),s.get=s.get||u(n);var c=s._methods;if(s._methods={},c)for(var h in c)s._methods[h]=c[h];s._methods.triggerBefore=a(l),s._methods.trigger=a(s.trigger),s._methods.transform=s.transform||t,s._methods.attributeTransform=s.attributeTransform||t,s._methods.reflectAttribute=o(n,s),s._methods.queueSync=r(n,s),s._methods.validate=i(s),s.attribute?e._attributes[s.attribute]=n:e._attributes[s.attribute]=null,e._properties[n]=s}function l(e){return function(){return this._properties[e].get.call(this)}}function c(e){return function(t,n){var i=this._properties[e],o=i._methods,a=o.transform.call(this,t,this._properties[e].default),r=this[e],s=this;if(!o.validate.some(function(e){return!e.call(s,a,r)})){if(!n){var l=o.triggerBefore.call(this,a,r);if(l&&l.defaultPrevented)return}i.set.call(this,a,n),o.reflectAttribute.call(this,a),o.queueSync.call(this),n||o.trigger.call(this,a,r),this._setProps[e]=!0}}}function u(e){var t="_"+e;return function(){return this[t]}}function d(e){var t="_"+e;return function(e){this[t]=e}}function h(e,t){for(var n in t)t[n]&&p(e,n,t[n])}function p(e,t,n){if("function"==typeof n&&!(n=n(e,t)))throw new Error("Coral.register.defineProperty: Property function did not return a descriptor for "+t);s(e,t,n);var i=n._methods.set=c(t),o=n._methods.get=l(t);Object.defineProperty(e,t,{enumerable:!0,configurable:!1,set:i,get:o})}function m(e){return g[e]=g[e]||Object.getPrototypeOf(document.createElement(e)),g[e]}function _(e,t,n){switch(n){case"sync":case"set":return f(t,e);default:return e}}function f(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}var v={extend:!0,properties:!0,events:!0,_elements:!0,name:!0,tagName:!0,baseTagName:!0,className:!0},g={};n.register=function(e){e.extend&&!e.extend.prototype._methods&&(e.extend=n.Component);var t=e.extend||n.Component,i=t.prototype,o=i,a=e.properties?n.commons.extend({},e.properties):{};e.baseTagName&&(o=m(e.baseTagName));var r=Object.create(o);if(r._proto=i,e.baseTagName){for(var l=[],c=i;c&&c._methods;)l.unshift(c),c=c._proto;for(;c=l.shift();)for(var u in c._methods)r[u]=c[u]}r._attributes=n.commons.extend({},i._attributes),r._properties={},r._events=n.commons.extend({},i._events,e.events),r._elements=n.commons.extend({},i._elements,e._elements),r._componentName=e.name,r._className=e.className;var d=r._methods={};for(var p in e)v[p]||(r[p]=d[p]=e[p]);e.mixins&&n.commons.mixin(r,e.mixins,{properties:a}),n.commons.augment(r._properties,i._properties,a,function(e,t,i){if(!t)return null;if(!0===t.override)return t;var o=n.commons.augment({},t,e,_);return s(r,i,o),a[i]=void 0,o});for(var f in r._properties)r._properties[f]||delete r._properties[f];e.baseTagName?h(r,r._properties):h(r,a);var g={prototype:r};e.baseTagName&&(g.extends=e.baseTagName);var b=document.registerElement(e.tagName,g);return n.commons.setSubProperty(n,e.name,b),b},n.register.defineProperties=h,n.register.defineProperty=p,n.register.augmentProperties=function(e,t,i){n.commons.augment(e,t,function(e,t,o){return!0===e.override?e:n.commons.augment({},e,t,i||_)})}}()});Coral.property={},Coral.property.proxy=function(e){function t(e,t){Coral.commons.setSubProperty(this,i,e)}function n(){return Coral.commons.getSubProperty(this,i)}var i=e.path,o=function(o,a){var r="_"+a;return e.needsDOMSync?(e.sync=function(){Coral.commons.setSubProperty(this,i,this[r]),this[r]=void 0},e.set=function(e,t){this[r]=e},e.get=function(){return void 0===this[r]?Coral.commons.getSubProperty(this,i):this[r]}):(e.set=t,e.get=n,e.sync=null),e};return o.override=void 0===e.override||e.override,o},Coral.property.proxyAttr=function(e){var t=e.attribute,n=e.handle,i=function(i,o){return Coral.commons.extend({attribute:t,set:function(e){this._elements[n][!1===e||null===e?"removeAttribute":"setAttribute"](t,e)},get:function(){return this._elements[n].getAttribute(t)}},e)};return i.override=void 0===e.override||e.override,i},Coral.property.contentZone=function(e){var t=e.handle,n=e.tagName,i=e.set,o=e.get,a=e.insert;return function(r,s){return e.defaultContentZone&&Object.defineProperty(r,"defaultContentZone",{set:function(e){this[s]=e},get:function(){return this[s]}}),Coral.commons.extend({},e,{contentZone:!0,set:function(e){var o;if(e){if(!(e instanceof HTMLElement))throw new Error('DOMException: Failed to set the "'+s+'" property on "'+this.toString()+'": The provided value is not of type "HTMLElement".');if(n&&e.tagName.toLowerCase()!==n)throw new Error('DOMException: Failed to set the "'+s+'" property on "'+this.toString()+'": The new '+s+' element is of type "'+e.tagName+'". It must be a "'+n.toUpperCase()+'" element.');o=this._elements[t],a?(o&&o.parentNode&&o.parentNode.removeChild(o),a.call(this,e)):o&&o.parentNode?(console.warn(this._componentName+" does not define an insert method for content zone "+t+", falling back to replace."),this._elements[t].parentNode.replaceChild(e,this._elements[t])):(console.error(this._componentName+" does not define an insert method for content zone "+t+", falling back to append."),this.appendChild(e))}else(o=this._elements[t])&&o.parentNode&&o.parentNode.removeChild(o);this._elements[t]=e,"function"==typeof i&&i.call(this,e)},get:o||function(){return this._elements[t]}})}},function(){function e(e,t,n){if("function"==typeof n)return n;if("string"==typeof n){if(!e[n])throw new Error("Coral.Component: Unable to add "+t+" listener for "+e.toString()+", method "+n+" not found");var i=e[n]
;if("function"!=typeof i)throw new Error("Coral.Component: Unable to add "+t+" listener for "+e.toString()+", listener is a "+(void 0===i?"undefined":Dt(i))+" but should be a function");return i}if(n)throw new Error("Coral.Component: Unable to add "+t+" listener for "+e.toString()+", "+n+" is neither a method name or a function");return null}var t=/^(\S+)\s*(.*)$/,n=Node.ELEMENT_NODE;Coral.Component=function(){throw new Error("Coral.Component is not meant to be invoked directly. Inherit from its prototype instead.")},Coral.Component.prototype=Object.create(HTMLElement.prototype),Coral.Component.prototype._properties={},Coral.Component.prototype.toString=function(){return"Coral."+this._componentName},Coral.Component.prototype._events={},Coral.Component.prototype.createdCallback=function(){this.toString!==Coral.Component.prototype.toString&&(this.toString=Coral.Component.prototype.toString),this._setProps={},this._syncQueue=[],this._syncDOM=this._syncDOM.bind(this),this._vent=new Vent(this),this._className&&this.classList.add.apply(this.classList,this._className.split(" ")),this._elements={},"function"==typeof this._render&&this._render();var e,t,n,i,o;this._contentZones={};var a={};for(e in this._properties)i=this._properties[e],i.contentZone&&(this._contentZones[i.tagName]&&console.warn('Coral.Component: content zone for "%s" is already defined',i.tagName),this._contentZones[i.tagName]=e),t=i.attribute||e,a[e]=this.getAttribute(t);for(e in this._properties){if(i=this._properties[e],o=i._methods,null!==(n=a[e])&&(o.attributeTransform&&(n=o.attributeTransform.call(this,n,i.default)),i.transform&&(n=o.transform.call(this,n,i.default)),o.validate))for(var r=0;r<o.validate.length;r++)if(!o.validate[r].call(this,n)){n=null;break}if(null===n){if(this._setProps[e])continue;if(void 0===(n="function"==typeof i.default?i.default.call(this):i.default))continue}this.set(e,n,!0)}this._delegateEvents(),"function"==typeof this._initialize&&this._initialize(),Object.keys(this._contentZones).length&&(this._observer=new MutationObserver(this._handleContentZones.bind(this)),this._observer.observe(this,{childList:!0,subtree:!1})),this._componentReady=!0},Coral.Component.prototype._handleContentZones=function(e){for(var t,i,o,a,r,s,l=0,c=e.length;l<c;l++){t=e[l],i=t.addedNodes,o=t.removedNodes;for(var u=0,d=o.length;u<d;u++)a=o[u],a.nodeType===n&&(r=a.tagName.toLowerCase(),(s=this._contentZones[r])&&this[s]===a&&null===a.parentNode&&(this[s]=void 0));for(var h=0,p=i.length;h<p;h++)a=i[h],a.nodeType===n&&(r=a.tagName.toLowerCase(),(s=this._contentZones[r])&&this[s]!==a&&(this[s]=a))}},Coral.Component.prototype._filterKeys=function(){return!0},Coral.Component.prototype.attachedCallback=function(){this.trigger("coral-component:attached"),this._delegateGlobalEvents()},Coral.Component.prototype.detachedCallback=function(){this.trigger("coral-component:detached"),this._undelegateGlobalEvents()},Coral.Component.prototype.attributeChangedCallback=function(e,t,n){var i=this._attributes[e]||e,o=this._properties[i];if(void 0!==o){if(null===o.attribute)return;["attributeTransform","transform"].forEach(function(e){var t=o._methods[e];t&&(n=t.call(this,n,o.default))},this),n!==this[i]&&(this[i]=n)}this._properties["_"+i]&&this._properties["_"+i].set.call(this,n)},Coral.Component.prototype._queueSync=function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e],i=this._syncQueue.indexOf(n);-1!==i&&this._syncQueue.splice(i,1),this._syncQueue.push(n)}this._syncPending||(Coral.commons.nextFrame(this._syncDOM),this._syncPending=!0)},Coral.Component.prototype._syncProp=function(e,t){var n=this._properties[e].sync;if(n?n.call(this):console.warn("Coral.Component: sync method for %s is not defined",e),!t){var i=this._syncQueue.indexOf(e);-1!==i&&this._syncQueue.splice(i,1)}},Coral.Component.prototype._syncDOM=function(){for(var e;e=this._syncQueue.shift();)this._syncProp(e,!0);this._syncPending=!1},Coral.Component.prototype._delegateEvents=function(){var n,i,o,a,r,s,l,c,u,d;for(o in this._events)if(a=this._events[o],n=o.match(t),i=n[1]+".CoralComponent",r=n[2],""===r&&(r=void 0),a=e(this,i,a)){if(a=a.bind(this),l=0===i.indexOf("global:"),l&&(i=i.substr(7)),d=0===i.indexOf("capture:"),d&&(i=i.substr(8)),c=0===i.indexOf("key:")){if(d)throw new Error("Coral.Keys does not currently support listening to key events with capture");i=i.substr(4)}if((u=0===i.indexOf("resize"))&&d)throw new Error("Coral.commons.addResizeListener does not currently support listening to resize event with capture");if(l)c?(this._globalKeys=this._globalKeys||[],this._globalKeys.push({keyCombo:i,selector:r,listener:a})):(this._globalEvents=this._globalEvents||[],this._globalEvents.push({eventName:i,selector:r,listener:a,isCapture:d}));else if(c)this._keys=this._keys||new Coral.Keys(this,{filter:this._filterKeys,context:this}),this._keys.on(i,r,a);else if(u)if(r){s=document.querySelectorAll(r);for(var h=0;h<s.length;++h)Coral.commons.addResizeListener(s[h],a)}else Coral.commons.addResizeListener(this,a);else this._vent.on(i,r,a,d)}},Coral.Component.prototype._undelegateGlobalEvents=function(){var e;if(this._globalEvents)for(e=0;e<this._globalEvents.length;e++){var t=this._globalEvents[e];Coral.events.off(t.eventName,t.selector,t.listener,t.isCapture)}if(this._globalKeys)for(e=0;e<this._globalKeys.length;e++){var n=this._globalKeys[e];Coral.keys.off(n.keyCombo,n.selector,n.listener)}return this._keys&&this._keys.destroy(!0),this},Coral.Component.prototype._delegateGlobalEvents=function(){var e;if(this._globalEvents)for(e=0;e<this._globalEvents.length;e++){var t=this._globalEvents[e];Coral.events.on(t.eventName,t.selector,t.listener,t.isCapture)}if(this._globalKeys)for(e=0;e<this._globalKeys.length;e++){var n=this._globalKeys[e];Coral.keys.on(n.keyCombo,n.selector,n.listener)}return this._keys&&this._keys.init(!0),this},Coral.Component.prototype.on=function(e,t,n,i){return this._vent.on(e,t,n,i),this},Coral.Component.prototype.off=function(e,t,n,i){return this._vent.off(e,t,n,i),this},Coral.Component.prototype.trigger=function(e,t,n,i){n=n||void 0===n,i=i||void 0===i;var o=new CustomEvent(e,{bubbles:n,cancelable:i,detail:t}),a=!1;try{a=!this.dispatchEvent(o)}catch(e){}if(a!==o.defaultPrevented){var r=Object.create(o);return Object.defineProperty(r,"defaultPrevented",{value:a}),r}return o},Coral.Component.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},Coral.Component.prototype._doSet=function(e,t,n){var i=this._properties&&this._properties[e];i?!i.contentZone||t instanceof HTMLElement||!this[e].set?i.contentZone&&!(t instanceof HTMLElement)&&"object"===(void 0===t?"undefined":Dt(t))&&this[e]instanceof HTMLElement?Object.keys(t).forEach(function(e){this[e]=t[e]},this[e]):i._methods&&i._methods.set?i._methods.set.call(this,t,!!n):this[e]=t:this[e].set(t):this[e]=t},Coral.Component.prototype.set=function(e,t,n){var i,o,a;if("string"==typeof e)i=e,a=t,this._doSet(i,a,n);else{o=e,n=t;for(i in o)a=o[i],this._doSet(i,a,n)}return this},Coral.Component.prototype.get=function(e){return this[e]},Coral.Component.prototype.show=function(){return this.hidden?(this.hidden=!1,this):this},Coral.Component.prototype.hide=function(){return this.hidden?this:(this.hidden=!0,this)},Coral.Component.prototype._methods={};for(var i in Coral.Component.prototype)Coral.Component.prototype.hasOwnProperty(i)&&(Coral.Component.prototype._methods[i]=Coral.Component.prototype[i])}(),e.Accordion=Vn,e.AccordionItem=ei,e.AccordionItemContent=ni,e.AccordionItemLabel=ti,e.ActionBar=oi,e.ActionBarItem=ai,e.ActionBarPrimary=Ji,e.ActionBarSecondary=$i,e.ActionBarContainer=to,e.Alert=ho,e.AlertHeader=po,e.AlertContent=mo,e.AlertFooter=_o,e.AnchorButton=fo,e.AnchorButtonLabel=vo,e.AnchorList=Vo,e.Autocomplete=ra,e.AutocompleteItem=Fo,e.Button=pi,e.ButtonLabel=mi,e.ButtonGroup=ua,e.ButtonList=Zo,e.Calendar=Aa,e.Card=La,e.CardProperty=Ia,e.CardTitle=Na,e.CardContext=Ma,e.CardDescription=Da,e.CardAsset=Pa,e.CardContent=Ba,e.CardOverlay=Fa,e.CardPropertyContent=ja,e.CardPropertyList=Ra,e.CharacterCount=za,e.Checkbox=Ka,e.CheckboxLabel=Za,e.Clock=vr,e.Color=br,e.ColorInput=is,e.ColorInputItem=yr,e.ColorInputSwatches=Yr,e.ColorInputSwatch=Gr,e.ColorInputSlider=Vr,e.ColorInputColorProperties=Zr,e.ColumnView=ls,e.ColumnViewColumn=cs,e.ColumnViewColumnContent=us,e.ColumnViewItem=ms,e.ColumnViewItemContent=_s,e.ColumnViewItemThumbnail=fs,e.ColumnViewPreview=vs,e.ColumnViewPreviewAsset=gs,e.ColumnViewPreviewContent=bs,e.ColumnViewPreviewLabel=ys,e.ColumnViewPreviewSeparator=Cs,e.ColumnViewPreviewValue=ks,e.CycleButton=xs,e.CycleButtonItem=ws,e.CycleButtonAction=Ls,e.Datepicker=js,e.Dialog=il,e.DialogHeader=ol,e.DialogContent=al,e.DialogFooter=rl,e.DragAction=Gs,e.Drawer=dl,e.DrawerContent=hl,e.FileUpload=El,e.FileUploadItem=Cl,e.Icon=Qn,e.List=qo,e.Masonry=Ml,e.MasonryItem=Tl,e.MasonryLayout=Dl,e.Multifield=Wl,e.MultifieldItem=Xl,e.MultifieldItemContent=Yl,e.NumberInput=nc,e.Overlay=Fi,e.Panel=oc,e.PanelStack=ic,e.PanelContent=ac,e.Popover=Vi,e.PopoverHeader=Ki,e.PopoverContent=Zi,e.PopoverSeparator=Wi,e.Progress=_c,e.ProgressLabel=fc,e.QuickActions=wc,e.QuickActionsItem=gc,e.Radio=Sc,e.RadioLabel=xc,e.Search=jc,e.Select=lr,e.SelectItem=cr,e.SelectList=Qa,e.SelectListGroup=$a,e.SelectListItem=Ja,e.Shell=Ic,e.ShellContent=Nc,e.ShellHeader=Mc,e.ShellHomeAnchor=Pc,e.ShellHomeAnchorLabel=Fc,e.ShellHelp=Zc,e.ShellHelpItem=Gc,e.ShellMenu=nu,e.ShellMenuBar=iu,e.ShellMenuBarItem=cu,e.ShellUser=hu,e.ShellUserContent=pu,e.ShellUserFooter=mu,e.ShellUserHeading=_u,e.ShellUserName=fu,e.ShellUserSubheading=vu,e.ShellWorkspaces=gu,e.ShellWorkspace=bu,e.ShellSolutionSwitcher=Cu,e.ShellSolutions=ku,e.ShellSolution=wu,e.ShellSolutionLabel=Eu,e.ShellOrgSwitcher=xu,e.ShellOrganization=Nu,e.ShellSuborganization=Mu,e.ShellOrgSwitcherFooter=Lu,e.Slider=Br,e.SliderItem=Rr,e.RangedSlider=qr,e.StepList=Fu,e.Step=Bu,e.StepLabel=Ru,e.Switch=qu,e.Table=gd,e.TableColumn=Vu,e.TableCell=Ku,e.TableHeaderCell=Zu,e.TableRow=Wu,e.TableHead=sd,e.TableBody=ld,e.TableFoot=cd,e.Tab=Cd,e.TabLabel=kd,e.TabList=Ed,e.TabView=Sd,e.Tag=No,e.TagLabel=Mo,e.TagList=Po,e.Textarea=Id,e.Textfield=Qo,e.Tooltip=Nr,e.TooltipContent=Mr,e.Tree=Nd,e.TreeItem=jd,e.TreeItemContent=qd,e.Wait=na,e.WizardView=zd}(this.indexSpectrum=this.indexSpectrum||{});