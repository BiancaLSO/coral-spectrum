!function(a,b){"use strict";var c="ruf7eed";a.Coral&&a.Coral.options&&a.Coral.options.typeKitId&&(c=a.Coral.options.typeKitId);var d={kitId:c,scriptTimeout:3e3};if(!a.Typekit){var e=document.getElementsByTagName("html")[0];e.className+=" wf-loading";var f=setTimeout(function(){e.className=e.className.replace(/(\s|^)wf-loading(\s|$)/g," "),e.className+=" wf-inactive"},d.scriptTimeout),g=document.createElement("script"),h=!1;g.src="//use.typekit.net/"+d.kitId+".js",g.type="text/javascript",g.async="true",g.onload=g.onreadystatechange=function(){var a=this.readyState;if(!(h||a&&"complete"!==a&&"loaded"!==a)){h=!0,clearTimeout(f);try{Typekit.load(d)}catch(b){}}};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(g,i)}}(this),function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap='#"+f+"']")[0],!!g&&c(g)):!1):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){return function(){function b(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function c(b,c){return parseInt(a.css(b,c),10)||0}function d(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var e,f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;f=function(){var b=a("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),c=1.5===b.offset().top;return b.remove(),f=function(){return c},c},a.position={scrollbarWidth:function(){if(void 0!==e)return e;var b,c,d=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=d.children()[0];return a("body").append(d),b=f.offsetWidth,d.css("overflow","scroll"),c=f.offsetWidth,b===c&&(c=d[0].clientWidth),d.remove(),e=b-c},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType,f=!d&&!e;return{element:c,isWindow:d,isDocument:e,offset:f?a(b).offset():{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:c.outerWidth(),height:c.outerHeight()}}},a.fn.position=function(e){if(!e||!e.of)return o.apply(this,arguments);e=a.extend({},e);var n,p,q,r,s,t,u=a(e.of),v=a.position.getWithinInfo(e.within),w=a.position.getScrollInfo(v),x=(e.collision||"flip").split(" "),y={};return t=d(u),u[0].preventDefault&&(e.at="left top"),p=t.width,q=t.height,r=t.offset,s=a.extend({},r),a.each(["my","at"],function(){var a,b,c=(e[this]||"").split(" ");1===c.length&&(c=j.test(c[0])?c.concat(["center"]):k.test(c[0])?["center"].concat(c):["center","center"]),c[0]=j.test(c[0])?c[0]:"center",c[1]=k.test(c[1])?c[1]:"center",a=l.exec(c[0]),b=l.exec(c[1]),y[this]=[a?a[0]:0,b?b[0]:0],e[this]=[m.exec(c[0])[0],m.exec(c[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?s.left+=p:"center"===e.at[0]&&(s.left+=p/2),"bottom"===e.at[1]?s.top+=q:"center"===e.at[1]&&(s.top+=q/2),n=b(y.at,p,q),s.left+=n[0],s.top+=n[1],this.each(function(){var d,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=c(this,"marginLeft"),t=c(this,"marginTop"),z=l+o+c(this,"marginRight")+w.width,A=m+t+c(this,"marginBottom")+w.height,B=a.extend({},s),C=b(y.my,k.outerWidth(),k.outerHeight());"right"===e.my[0]?B.left-=l:"center"===e.my[0]&&(B.left-=l/2),"bottom"===e.my[1]?B.top-=m:"center"===e.my[1]&&(B.top-=m/2),B.left+=C[0],B.top+=C[1],f()||(B.left=i(B.left),B.top=i(B.top)),d={marginLeft:o,marginTop:t},a.each(["left","top"],function(b,c){a.ui.position[x[b]]&&a.ui.position[x[b]][c](B,{targetWidth:p,targetHeight:q,elemWidth:l,elemHeight:m,collisionPosition:d,collisionWidth:z,collisionHeight:A,offset:[n[0]+C[0],n[1]+C[1]],my:e.my,at:e.at,within:v,elem:k})}),e.using&&(j=function(a){var b=r.left-B.left,c=b+p-l,d=r.top-B.top,f=d+q-m,i={target:{element:u,left:r.left,top:r.top,width:p,height:q},element:{element:k,left:B.left,top:B.top,width:l,height:m},horizontal:0>c?"left":b>0?"right":"center",vertical:0>f?"top":d>0?"bottom":"middle"};l>p&&h(b+c)<p&&(i.horizontal="center"),m>q&&h(d+f)<q&&(i.vertical="middle"),g(h(b),h(c))>g(h(d),h(f))?i.important="horizontal":i.important="vertical",e.using.call(this,a,i)}),k.offset(a.extend(B,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):j>0&&0>=i?a.left=e:i>j?a.left=e+f-b.collisionWidth:a.left=e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):j>0&&0>=i?a.top=e:i>j?a.top=e+f-b.collisionHeight:a.top=e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||c<h(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||h(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,(0>d||d<h(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,(c>0||h(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}}}(),a.ui.position}),function(){var a=document.createElement("div");"hidden"in a||Object.defineProperty(HTMLElement.prototype,"hidden",{get:function(){return this.hasAttribute("hidden")},set:function(a){a?this.setAttribute("hidden",""):this.removeAttribute("hidden")},configurable:!0})}(),window.WebComponents=window.WebComponents||{},function(a){var b=a.flags||{},c="webcomponents.js",d=document.querySelector('script[src*="'+c+'"]');if(!b.noOpts){if(location.search.slice(1).split("&").forEach(function(a){a=a.split("="),a[0]&&(b[a[0]]=a[1]||!0)}),d)for(var e,f=0;e=d.attributes[f];f++)"src"!==e.name&&(b[e.name]=e.value||!0);if(b.log){var g=b.log.split(",");b.log={},g.forEach(function(a){b.log[a]=!0})}else b.log={}}b.shadow=b.shadow||b.shadowdom||b.polyfill,b.shadow="native"===b.shadow?!1:b.shadow||!HTMLElement.prototype.createShadowRoot,b.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=b.register),a.flags=b}(WebComponents),"undefined"==typeof WeakMap&&!function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+(b++ +"__")};c.prototype={set:function(b,c){var d=b[this.name];return d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0}),this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},"delete":function(a){var b=a[this.name];return b&&b[0]===a?(b[0]=b[1]=void 0,!0):!1},has:function(a){var b=a[this.name];return b?b[0]===a:!1}},window.WeakMap=c}(),function(a){function b(a){u.push(a),t||(t=!0,p(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=q.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=q.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x?x:(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}var p,q=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))p=setTimeout;else if(window.setImmediate)p=window.setImmediate;else{var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),p=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=q.get(a);d||q.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=q.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return void(c[d-1]=f)}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=q.get(a);b||q.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=q.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){return!a.attributes||a.attributeFilter&&a.attributeFilter.length&&-1===a.attributeFilter.indexOf(b)&&-1===a.attributeFilter.indexOf(c)?void 0:a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){return a.characterData?a.characterDataOldValue?k(g):e:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",a.target.parentNode);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(a.relatedNode,function(a){return a.childList?e:void 0})}l()}},a.JsMutationObserver=g,a.MutationObserver||(a.MutationObserver=g)}(this),window.CustomElements=window.CustomElements||{flags:{}},function(a){var b=a.flags,c=[],d=function(a){c.push(a)},e=function(){c.forEach(function(b){b(a)})};a.addModule=d,a.initializeModules=e,a.hasNative=Boolean(document.registerElement),a.useNative=!b.register&&a.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||HTMLImports.useNative)}(CustomElements),CustomElements.addModule(function(a){function b(a,b){c(a,function(a){return b(a)?!0:void d(a,b)}),d(a,b)}function c(a,b,d){var e=a.firstElementChild;if(!e)for(e=a.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;for(;e;)b(e,d)!==!0&&c(e,b,d),e=e.nextElementSibling;return null}function d(a,c){for(var d=a.shadowRoot;d;)b(d,c),d=d.olderShadowRoot}function e(a,b){g=[],f(a,b),g=null}function f(a,b){if(a=wrap(a),!(g.indexOf(a)>=0)){g.push(a);for(var c,d=a.querySelectorAll("link[rel="+h+"]"),e=0,i=d.length;i>e&&(c=d[e]);e++)c["import"]&&f(c["import"],b);b(a)}}var g,h=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none";a.forDocumentTree=e,a.forSubtree=b}),CustomElements.addModule(function(a){function b(a){return c(a)||d(a)}function c(b){return a.upgrade(b)?!0:void h(b)}function d(a){u(a,function(a){return c(a)?!0:void 0})}function e(a){h(a),m(a)&&u(a,function(a){h(a)})}function f(a){y.push(a),x||(x=!0,setTimeout(g))}function g(){x=!1;for(var a,b=y,c=0,d=b.length;d>c&&(a=b[c]);c++)a();y=[]}function h(a){w?f(function(){i(a)}):i(a)}function i(a){a.__upgraded__&&(a.attachedCallback||a.detachedCallback)&&!a.__attached&&m(a)&&(a.__attached=!0,a.attachedCallback&&a.attachedCallback())}function j(a){k(a),u(a,function(a){k(a)})}function k(a){w?f(function(){l(a)}):l(a)}function l(a){a.__upgraded__&&(a.attachedCallback||a.detachedCallback)&&a.__attached&&!m(a)&&(a.__attached=!1,a.detachedCallback&&a.detachedCallback())}function m(a){for(var b=a,c=wrap(document);b;){if(b==c)return!0;b=b.parentNode||b.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&b.host}}function n(a){if(a.shadowRoot&&!a.shadowRoot.__watched){t.dom&&console.log("watching shadow-root for: ",a.localName);for(var b=a.shadowRoot;b;)q(b),b=b.olderShadowRoot}}function o(a){if(t.dom){var c=a[0];if(c&&"childList"===c.type&&c.addedNodes&&c.addedNodes){for(var d=c.addedNodes[0];d&&d!==document&&!d.host;)d=d.parentNode;var e=d&&(d.URL||d._URL||d.host&&d.host.localName)||"";e=e.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",a.length,e||"")}a.forEach(function(a){"childList"===a.type&&(z(a.addedNodes,function(a){a.localName&&b(a)}),z(a.removedNodes,function(a){a.localName&&j(a)}))}),t.dom&&console.groupEnd()}function p(a){for(a=wrap(a),a||(a=wrap(document));a.parentNode;)a=a.parentNode;var b=a.__observer;b&&(o(b.takeRecords()),g())}function q(a){if(!a.__observer){var b=new MutationObserver(o);b.observe(a,{childList:!0,subtree:!0}),a.__observer=b}}function r(a){a=wrap(a),t.dom&&console.group("upgradeDocument: ",a.baseURI.split("/").pop()),b(a),q(a),t.dom&&console.groupEnd()}function s(a){v(a,r)}var t=a.flags,u=a.forSubtree,v=a.forDocumentTree,w=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;a.hasPolyfillMutations=w;var x=!1,y=[],z=Array.prototype.forEach.call.bind(Array.prototype.forEach),A=Element.prototype.createShadowRoot;A&&(Element.prototype.createShadowRoot=function(){var a=A.call(this);return CustomElements.watchShadow(this),a}),a.watchShadow=n,a.upgradeDocumentTree=s,a.upgradeSubtree=d,a.upgradeAll=b,a.attachedNode=e,a.takeRecords=p}),CustomElements.addModule(function(a){function b(b){if(!b.__upgraded__&&b.nodeType===Node.ELEMENT_NODE){var d=b.getAttribute("is"),e=a.getRegisteredDefinition(d||b.localName);if(e){if(d&&e.tag==b.localName)return c(b,e);if(!d&&!e["extends"])return c(b,e)}}}function c(b,c){return g.upgrade&&console.group("upgrade:",b.localName),c.is&&b.setAttribute("is",c.is),d(b,c),b.__upgraded__=!0,f(b),a.attachedNode(b),a.upgradeSubtree(b),g.upgrade&&console.groupEnd(),b}function d(a,b){Object.__proto__?a.__proto__=b.prototype:(e(a,b.prototype,b["native"]),a.__proto__=b.prototype)}function e(a,b,c){for(var d={},e=b;e!==c&&e!==HTMLElement.prototype;){for(var f,g=Object.getOwnPropertyNames(e),h=0;f=g[h];h++)d[f]||(Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(e,f)),d[f]=1);e=Object.getPrototypeOf(e)}}function f(a){a.createdCallback&&a.createdCallback()}var g=a.flags;a.upgrade=b,a.upgradeWithDefinition=c,a.implementPrototype=d}),CustomElements.addModule(function(a){function b(b,d){var i=d||{};if(!b)throw new Error("document.registerElement: first argument `name` must not be empty");if(b.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(b)+"'.");if(e(b))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(b)+"'. The type name is invalid.");if(j(b))throw new Error("DuplicateDefinitionError: a type with name '"+String(b)+"' is already registered");return i.prototype||(i.prototype=Object.create(HTMLElement.prototype)),i.__name=b.toLowerCase(),i.lifecycle=i.lifecycle||{},i.ancestry=f(i["extends"]),g(i),h(i),c(i.prototype),k(i.__name,i),i.ctor=l(i),i.ctor.prototype=i.prototype,i.prototype.constructor=i.ctor,a.ready&&q(document),i.ctor}function c(a){if(!a.setAttribute._polyfilled){var b=a.setAttribute;a.setAttribute=function(a,c){d.call(this,a,c,b)};var c=a.removeAttribute;a.removeAttribute=function(a){d.call(this,a,null,c)},a.setAttribute._polyfilled=!0}}function d(a,b,c){a=a.toLowerCase();var d=this.getAttribute(a);c.apply(this,arguments);var e=this.getAttribute(a);this.attributeChangedCallback&&e!==d&&this.attributeChangedCallback(a,d,e)}function e(a){for(var b=0;b<v.length;b++)if(a===v[b])return!0}function f(a){var b=j(a);return b?f(b["extends"]).concat([b]):[]}function g(a){for(var b,c=a["extends"],d=0;b=a.ancestry[d];d++)c=b.is&&b.tag;a.tag=c||a.__name,c&&(a.is=a.__name)}function h(a){if(!Object.__proto__){var b=HTMLElement.prototype;if(a.is){var c=document.createElement(a.tag),d=Object.getPrototypeOf(c);d===a.prototype&&(b=d)}for(var e,f=a.prototype;f&&f!==b;)e=Object.getPrototypeOf(f),f.__proto__=e,f=e;a["native"]=b}}function i(a){return s(y(a.tag),a)}function j(a){return a?w[a.toLowerCase()]:void 0}function k(a,b){w[a]=b}function l(a){return function(){return i(a)}}function m(a,b,c){return a===x?n(b,c):z(a,b)}function n(a,b){var c=j(b||a);if(c){if(a==c.tag&&b==c.is)return new c.ctor;if(!b&&!c.is)return new c.ctor}var d;return b?(d=n(a),d.setAttribute("is",b),d):(d=y(a),a.indexOf("-")>=0&&t(d,HTMLElement),d)}function o(a){var b=A.call(this,a);return r(b),b}var p,q=a.upgradeDocumentTree,r=a.upgrade,s=a.upgradeWithDefinition,t=a.implementPrototype,u=a.useNative,v=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],w={},x="http://www.w3.org/1999/xhtml",y=document.createElement.bind(document),z=document.createElementNS.bind(document),A=Node.prototype.cloneNode;p=Object.__proto__||u?function(a,b){return a instanceof b}:function(a,b){for(var c=a;c;){if(c===b.prototype)return!0;c=c.__proto__}return!1},document.registerElement=b,document.createElement=n,document.createElementNS=m,Node.prototype.cloneNode=o,a.registry=w,a["instanceof"]=p,a.reservedTagList=v,a.getRegisteredDefinition=j,document.register=document.registerElement}),function(a){function b(){g(wrap(document)),window.HTMLImports&&(HTMLImports.__importsParsingHook=function(a){g(wrap(a["import"]))}),CustomElements.ready=!0,setTimeout(function(){CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})}var c=a.useNative,d=a.initializeModules,e=/Trident/.test(navigator.userAgent);if(e&&!function(){var a=document.importNode;document.importNode=function(){var b=a.apply(document,arguments);if(b.nodeType==b.DOCUMENT_FRAGMENT_NODE){var c=document.createDocumentFragment();return c.appendChild(b),c}return b}}(),c){var f=function(){};a.watchShadow=f,a.upgrade=f,a.upgradeAll=f,a.upgradeDocumentTree=f,a.upgradeSubtree=f,a.takeRecords=f,a["instanceof"]=function(a,b){return a instanceof b}}else d();var g=a.upgradeDocumentTree;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(a){return a}),e&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,Boolean(b.bubbles),Boolean(b.cancelable),b.detail),c},window.CustomEvent.prototype=window.Event.prototype),"complete"===document.readyState||a.flags.eager)b();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var h=window.HTMLImports&&!HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(h,b)}else b()}(window.CustomElements),function(a){function b(a,b){for(var c=0;c<b.length;c++)if(-1===a.indexOf(b[c]))return!1;return!0}function c(a){return a&&h.test(a)}function d(){this._ventPropagationStopped=!0,Event.prototype.stopPropagation.call(this)}function e(){this._ventImmediatePropagationStopped=!0,Event.prototype.stopImmediatePropagation.call(this)}function f(b){if(this===a)throw new Error("Vent must be invoked with the new keyword");var c;c="string"==typeof b?document.querySelector(b):b,this.root=c,this._listenersByType=Object.create(null),this._allListeners=[],this._executeCaptureListeners=this._executeCaptureListeners.bind(this),this._executeBubbleListeners=this._executeBubbleListeners.bind(this),this._id=this._id||g++}var g=0,h=/^\s*(>|:scope\s*>)/,i=function(){var a=Element.prototype,b=a.matches||a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;if(!b)throw new Error("Vent: Browser does not support matchesSelector");return b}();f.prototype._listenerMatchesRootTarget=function(a,b){return null===a.selector&&b===this.root},f.prototype._listenerMatchesDelegateTarget=function(a,b){return b!==document&&b!==this.root&&null!==a.selector&&(a.isScoped?i.call(b,'[__vent-id__="'+this._id+'"] '+a.selector):i.call(b,a.selector))},f.prototype._listenerMatchesEventPhase=function(a,b){return a.useCapture===b},f.prototype._executeListenersAtElement=function(a,b,c,d){var e,f;a:for(var g=0;g<b.length&&(e=b[g],"click"===c.type&&a.disabled===!0||!this._listenerMatchesRootTarget(e,a)&&!this._listenerMatchesDelegateTarget(e,a)||!this._listenerMatchesEventPhase(e,d)||(c.matchedTarget=a,f=e.handler.call(a,c),f===!1&&(c.preventDefault(),c.stopPropagation()),!c._ventImmediatePropagationStopped));g++);},f.prototype._executeCaptureListeners=function(a){var b=this._listenersByType[a.type];if(!b)throw new Error("Vent: _executeListeners called in response to "+a.type+", but we are not listening to it");if(b.length){b=b.slice(),this._decorateEvent(a);var c=this._getPath(a);a:for(var d=c.length-1;d>=0&&b.length;d--){var e=c[d];if(this._executeListenersAtElement(e,b,a,!0),a._ventImmediatePropagationStopped||a._ventPropagationStopped)break a}}this._undecorateEvent(a)},f.prototype._executeBubbleListeners=function(a){var b=this._listenersByType[a.type];if(!b)throw new Error("Vent: _executeListeners called in response to "+a.type+", but we are not listening to it");if(b.length){b=b.slice(),this._decorateEvent(a);var c="focus"!==a.type&&"blur"!==a.type,d=this._getPath(a);a:for(var e=0;e<d.length&&b.length;e++){var f=d[e];if(this._executeListenersAtElement(f,b,a,!1),a._ventImmediatePropagationStopped||a._ventPropagationStopped)break a;if(!c)break a}}this._undecorateEvent(a),a["_ventPath"+this._id]=null},f.prototype._decorateEvent=function(a){a.stopPropagation=d,a.stopImmediatePropagation=e},f.prototype._undecorateEvent=function(a){a.stopPropagation=Event.prototype.stopPropagation,a.stopImmediatePropagation=Event.prototype.stopImmediatePropagation},f.prototype._getPath=function(a){if(a["_ventPath"+this._id])return a["_ventPath"+this._id];var b=a.target;b.nodeType===Node.TEXT_NODE&&(b=b.parentNode);for(var c=b,d=[];c&&c!==this.root;)d.push(c),c=c.parentNode;return d.push(this.root),a["_ventPath"+this._id]=d,d},f.prototype.on=function(a,b,d,e){if("function"==typeof b&&(e=d,d=b,b=null),"function"!=typeof d)throw new Error("Vent: Cannot add listener with non-function handler");b||(b=null),"undefined"==typeof e&&(e="focus"===a||"blur"===a?!0:!1);var f=null,g=a.indexOf(".");-1!==g&&(f=a.slice(g+1).split("."),a=a.slice(0,g));var i=this._listenersByType[a];i||(i=this._listenersByType[a]=[],this.root.addEventListener(a,this._executeCaptureListeners,!0),this.root.addEventListener(a,this._executeBubbleListeners,!1));var j=c(b);j&&(b=b.replace(h,">"),this.root.setAttribute("__vent-id__",this._id));var k={eventName:a,handler:d,namespaces:f,selector:b,useCapture:e,isScoped:j};i.push(k),this._allListeners.push(k)},f.prototype.off=function(a,c,d,e){"function"==typeof c&&(e=d,d=c,c=null),"undefined"==typeof a&&(a=null),"undefined"==typeof c&&(c=null),"undefined"==typeof d&&(d=null),"undefined"==typeof e&&(e=null);var f=null;if(a){var g=a.indexOf(".");-1!==g&&(f=a.slice(g+1).split("."),a=a.slice(0,g))}""===a&&(a=null);for(var h,i,j=this._allListeners,k=0;k<j.length;k++)if(h=j[k],(null===a||h.eventName===a)&&(null===c||h.selector===c)&&(null===d||h.handler===d)&&(null===e||h.useCapture===e)&&(null===f||h.namespaces&&b(h.namespaces,f))){if(this._allListeners.splice(k,1),k--,!this._listenersByType[h.eventName])throw new Error("Vent: Missing listenersByType for "+h.eventName);if(i=this._listenersByType[h.eventName].indexOf(h),-1===i)throw new Error("Vent: Event existed in allEvents, but did not exist in listenersByType");var l=this._listenersByType[h.eventName];l.splice(i,1),0===l.length&&(this.root.removeEventListener(h.eventName,this._executeCaptureListeners,!0),this.root.removeEventListener(h.eventName,this._executeBubbleListeners,!1),this._listenersByType[h.eventName]=null)}return this},"function"==typeof CustomEvent?f.prototype.dispatch=function(a,b){b=b||{},"undefined"==typeof b.bubbles&&(b.bubbles=!0),"undefined"==typeof b.cancelable&&(b.cancelable=!0);var c=new CustomEvent(a,b);return this.root.dispatchEvent(c),c}:f.prototype.dispatch=function(a,b){b=b||{},"undefined"==typeof b.bubbles&&(b.bubbles=!0),"undefined"==typeof b.cancelable&&(b.cancelable=!0);var c=document.createEvent("CustomEvent");c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);var d=!this.root.dispatchEvent(c);if(d!==c.defaultPrevented){var e=Object.create(c);return Object.defineProperty(e,"defaultPrevented",{value:d}),e}return c},f.prototype.destroy=function(){this.destroyed||(this.off(),this._listenersByType=null,this._allListeners=null,this.root=null,this.destroyed=!0)},a.Vent=f}(this);var Coral=Coral||{};Coral.events=new Vent(window),Coral.commons=Coral.commons||{},Coral.commons.extend=function(){"use strict";for(var a=arguments[0],b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)a[e]=d[e]}return a},Coral.commons.augment=function(){"use strict";var a,b=arguments[0],c=arguments.length,d=arguments[c-1];"function"==typeof d&&(a=d,c--);for(var e=1;c>e;e++){var f=arguments[e];for(var g in f)if("undefined"!=typeof b[g]){if("function"==typeof a){var h=a(b[g],f[g],g,b,f);"undefined"!=typeof h&&(b[g]=h)}}else b[g]=f[g]}return b},Coral.commons.swapKeysAndValues=function(a){"use strict";var b={};for(var c in a)b[a[c]]=c;return b},Coral.commons.nextFrame=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(a){"use strict";return window.setTimeout(a,1e3/60)}).bind(window),Coral.commons.transitionEnd=function(a,b){"use strict";var c,d=jQuery(a),e=!1,f=null,g={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd"},h=null,i=function(c){var d="undefined"==typeof c;e||(e=!0,clearTimeout(h),a.removeEventListener(f,i),b({target:a,cssTransitionSupported:!0,transitionStoppedByTimeout:d}))};for(c in g)if(void 0!==a.style[c]){f=g[c];break}null!==f?(a.addEventListener(f,i),h=setTimeout(i,1e3*parseFloat(d.css("transition-duration"))+100)):b({target:a,cssTransitionSupported:!1,transitionStoppedByTimeout:!1})},function(){"use strict";function a(a){if(0===a.tagName.indexOf("CORAL-"))return!0;var b=a.getAttribute("is");return b&&0===b.toUpperCase().indexOf("CORAL-")?!0:!1}function b(b,c){var d=0,e=0;if(a(b)&&!b._componentReady)return!1;for(var f=0;f<c.length;f++){var g=c[f];a(g)&&(e++,g._componentReady&&d++)}return d===e}var c=!1;window.addEventListener("WebComponentsReady",function d(){c=!0,window.removeEventListener("WebComponentsReady",d)}),Coral.commons.ready=function(a,d){if("function"==typeof a)return d=a,void(c?d(window):window.addEventListener("WebComponentsReady",function f(){d(window),window.removeEventListener("WebComponentsReady",f)}));var e=a.getElementsByTagName("*");b(a,e)?d(a):a.addEventListener("coral-component:ready",function g(c){b(a,e)&&(a.removeEventListener("coral-component:ready",g),d(a))})}}(),Coral.commons.setSubProperty=function(a,b,c){"use strict";var d=b.split("."),e=a;if(1===d.length)return void(e[b]=c);for(;d.length>1;){var f=d.shift();if(!e[f])throw new Error("Coral.commons.setSubProperty: could not set "+b+", part "+f+" not found");e=e[f]}e[d.shift()]=c},Coral.commons.getSubProperty=function(a,b){"use strict";var c=b.split("."),d=a;if(1===c.length)return d[b];for(;c.length;){var e=c.shift();if(0!==c.length&&"undefined"==typeof d[e])throw new Error("Coral.commons.getSubProperty: could not get "+b+", part "+e+" not found");d=d[e]}return d},function(){"use strict";function a(a,b,c){var d=typeof b;if("function"===d)b(a,c);else{if("object"!==d||null===b)throw new Error("Coral.commons.mixin: Cannot mix in "+d+" to "+a.toString());Coral.commons.extend(a,b)}}Coral.commons.mixin=function(b,c,d){if(Array.isArray(c))for(var e=0;e<c.length;e++)a(b,c[e],d);else a(b,c,d)}}(),function(){"use strict";var a=0;Coral.commons.getUID=function(){return"coral-id-"+a++}}(),
function(){"use strict";function a(){}function b(a,b){return function(){var c=a.apply(this,arguments);return b.apply(this,arguments),c}}function c(a){return"function"==typeof a}Coral.commons.callAll=function(){var d=arguments[arguments.length-1];"number"!=typeof d&&(d=0);var e=arguments[d],f=Array.prototype.filter.call(arguments,c);return 2===f.length&&0===d?b(f[0],f[1]):1===f.length?f[0]:0===f.length?a:("function"!=typeof e&&(e=f[0]),function(){for(var a,b,c,d=0;d<f.length;d++)c=f[d],b=c.apply(this,arguments),c===e&&(a=b);return a})}}(),function(){"use strict";function a(){var a=navigator.userAgent.match(/Trident/);this.nativeResizeSupport=document.attachEvent||a}a.prototype._addTriggerElement=function(a,b){"static"===getComputedStyle(a).position&&(a.style.position="relative");var c=document.createElement("object");a._resizeTriggerElement=c,c.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -100;"),c.setAttribute("tabindex","-1"),c.onload=function(c){this.contentDocument.defaultView._originalElement=a,this.contentDocument.defaultView._listenerFunction=b,this.contentDocument.defaultView.addEventListener("resize",b),b({target:this.contentDocument.defaultView})},c.type="text/html",c.data="about:blank",a.appendChild(c)},a.prototype._removeTriggerElement=function(a){if(a._resizeTriggerElement){var b=a._resizeTriggerElement;b.contentDocument&&b.contentDocument.defaultView&&b.contentDocument.defaultView.removeEventListener("resize",b.contentDocument.defaultView._listenerFunction),a._resizeTriggerElement=!a.removeChild(a._resizeTriggerElement)}},a.prototype._fireResizeListeners=function(a){var b=a.target||a.srcElement,c=b._originalElement||b;c._resizeListeners.forEach(function(b){b.call(c,a)})},a.prototype.addResizeListener=function(a,b){if(a){if(this.nativeResizeSupport)return void a.addEventListener("resize",b);a._resizeListeners&&0!==a._resizeListeners.length||(a._resizeListeners=[],this._addTriggerElement(a,this._fireResizeListeners.bind(this))),a._resizeListeners.push(b)}},a.prototype.removeResizeListener=function(a,b){if(a){if(this.nativeResizeSupport)return void a.removeEventListener("resize",b);if(a._resizeListeners&&a._resizeTriggerElement){var c=a._resizeListeners.indexOf(b);-1!==c&&(a._resizeListeners.splice(c,1),a._resizeListeners.length||this._removeTriggerElement(a))}}};var b=new a;Coral.commons.addResizeListener=b.addResizeListener.bind(b),Coral.commons.removeResizeListener=b.removeResizeListener.bind(b)}(),Coral.transform={},Coral.transform["boolean"]=function(a){"use strict";return!!a},Coral.transform.booleanAttr=function(a){"use strict";return!(null===a||"undefined"==typeof a)},Coral.transform.number=function(a){"use strict";return a=parseFloat(a),isNaN(a)?null:a},Coral.transform["float"]=function(a){"use strict";return/^(\-|\+)?([0-9]+(\.[0-9]+)?|Infinity)$/.test(a)?Number(a):null},Coral.transform.string=function(a){"use strict";return null===a||"undefined"==typeof a?"":"string"==typeof a?a:String(a)},Coral.validate={},Coral.validate.valueMustChange=function(a,b){"use strict";return a!==b},Coral.validate.enumeration=function(a){"use strict";var b=Coral.commons.swapKeysAndValues(a);return function(a,c){return"undefined"!=typeof b[a]}},Coral.property={},Coral.property.proxy=function(a){"use strict";function b(a,b){Coral.commons.setSubProperty(this,d,a)}function c(){return Coral.commons.getSubProperty(this,d)}var d=a.path,e=function(e,f){var g="_"+f;return a.needsDOMSync?(a.sync=function(){Coral.commons.setSubProperty(this,d,this[g]),this[g]=void 0},a.set=function(a,b){this[g]=a},a.get=function(){return"undefined"==typeof this[g]?Coral.commons.getSubProperty(this,d):this[g]}):(a.set=b,a.get=c,a.sync=null),a};return e.override="undefined"!=typeof a.override?a.override:!0,e},Coral.property.proxyAttr=function(a){"use strict";var b=a.attribute,c=a.handle,d=function(d,e){return Coral.commons.extend({attribute:b,set:function(a){this._elements[c][a===!1||null===a?"removeAttribute":"setAttribute"](b,a)},get:function(){return this._elements[c].getAttribute(b)}},a)};return d.override="undefined"!=typeof a.override?a.override:!0,d},Coral.property.contentZone=function(a){"use strict";var b=a.handle,c=a.tagName,d=a.set,e=a.get,f=function(f,g){return Coral.commons.extend({},a,{contentZone:!0,set:function(a){if(!(a instanceof HTMLElement))throw new Error("DOMException: Failed to set the '"+g+"' property on '"+this.toString()+"': The provided value is not of type 'HTMLElement'.");if(c&&a.tagName.toLowerCase()!==c)throw new Error("DOMException: Failed to set the '"+g+"' property on '"+this.toString()+"': The new "+g+" element is of type '"+a.tagName+"'. It must be a '"+c.toUpperCase()+"' element.");this._elements[b].parentNode.replaceChild(a,this._elements[b]),this._elements[b]=a,"function"==typeof d&&d.call(this,a)},get:e||function(){return this._elements[b]}})};return f};var Coral=Coral||{};!function(){"use strict";function a(){}function b(a){return a}function c(a){return a.validate?Array.isArray(a.validate)?a.validate:[a.validate]:[Coral.validate.valueMustChange]}function d(b,c){if(!c.reflectAttribute)return a;var d=c.attribute||b;return function(a,b){a===!1||null===a?this.removeAttribute(d):(a===!0&&(a=""),this.getAttribute(d)!==a&&this.setAttribute(d,a))}}function e(b){if(!b)return a;if("function"==typeof b)return b;var c=b;return function(a,b){return this.trigger(c,{oldValue:b,value:a})}}function f(b,c){var d=c.alsoSync,e=c.sync;return e||d?d?(Array.isArray(d)?d.unshift(b):d=[b,d],function(a){this._queueSync.apply(this,d)}):function(a){this._queueSync(b)}:a}function g(a,g,h){var i;if("function"==typeof h.triggerBefore||"string"==typeof h.triggerBefore)i=h.triggerBefore;else if(h.triggerBefore===!0){if("string"!=typeof h.trigger||-1===h.trigger.indexOf(":"))throw new Error('Coral.register: Cannot automatically set "before" event name unless descriptor.trigger is a string that conatins a colon');i=h.trigger.replace(":",":before")}h.set=h.set||k(g),h.get=h.get||j(g),h._methods={},h._methods.triggerBefore=e(i),h._methods.trigger=e(h.trigger),h._methods.transform=h.transform||b,h._methods.attributeTransform=h.attributeTransform||b,h._methods.reflectAttribute=d(g,h),h._methods.queueSync=f(g,h),h._methods.validate=c(h),h.attribute?a._attributes[h.attribute]=g:a._attributes[h.attribute]=null,a._properties[g]=h}function h(a){return function(){return this._properties[a].get.call(this)}}function i(a){return function(b,c){var d=this._properties[a],e=d._methods,f=e.transform.call(this,b,this._properties[a]["default"]),g=this[a],h=this,i=e.validate.some(function(a){return!a.call(h,f,g)});if(!i){if(!c){var j=e.triggerBefore.call(this,f,g);if(j&&j.defaultPrevented)return}d.set.call(this,f,c),e.reflectAttribute.call(this,f),e.queueSync.call(this),c||e.trigger.call(this,f,g),this._setProps[a]=!0}}}function j(a){var b="_"+a;return function(){return this[b]}}function k(a){var b="_"+a;return function(a){this[b]=a}}function l(a,b){for(var c in b)b[c]&&m(a,c,b[c])}function m(a,b,c){if("function"==typeof c&&(c=c(a,b),!c))throw new Error("Coral.register.defineProperty: Property function did not return a descriptor for "+b);g(a,b,c);var d=c._methods.set=i(b),e=c._methods.get=h(b);Object.defineProperty(a,b,{enumerable:!0,configurable:!1,set:d,get:e})}function n(a){return r[a]=r[a]||Object.getPrototypeOf(document.createElement(a)),r[a]}function o(a,b,c){switch(c){case"sync":case"set":return p(b,a);default:return a}}function p(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}var q={extend:!0,properties:!0,events:!0,_elements:!0,name:!0,tagName:!0,baseTagName:!0,className:!0},r={};Coral.register=function(a){a.extend&&!a.extend.prototype._methods&&(a.extend=Coral.Component);var b=a.extend||Coral.Component,c=b.prototype,d=c,e=a.properties?Coral.commons.extend({},a.properties):{};a.baseTagName&&(d=n(a.baseTagName));var f=Object.create(d);if(f._proto=c,a.baseTagName){for(var h=[],i=c;i&&i._methods;)h.unshift(i),i=i._proto;for(;i=h.shift();)for(var j in i._methods)f[j]=i[j]}f._attributes=Coral.commons.extend({},c._attributes),f._properties={},f._events=Coral.commons.extend({},c._events,a.events),f._elements=Coral.commons.extend({},c._elements,a._elements),f._componentName=a.name,f._className=a.className;var k=f._methods={};for(var m in a)q[m]||(f[m]=k[m]=a[m]);a.mixins&&Coral.commons.mixin(f,a.mixins,{properties:e}),Coral.commons.augment(f._properties,c._properties,e,function(a,b,c){if(b.override===!0)return b;var d=Coral.commons.augment({},b,a,o);return g(f,c,d),e[c]=void 0,d}),a.baseTagName?l(f,f._properties):l(f,e);var p={prototype:f};a.baseTagName&&(p["extends"]=a.baseTagName);var r=document.registerElement(a.tagName,p);return Coral.commons.setSubProperty(Coral,a.name,r),r},Coral.register.defineProperties=l,Coral.register.defineProperty=m,Coral.register.augmentProperties=function(a,b,c){Coral.commons.augment(a,b,function(a,b,d){if(a.override===!0)return a;var e=Coral.commons.augment({},a,b,c||o);return e})}}(),Coral.mixin=Coral.mixin||{},function(a){"use strict";function b(a){var b=a.target,c=b.tagName,d=b.isContentEditable,e=m[c];return!d&&!e}function c(a){a=a.toLowerCase();var b=k[a]||g[a];if(!b&&a.length>1)throw new Error("Coral.Keys: Key "+a+" not recognized");return b||a.toUpperCase().charCodeAt(0)}function d(a){return j[a]||a}function e(a){return a.toString().split("+").map(c).sort().join("+")}function f(a,c){function j(a){clearTimeout(B),B=setTimeout(t,Coral.Keys.sequenceTime);var b=d(a.keyCode);h[b]||(-1===z.indexOf(b)&&(z.push(b),k(a)),o.call(this,a),a.metaKey&&u(),a.target.parentNode||u())}function k(a){for(var b=[],c=0;c<i.length;c++){var d=i[c];a[d]&&b.push(g[d.slice(0,-3)])}A=z.concat(b).sort().join("+")}function m(a){var b=d(a.keyCode);if(h[b])return void u();var c=z.indexOf(b);-1!==c&&(z.splice(c,1),k(a),o.call(this,a,!0))}function n(){var a=[];return y.forEach(function(b){b.parts[b.currentPart]===A?b.currentPart++:b.currentPart=0,b.currentPart===b.parts.length&&(a.push(b),b.currentPart=0)}),a}function o(a,b){if(A&&E(a)){var c,d=a.target||a.srcElement,e=[],f=x[A];if(b||(c=n()),f&&f.length&&(e=e.concat(f)),c&&c.length&&(e=e.concat(c)),e&&e.length){for(var g=0;g<e.length;g++){var h=e[g];if(h.selector){var i=h.needsContext?jQuery(h.selector,this).index(d)>=0:jQuery.find(h.selector,this,null,[d]).length;if(!i)continue}void 0!==typeof h.data&&(a.data=h.data),a.matchedTarget=d,h.listener.call(D||this,a)}F&&a.preventDefault(),G&&a.stopPropagation()}}}function p(a,b,c,d){if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(var f in a)this.on(f,b,c,a[f]);return this}if("undefined"==typeof c&&"undefined"==typeof d?(d=b,c=b=void 0):"undefined"==typeof d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),"function"!=typeof d)throw new Error("Coral.Keys: Cannot add listener of type "+typeof d);var g,h=l.exec(a);h&&(a=h[1],g=h[2]);var i=b?jQuery.expr.match.needsContext.test(d.selector):!1;if(-1!==a.toString().indexOf("-")){var j=q(a);y.push({originalString:a,currentPart:0,parts:j,needsContext:i,selector:b,listener:d,data:c,namespace:g})}else{a=e(a);var k=x[a]=x[a]||[];k.push({needsContext:b?jQuery.expr.match.needsContext.test(d.selector):!1,selector:b,listener:d,data:c,namespace:g})}return this}function q(a){return a.toString().split("-").map(e)}function r(a,b,c,d){var e,f=x[a];if(f&&f.length)if("undefined"==typeof c&&"undefined"==typeof d&&"undefined"==typeof b)f.length=0;else if("undefined"==typeof d)for(e=0;e<f.length;e++)f[e].selector===c&&f[e].namespace===b&&(f.splice(e,1),e--);else for(e=0;e<f.length;e++)f[e].listener===d&&f[e].selector===c&&f[e].namespace===b&&(f.splice(e,1),e--)}function s(a,b,c){"undefined"==typeof c&&(c=b,b=void 0);var d,f,g=l.exec(a);if(g&&(a=g[1],f=g[2]),""===a&&void 0!==f){for(a in x)r(a,f,b,c);for(d=0;d<y.length;d++)y[d].namespace===f&&(y.splice(d,1),d--);return this}if(-1!==a.indexOf("-"))for(d=0;d<y.length;d++)void 0!==a&&y[d].originalString!==a||void 0!==c&&y[d].listener!==c||void 0!==b&&y[d].selector!==b||void 0!==f&&y[d].namespace!==f||(y.splice(d,1),d--);else a=e(a),r(a,f,b,c);return this}function t(){clearTimeout(B),y.forEach(function(a){a.currentPart=0})}function u(){return z=[],A="",this}function v(){return z=[],A="",x={},y=[],C.addEventListener("keydown",j),window.addEventListener("keyup",m,!0),window.addEventListener("focus",u),this}function w(){return x=null,z=null,A=null,C.removeEventListener("keydown",j),window.removeEventListener("keyup",m,!0),window.removeEventListener("focus",u),this}if(c=c||{},"undefined"==typeof a)throw new Error("Coral.Keys: Cannot create a combo handler for "+a);var x,y,z,A,B,C="string"==typeof a?document.querySelector(a):a,D=c.context,E=c.filter||b,F=c.preventDefault||!1,G=c.stopPropagation||!1;return this instanceof f&&v(),{on:p,off:s,reset:u,init:v,destroy:w}}var g={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91,meta:91},h={16:!0,17:!0,18:!0,91:!0},i=["shiftKey","ctrlKey","altKey","metaKey"],j={96:48,97:49,98:50,99:51,100:52,101:53,102:54,103:55,104:56,105:57},k={backspace:8,tab:9,"return":13,enter:13,pause:19,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,"delete":46,";":186,"=":187,"*":106,plus:107,minus:189,".":190,period:190,"/":191,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,f13:124,f14:125,f15:126,f16:127,f17:128,f18:129,f19:130,numlock:144,scroll:145,",":188,"`":192,"[":219,"\\":220,"]":221,"'":222},l=/(.*?)(\..+)$/,m={INPUT:!0,SELECT:!0,TEXTAREA:!0};Coral.Keys=f,Coral.Keys.filterInputs=b,Coral.Keys.keyToCode=c,Coral.Keys.sequenceTime=1500,Coral.keys=new Coral.Keys(document.documentElement,{stopPropagation:!0,preventDefault:!0})}(jQuery),function(){"use strict";function a(a,b,c){if("function"==typeof c)return c;if("string"==typeof c){if(!a[c])throw new Error("Coral.Component: Unable to add "+b+" listener for "+a.toString()+", method "+c+" not found");var d=a[c];if("function"!=typeof d)throw new Error("Coral.Component: Unable to add "+b+" listener for "+a.toString()+", listener is a "+typeof d+" but should be a function");return d}if(c)throw new Error("Coral.Component: Unable to add "+b+" listener for "+a.toString()+", "+c+" is neither a method name or a function");return null}var b=jQuery,c=/^(\S+)\s*(.*)$/;Coral.Component=function(){throw new Error("Coral.Component is not meant to be invoked directly. Inherit from its prototype instead.")},Coral.Component.prototype=Object.create(HTMLElement.prototype),Coral.Component.prototype._properties={},Coral.Component.prototype.toString=function(){return"Coral."+this._componentName},Coral.Component.prototype._events={},Coral.Component.prototype.createdCallback=function(){this.toString!==Coral.Component.prototype.toString&&(this.toString=Coral.Component.prototype.toString),this._setProps={},this._syncQueue=[],this._syncDOM=this._syncDOM.bind(this),this.$=b(this),this._vent=new Vent(this),this._className&&this.$.addClass(this._className),this._elements={},"function"==typeof this._render&&this._render();var a,c,d,e,f,g={};for(a in this._properties)e=this._properties[a],c=e.attribute||a,g[a]=this.getAttribute(c);for(a in this._properties){if(e=this._properties[a],f=e._methods,d=g[a],null!==d&&(f.attributeTransform&&(d=f.attributeTransform.call(this,d,e["default"])),e.transform&&(d=f.transform.call(this,d,e["default"])),f.validate))for(var h=0;h<f.validate.length;h++)if(!f.validate[h].call(this,d)){d=null;break}if(null===d){if(this._setProps[a])continue;if(d="function"==typeof e["default"]?e["default"].call(this):e["default"],"undefined"==typeof d)continue}this.set(a,d,!0)}this._delegateEvents(),"function"==typeof this._initialize&&this._initialize(),this._componentReady=!0,this.trigger("coral-component:ready")},Coral.Component.prototype._filterKeys=function(){return!0},Coral.Component.prototype.attachedCallback=function(){this.trigger("coral-component:attached"),this._delegateGlobalEvents()},Coral.Component.prototype.detachedCallback=function(){this.trigger("coral-component:detached"),this._undelegateGlobalEvents()},Coral.Component.prototype.attributeChangedCallback=function(a,b,c){var d=this._attributes[a]||a,e=this._properties[d];if("undefined"!=typeof e){if(null===e.attribute)return;["attributeTransform","transform"].forEach(function(a){var b=e._methods[a];b&&(c=b.call(this,c,e["default"]))},this),c!==this[d]&&(this[d]=c)}this._properties["_"+d]&&this._properties["_"+d].set.call(this,c)},Coral.Component.prototype._queueSync=function(){for(var a=0,b=arguments.length;b>a;a++){var c=arguments[a],d=this._syncQueue.indexOf(c);-1!==d&&this._syncQueue.splice(d,1),this._syncQueue.push(c)}this._syncPending||(Coral.commons.nextFrame(this._syncDOM),this._syncPending=!0)},Coral.Component.prototype._syncProp=function(a,b){var c=this._properties[a].sync;if(c?c.call(this):console.warn("Coral.Component: sync method for %s is not defined",a),!b){var d=this._syncQueue.indexOf(a);-1!==d&&this._syncQueue.splice(d,1)}},Coral.Component.prototype._syncDOM=function(){for(var a;a=this._syncQueue.shift();)this._syncProp(a,!0);this._syncPending=!1},Coral.Component.prototype._delegateEvents=function(){var b,d,e,f,g,h,i,j,k,l;for(e in this._events)if(f=this._events[e],b=e.match(c),d=b[1]+".CoralComponent",g=b[2],""===g&&(g=void 0),f=a(this,d,f)){if(f=f.bind(this),i=0===d.indexOf("global:"),i&&(d=d.substr(7)),l=0===d.indexOf("capture:"),l&&(d=d.substr(8)),j=0===d.indexOf("key:")){if(l)throw new Error("Coral.Keys does not currently support listening to key events with capture");d=d.substr(4)}if(k=0===d.indexOf("resize"),k&&l)throw new Error("Coral.commons.addResizeListener does not currently support listening to resize event with capture");if(i)j?(this._globalKeys=this._globalKeys||[],this._globalKeys.push({keyCombo:d,selector:g,listener:f})):(this._globalEvents=this._globalEvents||[],this._globalEvents.push({eventName:d,selector:g,listener:f,isCapture:l}));else if(j)this._keys=this._keys||new Coral.Keys(this,{filter:this._filterKeys,context:this}),this._keys.on(d,g,f);else if(k)if(g){h=document.querySelectorAll(g);for(var m=0;m<h.length;++m)Coral.commons.addResizeListener(h[m],f)}else Coral.commons.addResizeListener(this,f);else this._vent.on(d,g,f,l)}},Coral.Component.prototype._undelegateGlobalEvents=function(){var a;if(this._globalEvents)for(a=0;a<this._globalEvents.length;a++){var b=this._globalEvents[a];Coral.events.off(b.eventName,b.selector,b.listener,b.isCapture)}if(this._globalKeys)for(a=0;a<this._globalKeys.length;a++){var c=this._globalKeys[a];Coral.keys.off(c.keyCombo,c.selector,c.listener)}return this},Coral.Component.prototype._delegateGlobalEvents=function(){var a;if(this._globalEvents)for(a=0;a<this._globalEvents.length;a++){var b=this._globalEvents[a];Coral.events.on(b.eventName,b.selector,b.listener,b.isCapture)}if(this._globalKeys)for(a=0;a<this._globalKeys.length;a++){var c=this._globalKeys[a];Coral.keys.on(c.keyCombo,c.selector,c.listener)}return this},Coral.Component.prototype.on=function(a,b,c,d){return this._vent.on(a,b,c,d),this},Coral.Component.prototype.off=function(a,b,c,d){return this._vent.off(a,b,c,d),this},Coral.Component.prototype.trigger=function(a,b,c,d){c=c||void 0===c,d=d||void 0===d;var e=new CustomEvent(a,{bubbles:c,cancelable:d,detail:b}),f=!1;try{f=!this.dispatchEvent(e)}catch(g){}if(f!==e.defaultPrevented){var h=Object.create(e);return Object.defineProperty(h,"defaultPrevented",{value:f}),h}return e},Coral.Component.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},Coral.Component.prototype._doSet=function(a,b,c){var d=this._properties&&this._properties[a];d?d.contentZone&&this[a].set?this[a].set(b):d._methods&&d._methods.set?d._methods.set.call(this,b,!!c):this[a]=b:this[a]=b},Coral.Component.prototype.set=function(a,b,c){var d,e,f;if("string"==typeof a)d=a,f=b,this._doSet(d,f,c);else{e=a,c=b;for(d in e)f=e[d],this._doSet(d,f,c)}return this},Coral.Component.prototype.get=function(a){return this[a]},Coral.Component.prototype.show=function(){return this.hidden?(this.hidden=!1,this):this},Coral.Component.prototype.hide=function(){return this.hidden?this:(this.hidden=!0,this)},Coral.Component.prototype._methods={};for(var d in Coral.Component.prototype)Coral.Component.prototype.hasOwnProperty(d)&&(Coral.Component.prototype._methods[d]=Coral.Component.prototype[d])}(),function(){"use strict";Coral.Collection=function(){};var a={length:{get:function(){return this.getAll().length}}};Coral.Collection.prototype=Object.create(Object.prototype,a),Coral.Collection.prototype._properties=a,Coral.Collection.prototype.add=function(a,b){throw new Error("Not implemented. Please override add() to provide a base implementation.")},Coral.Collection.prototype.clear=function(){for(var a=this.getAll(),b=[],c=a.length-1;c>-1;c--)b.push(this.remove(a[c]));return b},Coral.Collection.prototype.getAll=function(){throw new Error("Not implemented. Please override getAll() to provide a base implementation.")},Coral.Collection.prototype.remove=function(a){return a.parentNode&&a.parentNode.removeChild(a),a}}(),function(){"use strict";function a(){if(o){var a=x.some(function(a){return a.backdrop?!0:void 0});a?b():d();var c=x.top();c&&c.instance.trapFocus===t.ON&&c.instance._requestedBackdrop?c&&c.instance.trapFocus===t.ON&&c.instance._requestedBackdrop&&i():j()}}function b(){var a=x.top();if(a){for(var b=w.length-1;b>-1;b--)if(w[b].backdrop){o.style.zIndex=w[b].zIndex-1;break}g(a.instance)}}function c(){clearTimeout(q)}function d(){$(document.body).removeClass("u-coral-noscroll"),Coral.commons.nextFrame(function(){p.removeClass("is-open"),c(),q=setTimeout(function(){o.style.display="none"},Coral.mixin.overlay.FADETIME)}),o._isOpen=!1,h()}function e(a,b){$(document.body).addClass("u-coral-noscroll"),o||(o=document.createElement("div"),o.className="coral-Backdrop",document.body.appendChild(o),p=$(o),p.on("click",f)),o.style.zIndex=a-1,o._isOpen=!0,c(),o.style.display="",Coral.commons.nextFrame(function(){p.addClass("is-open")}),g(b)}function f(a){x.forEach(function(b){"function"==typeof b.instance.backdropClickedCallback&&b.instance.backdropClickedCallback(a)})}function g(a){for(var b=document.body.children,c=0;c<b.length;c++){var d=b[c];if(d!==a&&!d.contains(this)){var e=d.getAttribute("aria-hidden");if(e){if(d._previousAriaHidden=d._previousAriaHidden||e,"true"===e)continue}else d._previousAriaHidden="false";d.setAttribute("aria-hidden","true")}}a.setAttribute("aria-hidden","false")}function h(){for(var a=document.body.children,b=0;b<a.length;b++){var c=a[b];c.setAttribute("aria-hidden",c._previousAriaHidden||"false")}}function i(){k?(document.body.firstElementChild!==k&&l.prependTo(document.body),document.body.lastElementChild!==m&&n.appendTo(document.body)):(k=document.createElement("div"),k.setAttribute("coral-tabcapture",""),k.tabIndex=0,l=$(k),l.prependTo(document.body),l.on("focus",function(a){var b=x.top();b&&b.instance.trapFocus===t.ON&&b.instance.$.find(":tabbable").not("[coral-tabcapture]").first().focus()}),m=document.createElement("div"),m.setAttribute("coral-tabcapture",""),m.tabIndex=0,n=$(m),n.appendTo(document.body),n.on("focus",function(a){var b=x.top();b&&b.instance.trapFocus===t.ON&&b.instance.$.find(":tabbable").not("[coral-tabcapture]").last().focus()})),k.style.display="inline",m.style.display="inline"}function j(){k&&(k.style.display="none",m.style.display="none")}var k,l,m,n,o,p,q,r=1e4,s=9,t={ON:"on",OFF:"off"},u={ON:"on",OFF:"off"},v={ON:"on",OFF:"off"},w=[],x={pop:function(a){var b=this.indexOf(a);if(-1===b)return null;var c=w[b];return w.splice(b,1),c},push:function(a){var c=this.pop(a)||{instance:a},d=this.getHighestZIndex()+10;return c.zIndex=d,a.style.zIndex=d,w.push(c),c.backdrop&&b(),c},indexOf:function(a){for(var b=0;b<w.length;b++)if(w[b].instance===a)return b;return-1},get:function(a){var b=this.indexOf(a);return-1===b?null:w[b]},top:function(){var a=w.length;return 0===a?null:w[a-1]},getHighestZIndex:function(){var a=this.top();return a?a.zIndex:r},some:function(){return w.some.apply(w,arguments)},forEach:function(){return w.forEach.apply(w,arguments)}},y={trapFocus:{attribute:"trapfocus","default":t.OFF,validate:Coral.validate.enumeration(t),set:function(a){a===t.ON?(this.$.is(":focusable")||(this.tabIndex=0),this._elements.topTabCapture=document.createElement("div"),this._elements.topTabCapture.setAttribute("coral-tabcapture","top"),this._elements.topTabCapture.tabIndex=0,this.insertBefore(this._elements.topTabCapture,this.firstElementChild),this._elements.intermediateTabCapture=document.createElement("div"),this._elements.intermediateTabCapture.setAttribute("coral-tabcapture","intermediate"),this._elements.intermediateTabCapture.tabIndex=0,this.appendChild(this._elements.intermediateTabCapture),this._elements.bottomTabCapture=document.createElement("div"),this._elements.bottomTabCapture.setAttribute("coral-tabcapture","bottom"),this._elements.bottomTabCapture.tabIndex=0,this.appendChild(this._elements.bottomTabCapture),this._handleTabCaptureFocus=this._handleTabCaptureFocus.bind(this),this._handleRootKeypress=this._handleRootKeypress.bind(this),this._vent.on("keydown",this._handleRootKeypress),this._vent.on("focus","[coral-tabcapture]",this._handleTabCaptureFocus)):this.trapFocus===t.ON&&(this.removeChild(this._elements.topTabCapture),this.removeChild(this._elements.intermediateTabCapture),this.removeChild(this._elements.bottomTabCapture),this._elements.topTabCapture=null,this._elements.intermediateTabCapture=null,this._elements.bottomTabCaptureEl=null,this._vent.off("keydown",this._handleRootKeypress),this._vent.off("focus","[coral-tabcapture]",this._handleTabCaptureFocus)),this._trapFocus=a}},returnFocus:{attribute:"returnfocus","default":u.OFF,validate:Coral.validate.enumeration(u)},focusOnShow:{attribute:"focusonshow","default":v.OFF,validate:Coral.validate.enumeration(v)},open:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,triggerBefore:function(a,b){return this.trigger(a?"coral-overlay:beforeopen":"coral-overlay:beforeclose")},trigger:function(a,b){return this.trigger(a?"coral-overlay:open":"coral-overlay:close")},set:function(a){this._open=a,this.open?this.setAttribute("aria-hidden","false"):this.setAttribute("aria-hidden","true"),this.open&&this.parentNode&&(this._pushOverlay(),this.returnFocus===u.ON&&(this._elementToFocusWhenHidden=this._elementToFocusWhenHidden||(document.activeElement===document.body?null:document.activeElement)))},sync:function(){var a=this;if(this.open)this.trapFocus===t.ON&&(this._elements.topTabCapture!==this.firstElementChild||this._elements.bottomTabCapture!==this.lastElementChild||this._elements.bottomTabCapture.previousElementSibling!==this._elements.intermediateTabCapture)&&(this.insertBefore(this._elements.intermediateTabCapture,this.firstElementChild),this.appendChild(this._elements.intermediateTabCapture),this.appendChild(this._elements.bottomTabCapture)),this.style.display="block",this._cancelClose(),Coral.commons.nextFrame(function(){a.$.addClass("is-open")}),this.focusOnShow===v.ON&&this.focus();else if(this._closing=!0,this._cancelClose(),Coral.commons.nextFrame(function(){a.$.removeClass("is-open");var b=function(){a._closing=!1,a.style.display="none"};a._overlayAnimationTime?a._closeTimeout=setTimeout(b,a._overlayAnimationTime):b()}),this.parentNode&&(this._popOverlay(),this.returnFocus===u.ON&&this._elementToFocusWhenHidden)){if(document.activeElement&&!this.contains(document.activeElement))return;try{this._elementToFocusWhenHidden._ignoreTabCapture=!0,this._elementToFocusWhenHidden.focus(),this._elementToFocusWhenHidden._ignoreTabCapture=!1}catch(b){}this._elementToFocusWhenHidden=null}}}},z={detachedCallback:function(){this.open&&(this._popOverlay(),this._requestedBackdrop&&(this._showBackdropOnAttached=!0))},attachedCallback:function(){this.open&&(this._pushOverlay(),this._showBackdropOnAttached&&this._showBackdrop())},show:function(){return this.open=!0,this},hide:function(){return this.open=!1,this},returnFocusTo:function(a){return this.returnFocus===u.OFF&&(this.returnFocus=u.ON),$(a).is(":focusable")||(a.tabIndex=0),this._elementToFocusWhenHidden=a,this},_isTopOverlay:function(){var a=x.top();return a&&a.instance===this},_pushOverlay:function(){x.push(this)},_popOverlay:function(){x.pop(this),a()},_showBackdrop:function(){var a=x.get(this);a&&(a.backdrop=!0,e(a.zIndex,this)),this._requestedBackdrop=!0,this.parentNode||(this._showBackdropOnAttached=!0),this.trapFocus===t.ON&&i()},_hideBackdrop:function(){var b=x.get(this);b&&(b.backdrop=!1,a()),this._requestedBackdrop=!1},_cancelClose:function(){clearTimeout(this._closeTimeout),this._closing=!1},_handleRootKeypress:function(a){a.target===this&&a.keyCode===s&&(this._focusOn("first"),a.preventDefault())},_handleTabCaptureFocus:function(a){if(this._ignoreTabCapture)return void(this._ignoreTabCapture=!1);var b=a.target,c=b===this._elements.intermediateTabCapture?"first":"last";this._focusOn(c)},_focusOn:function(a){var b=this.$.find(":tabbable").not("[coral-tabcapture]")[a]();b.length?b.focus():this.focus()}};Coral.mixin.overlay=function(a,b){Coral.register.augmentProperties(b.properties,y),Coral.commons.augment(a,z,function(a,b,c){return"hide"===c||"show"===c?b:Coral.commons.callAll(b,a)})},Coral.mixin.overlay.prototype=z,Coral.mixin.overlay.FADETIME=350,Coral.mixin.overlay.trapFocus=t,Coral.mixin.overlay.returnFocus=u,Coral.mixin.overlay.focusOnShow=v}(),function(){"use strict";function a(a,b){return b?b+'[is="'+a+'"]':a}var b=function(b){var c=b.itemTagName,d=b.itemBaseTagName,e=b.itemSelectors||[a(c,d)],f=e.join(","),g={};return g["coral-component:attached "+f]="_onItemAttached",g},c=function(b){var c=b.itemTagName,d=b.itemBaseTagName,e=b.itemSelectors||[a(c,d)],f=e.join(","),g="undefined"==typeof b.supportMultiple||b.supportMultiple,h=b.containerSelector,i={selectedItem:{get:function(){return this.multiple?this.items.getFirstSelected():this.items.getLastSelected()},set:function(){}},selectedItems:{get:function(){return this.items.getSelected()},set:function(){}},items:{get:function(){if(!this._items){var a=this.querySelector(h),b={itemTagName:c,itemBaseTag:d,itemSelector:f,container:a};this._items=this._constructCollection(b)}return this._items},set:function(){}},multiple:{"default":!1,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-multiselectable",this.multiple),this._mutateSelection(function(){this.multiple||this.items.deselectAllExceptLast()})}}};return g||(delete i.selectedItems,i.multiple.get=function(){return!1},i.multiple.set=function(){}),i},d=function(b){var c=b.itemTagName,d=b.itemBaseTagName,e=b.itemSelectors||[a(c,d)],f=e.join(","),g=b.role||"listbox",h=b.tabIndex,i=b.allowSingleModeDeselect,j=b.forceSelection;return{_onItemAttached:function(a){var b=a.target;b.$.is(f)&&b.$.closest(this.tagName.toLowerCase()).is(this)&&(this._boundOnItemDetached||(this._boundOnItemDetached=this._onItemDetached.bind(this)),b.on("coral-component:detached",this._boundOnItemDetached),this._validateSelection(),this.trigger("coral-collection:add",{item:b}))},_onItemDetached:function(a){var b=a.target;b===a.currentTarget&&(b.off("coral-component:detached",this._boundOnItemDetached),b.selected&&(this._oldSelection=this._getSelection(),b.selected=!1,this._validateSelection(b)),this.trigger("coral-collection:remove",{item:b}))},_selectItem:function(a){a.disabled||this._mutateSelection(function(){i||this.multiple?a.selected=!a.selected:a.selected=!0})},_onItemSelected:function(a){this._mutateSelection(function(){this.multiple||this.items.deselectAllExcept(a)})},_onItemDeselected:function(a){this._mutateSelection(function(){this._validateSelection(a)})},_initialize:function(){this.setAttribute("role",g),"undefined"!=typeof h&&this.setAttribute("tabindex",h),
this._validateSelection(),this._oldSelection=this._getSelection()},attachedCallback:function(){this.multiple||this.items.deselectAllExceptLast()},_constructCollection:function(a){return a.host=this,new Coral.mixin.selectionList.Collection(a)},_mutateSelection:function(a){if(this._increaseMutationCounter(),a.call(this),this._decreaseMutationCounter(),0===this._mutatingSelection){var b=this._getSelection();this._selectionDiffersFromOldSelection(b)&&(this._onSelectionChange(b,this._oldSelection),this._oldSelection=b)}},_onSelectionChange:function(a,b){this.trigger(this.tagName.toLowerCase()+":change",{oldSelection:b,selection:a})},_selectionDiffersFromOldSelection:function(a){if(this._isEmptySelection(a)&&this._isEmptySelection(this._oldSelection))return!1;var b=$.isArray(this._oldSelection),c=$.isArray(a);return b||c?b&&c?this._oldSelection.length!==a.length||0!==$(this._oldSelection).not(a).length:!0:a!==this._oldSelection},_isEmptySelection:function(a){return null===a||"undefined"==typeof a||0===a.length},_getSelection:function(){return this.multiple?this.selectedItems:this.selectedItem},_validateSelection:function(a){if(j){var b=this.items.getSelected();if(0===b.length){var c=this.items.getNextSelectable(a);c&&c.setAttribute("selected",!0)}}},_increaseMutationCounter:function(){"undefined"==typeof this._mutatingSelection?this._mutatingSelection=1:this._mutatingSelection++},_decreaseMutationCounter:function(){this._mutatingSelection--}}};Coral.mixin.selectionList=function(a){return function(e,f){Coral.commons.augment(e,d(a),function(a,b,c){return Coral.commons.callAll(b,a)}),e._events=Coral.commons.augment({},e._events,b(a)),Coral.register.augmentProperties(f.properties,c(a))}}}(),function(){"use strict";function a(a,b){return b?b+'[is="'+a+'"]':a}var b=function(b){this._host=b.host,this.$host=this._host.$,this._itemTagName=b.itemTagName,this._itemBaseTag=b.itemBaseTag,this._itemSelector=b.itemSelector||a(this._itemTagName,this._itemBaseTag),this._nonNestedItemSelector=this._host.tagName.toLowerCase()+" "+this._itemSelector,this._container=b.container||this._host};b.prototype=Object.create(Coral.Collection.prototype),b.prototype.createElement=function(a,b){return b?document.createElement(b,a):document.createElement(a)},b.prototype.add=function(a,b){var c;a instanceof HTMLElement||(c=a,a=this.createElement(this._itemTagName,this._itemBaseTag,a));var d=c&&c.selected;return c&&(delete c.selected,a.set(c,!0)),this._container.insertBefore(a,b||null),d&&(a.selected=d),a},b.prototype.getAll=function(){return this._getNonNestedItems().toArray()},b.prototype.getNextSelectable=function(a,b){var c=this._getSelectableItems(),d=c.index(a),e=a?d+1:0;return b?c.eq(e%c.length).get(0)||null:e===c.length&&0!==e?a:c.eq(e).get(0)||null},b.prototype.getPreviousSelectable=function(a,b){var c=this._getSelectableItems(),d=c.index(a),e=a&&-1!==d?d-1:0;return b?c.eq(e).get(0)||null:-1===e?a:c.eq(e).get(0)||null},b.prototype.getFirstSelectable=function(){return this._getSelectableItems().first().get(0)||null},b.prototype.getLastSelectable=function(){return this._getSelectableItems().last().get(0)||null},b.prototype.getSelected=function(){return this._getSelectedItems().toArray()},b.prototype.getFirstSelected=function(){return this._getSelectedItems().first().get(0)||null},b.prototype.getLastSelected=function(){return this._getSelectedItems().last().get(0)||null},b.prototype.deselectAll=function(){this._getNonNestedItems().filter("[selected]").each(function(){this.removeAttribute("selected")})},b.prototype.deselectAllExcept=function(a){this._getNonNestedItems().filter("[selected]").each(function(){this!==a&&this.removeAttribute("selected")})},b.prototype.deselectAllExceptLast=function(){this._getNonNestedItems().filter("[selected]:not(:last)").each(function(){this.removeAttribute("selected")})},b.prototype._getNonNestedItems=function(){return this.$host.find(this._itemSelector).not(this.$host.find(this._nonNestedItemSelector))},b.prototype._getSelectableItems=function(){return this._getNonNestedItems().filter(":not([disabled],[hidden])")},b.prototype._getSelectedItems=function(){return this._getNonNestedItems().filter("[selected]:not([disabled])")},Coral.mixin.selectionList.Collection=b}(),function(){"use strict";var a=function(a){var b=a.alwaysEnabled,c={selected:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,validate:[Coral.validate.valueMustChange,function(a){return!a||!this.disabled}],trigger:function(a,b){var c=this._getSelectionList();if(c){var d=a?c._onItemSelected:c._onItemDeselected;$.isFunction(d)&&d.call(c,this)}return!1},set:function(a,b){var c=this._getSelectionList();if(a&&!c)throw new Error(this+" cannot be selected before being added as a child.");this._selected=a},sync:function(){this.$.toggleClass("is-selected",this.selected).attr("aria-selected",this.selected)}},disabled:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,set:function(a,b){this._disabled=a,this.selected&&a&&(this.selected=!1)},sync:function(){this.$.toggleClass("is-disabled",this.disabled).attr("aria-disabled",this.disabled)}}};return b&&delete c.disabled,c},b=function(a){var b=a.role||"option",c=a.tabIndex,d=a.listSelector;return{_initialize:function(){this.setAttribute("role",b),"undefined"!=typeof c&&this.setAttribute("tabindex",c)},_getSelectionList:function(){return this.$.closest(d).get(0)}}};Coral.mixin.selectionList.Item=function(c){return function(d,e){Coral.commons.augment(d,b(c),function(a,b,c){return Coral.commons.callAll(b,a)}),Coral.register.augmentProperties(e.properties,a(c))}}}(),function(){"use strict";var a="button,input:not([type=hidden]),keygen,meter,output,progress,select,textarea",b={disabled:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-disabled",this.disabled)}},invalid:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-invalid",this.invalid)}},name:{"default":"",reflectAttribute:!0,transform:Coral.transform.string},readOnly:{"default":!1,reflectAttribute:!0,attribute:"readonly",transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-readonly",this.readOnly)}},required:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-required",this.required)}},value:{"default":"",transform:Coral.transform.string},labelledBy:{attribute:"labelledby",transform:Coral.transform.string,get:function(){return this._getLabellableElement().getAttribute("aria-labelledby")},set:function(b){var c=this._getLabellableElement(),d=c.id=c.id||Coral.commons.getUID(),e=c.getAttribute("aria-labelledby");e&&e!==b&&this._updateForAttributes(e,d,!0),b?(c.setAttribute("aria-labelledby",b),$(c).is(a)&&this._updateForAttributes(b,d)):c.removeAttribute("aria-labelledby")}}},c={_getLabellableElement:function(){var b=this.querySelector(a);return b||this},_onInputChange:function(a){a.stopPropagation(),this[this._componentTargetProperty]=a.target[this._eventTargetProperty],this._triggerChangeEvent&&this.trigger("change")},_updateForAttributes:function(a,b,c){var d=a.split(/\s+/);d.forEach(function(a){var d=document.getElementById(a);if(d&&"LABEL"===d.tagName){var e=d.getAttribute("for");c?e===b&&d.removeAttribute("for"):d.setAttribute("for",b)}})}},d={"capture:change input":"_onInputChange"},e=["name","value"],f=["disabled","name","required","readOnly","value"],g={_componentTargetProperty:"value",_eventTargetProperty:"value",_triggerChangeEvent:!0};Coral.mixin.formField=function(a,h){Coral.commons.augment(a,c,function(a,b,c){return"_onInputChange"===c||"_getLabellableElement"===c?a:Coral.commons.callAll(b,a)}),a._events=Coral.commons.augment({},a._events,d),Coral.commons.augment(a,g);for(var i,j={},k=!1,l=a;l;){if(l===HTMLInputElement.prototype||l===HTMLTextAreaElement.prototype){k=!0;break}l=Object.getPrototypeOf(l)}for(i in b)k&&-1!==f.indexOf(i)||(j[i]=b[i]);k||e.forEach(function(a){if(j[a]&&(!h.properties[a]||"function"!=typeof h.properties[a].set||"function"!=typeof h.properties[a].get))throw new Error("Coral.mixin.formField: You must implement properties."+a+".set() and properties."+a+".get()")}),Coral.register.augmentProperties(h.properties,j)}}(),function(){"use strict";var a=/[\s?]coral-Icon--(?!size(XXS|XS|S|M|L))\w+/g,b=/\/|:|\./g,c={EXTRA_EXTRA_SMALL:"XXS",EXTRA_SMALL:"XS",SMALL:"S",MEDIUM:"M",LARGE:"L"},d="coral-Icon",e="";for(var f in c)e+=d+"--size"+c[f]+" ";Coral.register({name:"Icon",tagName:"coral-icon",className:d,properties:{icon:{"default":"",reflectAttribute:!0,transform:Coral.transform.string,sync:function(){if(this.className=this.className.replace(a,"").trim(),this.icon)if(this.icon.match(b)){this.$.addClass("is-image");var c=this._elements.image=this._elements.image||document.createElement("img");c.className=this._className+"-image",c.src=this.icon,this.appendChild(c)}else this._elements.image&&this._elements.image.parentNode===this&&(this.removeChild(this._elements.image),this.$.removeClass("is-image")),this.$.addClass(this._className+"--"+this._icon)}},size:{"default":c.SMALL,reflectAttribute:!0,transform:function(a){return"string"==typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this.$.removeClass(e),this.$.addClass(this._className+"--size"+this.size)}}}}),Coral.Icon.size=c}(),function(){"use strict";var a={DEFAULT:"default",PRIMARY:"primary",QUIET:"quiet",WARNING:"warning",MINIMAL:"minimal"},b="coral-Button",c="";for(var d in a)c+=b+"--"+a[d]+" ";var e={MEDIUM:"M",LARGE:"L"};Coral.register({name:"Button",tagName:"coral-button",baseTagName:"button",extend:HTMLButtonElement,className:b,properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-button-label"}),icon:{get:function(){return this._elements.icon.icon},set:function(a){this._elements.icon.icon=a},sync:function(){""===this.icon?this._elements.icon.remove():this._elements.icon.parentNode||this.insertBefore(this._elements.icon,this.firstChild),this._toggleSquare()}},iconSize:{attribute:"iconsize",get:function(){return this._elements.icon.size},set:function(a){this._elements.icon.size=a}},size:{"default":e.MEDIUM,reflectAttribute:!0,transform:function(a){return"string"==typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.$[this.size===e.LARGE?"addClass":"removeClass"](b+"--large")}},selected:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$.toggleClass("is-selected",this.selected)}},block:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$.toggleClass(this._className+"--block",this.block)}},variant:{"default":a.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){this.$.removeClass(c),this.variant!==Coral.Button.variant.DEFAULT&&this.$.addClass(this._className+"--"+this.variant)}}},_toggleSquare:function(){var a=this.textContent.length>0,b=""!==this.icon,c=b&&!a;this.$.toggleClass(this._className+"--square",c)},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._toggleSquare()},_initialize:function(){this._observer=new MutationObserver(this._toggleSquare.bind(this)),this._observer.observe(this.label,{childList:!0,characterData:!0,subtree:!0})},_render:function(){for(var a=document.createDocumentFragment(),b=this._elements.label=this.querySelector("coral-button-label")||document.createElement("coral-button-label");this.firstChild;){var c=this.firstChild;c.nodeType===Node.TEXT_NODE?b.appendChild(c):"CORAL-ICON"===c.tagName?(this._elements.icon=c,a.appendChild(c)):this.removeChild(c)}this._elements.icon||(this._elements.icon=document.createElement("coral-icon")),a.appendChild(b),this.appendChild(a)}}),Coral.register({name:"Button.Label",tagName:"coral-button-label",className:"coral-Button-label"}),Coral.Button.variant=a,Coral.Button.size=e}(),function(){"use strict";var a=32;Coral.register({name:"AnchorButton",tagName:"coral-anchorbutton",baseTagName:"a",extend:HTMLAnchorElement,className:Coral.Button.prototype._className,events:{keydown:"_onKeyDown",keyup:"_onKeyUp"},properties:Coral.commons.extend({},Coral.Button.prototype._properties,{disabled:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$.toggleClass("is-disabled",this.disabled).attr("tabindex",this.disabled?"-1":"0").attr("aria-disabled",this.disabled)}}}),_toggleSquare:Coral.Button.prototype._toggleSquare,_onKeyDown:function(b){b.keyCode===a&&(b.preventDefault(),this.click(),this.$.addClass("is-selected"))},_onKeyUp:function(b){b.keyCode===a&&(b.preventDefault(),this.$.removeClass("is-selected"))},_onClick:function(a){this.disabled&&a.preventDefault()},_initialize:function(){Coral.Button.prototype._initialize.call(this),this.setAttribute("role","button"),this.setAttribute("tabindex","0"),this.addEventListener("click",this._onClick.bind(this))},_render:function(){for(var a=document.createDocumentFragment(),b=this._elements.label=this.querySelector("coral-anchorbutton-label")||document.createElement("coral-anchorbutton-label");this.firstChild;){var c=this.firstChild;c.nodeType===Node.TEXT_NODE?b.appendChild(c):"CORAL-ICON"===c.tagName?(this._elements.icon=c,a.appendChild(c)):this.removeChild(c)}this._elements.icon||(this._elements.icon=document.createElement("coral-icon")),a.appendChild(b),this.appendChild(a)}}),Coral.register({name:"AnchorButton.Label",tagName:"coral-anchorbutton-label",className:"coral-Button-label"})}(),function(){"use strict";var a=function(a){this._host=a.host,this.$host=this._host.$,this._itemTagName=a.itemTagName,this._itemBaseTag=a.itemBaseTag,this._itemSelector=this._itemBaseTag+'[is="'+this._itemTagName+'"]'};a.prototype=Object.create(Coral.Collection.prototype),a.prototype.add=function(a,b){var c;a instanceof HTMLElement||(c=a,a=document.createElement(this._itemBaseTag,this._itemTagName));var d=c&&c.selected;return c&&(delete c.selected,a.set(c,!0)),this._host.insertBefore(a,b||null),d&&a.setAttribute("selected",!0),a},a.prototype.getAll=function(){return this._getAllItems().toArray()},a.prototype._getAllItems=function(){return this.$host.children(this._itemSelector)},a.prototype._getSelectedItems=function(){return this._getAllItems().filter("[selected]:not([disabled])").toArray()},a.prototype._getSelectableItems=function(){return this._getAllItems().filter(":not([disabled],[hidden])").toArray()};var b={NONE:"none",SINGLE:"single",MULTIPLE:"multiple"};Coral.register({name:"ButtonGroup",tagName:"coral-buttongroup",className:"coral-ButtonGroup",mixins:[Coral.mixin.formField],events:{'coral-component:attached button[is="coral-button"]':"_onItemAttached",'click button[is="coral-button"]':"_onButtonClick"},properties:{items:{get:function(){return this._items||(this._items=new a({host:this,itemBaseTag:"button",itemTagName:"coral-button"})),this._items},set:function(){}},selectionMode:{"default":b.NONE,attribute:"selectionmode",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],set:function(a){this._selectionMode=a,this._elements.nativeSelect.multiple=this._selectionMode===b.MULTIPLE},sync:function(){this.selectionMode===b.SINGLE?(this.setAttribute("role","radiogroup"),this._syncItemOptions(),this._validateSelection()):this.selectionMode===b.MULTIPLE?(this.setAttribute("role","group"),this._syncItemOptions()):(this.setAttribute("role","group"),this._removeItemOptions())}},name:{get:function(a){return this._elements.nativeSelect.name},set:function(a){this._elements.nativeSelect.name=a}},value:{get:function(){return this._elements.nativeSelect.value},set:function(a){this.selectionMode!==b.NONE&&this._selectItemByValue([a])}},values:{attribute:null,validate:[Coral.validate.valueMustChange,function(a){return Array.isArray(a)}],set:function(a){this.selectionMode!==b.NONE&&(this.selectionMode!==b.MULTIPLE&&a.length>1&&(a=[a[0]]),this._selectItemByValue(a))},get:function(){for(var a=[],b=this._elements.nativeSelect.selectedOptions,c=b.length,d=0;c>d;d++)a.push(b[d].value);return a}},disabled:{sync:function(){this._elements.nativeSelect.disabled=this.disabled||this.readOnly}},readOnly:{sync:function(){this._elements.nativeSelect.disabled=this.readOnly||this.disabled}},required:{sync:function(){this._elements.nativeSelect.required=this.required}},invalid:{sync:function(){this.$.toggleClass("is-invalid",this.invalid)}}},_onButtonClick:function(a){var c=a.matchedTarget;if(this.selectionMode===b.SINGLE){a.preventDefault();var d=this.items._getSelectedItems();0!==d.length&&d[0]!==c&&this._toggleItemSelection(d[0],!1),this._toggleItemSelection(c,!0),d[0]!==c&&this._triggerChangeEvent()}else this.selectionMode===b.MULTIPLE&&(a.preventDefault(),this._toggleItemSelection(c),this._triggerChangeEvent())},_onItemAttached:function(a){var b=a.target;b===a.matchedTarget&&(b.$.addClass("coral-ButtonGroup-item"),b.setAttribute("role","listitem"),b.on("coral-component:detached",this._onItemDetached),this._addItemOption(b),this._validateSelection(this._isItemSelected(b)?b:null),this.trigger("coral-collection:add",{item:b}))},_onItemDetached:function(a){var b=a.target;b.off("coral-component:detached",this._onItemDetached),b.$.removeClass("coral-ButtonGroup-item"),b.removeAttribute("role"),b.option&&(b.option.parentNode.removeChild(b.option),delete b.option),this._validateSelection(),this.trigger("coral-collection:remove",{item:b})},_onMutations:function(a){for(var c=a.length,d=0;c>d;d++){var e=a[d].target;switch(a[d].attributeName){case"value":$(e).is('button[is="coral-button"]')&&(e.option.value=this._getItemValue(e));break;case"selected":if($(e).is('button[is="coral-button"]')){var f=this._isItemSelected(e);this.selectionMode===b.SINGLE?this._validateSelection(f?e:null):this._toggleItemSelection(e,f)}}}},_isItemSelected:function(a){return a.hasAttribute("selected")},_getItemValue:function(a){return a.hasAttribute("value")?a.getAttribute("value"):a.label.textContent.replace(/\s{2,}/g," ").trim()},_toggleItemSelection:function(a,b){b="undefined"!=typeof b?b:!this._isItemSelected(a),b&&!this._isItemSelected(a)?a.setAttribute("selected",!0):!b&&this._isItemSelected(a)&&a.removeAttribute("selected"),a.option&&(a.option.selected=b)},_selectItemByValue:function(a){for(var b,c=this.items.getAll(),d=c.length,e=0;d>e;e++)b=c[e],this._toggleItemSelection(b,-1!==a.indexOf(this._getItemValue(b)))},_addItemOption:function(a){if(this.selectionMode!==b.NONE&&!a.option){var c=document.createElement("option");c.value=this._getItemValue(a),a.option=c,this._elements.nativeSelect.add(c),this._isItemSelected(a)&&this._toggleItemSelection(a,!0)}},_removeItemOptions:function(){for(var a,b=this.items.getAll(),c=b.length,d=0;c>d;d++)a=b[d],this._isItemSelected(a)&&this._toggleItemSelection(a,!1),a.option&&(a.option.parentNode.removeChild(a.option),delete a.option)},_syncItemOptions:function(){for(var a=this.items.getAll(),b=a.length,c=0;b>c;c++)this._addItemOption(a[c])},_validateSelection:function(a){if(this.selectionMode===b.SINGLE){var c=this.items._getSelectedItems();if(0===c.length){var d=this.items._getSelectableItems();d[0]&&this._toggleItemSelection(d[0],!0)}else c.length>1&&(a=a||c[0],this._toggleItemSelection(a,!0),c.forEach(function(b){b!==a&&this._toggleItemSelection(b,!1)}.bind(this)))}},_getLabellableElement:function(){return this},_triggerChangeEvent:function(){this.trigger("change")},_render:function(){this.insertBefore(Coral.templates.ButtonGroup.base.call(this._elements),this.firstChild)},_initialize:function(){this._onItemDetached=this._onItemDetached.bind(this),this._observer=new MutationObserver(this._onMutations.bind(this)),this._observer.observe(this,{attributes:!0,subtree:!0,attributeFilter:["selected","value"]})}}),Coral.ButtonGroup.selectionMode=b}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.ButtonGroup=this.Coral.templates.ButtonGroup||{},this.Coral.templates.ButtonGroup.base=function(a){var b=this.nativeSelect=document.createElement("select");return b.className+=" coral-ButtonGroup-select",b.setAttribute("tabindex","-1"),b.setAttribute("handle","nativeSelect"),b},function(){"use strict";Coral.register({name:"Checkbox",tagName:"coral-checkbox",className:"coral-Checkbox",mixins:[Coral.mixin.formField],properties:{checked:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,set:function(a){this._checked=a,this._elements.input.checked=a}},indeterminate:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this._elements.input.indeterminate=this.indeterminate,this._elements.input[this.indeterminate?"setAttribute":"removeAttribute"]("aria-checked","mixed")}},label:Coral.property.contentZone({handle:"label",tagName:"coral-checkbox-label"}),value:{"default":"on",set:function(a){this._elements.input.value=a},get:function(){return this._elements.input.value}},disabled:{sync:function(){this.$.toggleClass("is-disabled",this.disabled),this._elements.input.disabled=this.disabled}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},required:{sync:function(){this._elements.input.required=this.required}}},_componentTargetProperty:"checked",_eventTargetProperty:"checked",_onInputChange:function(a){a.stopPropagation(),this[this._componentTargetProperty]=a.target[this._eventTargetProperty],this.indeterminate=!1,this._triggerChangeEvent&&this.trigger("change")},_templateHandleNames:["input","checkbox","labelWrapper"],_render:function(){var a=document.createDocumentFragment();a.appendChild(Coral.templates.Checkbox.base.call(this._elements));var b=this.querySelector("coral-checkbox-label"),c=this._elements.label=b||document.createElement("coral-checkbox-label");for(this._elements.labelWrapper.appendChild(c),b||(this._elements.labelWrapper.hidden=!0);this.firstChild;){var d=this.firstChild;d.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(d.getAttribute("handle"))?c.appendChild(d):this.removeChild(d)}this.appendChild(a)},_initialize:function(){this._observer=new MutationObserver(this._hideLabelIfEmpty.bind(this)),this._observer.observe(this.label,{childList:!0,characterData:!0,subtree:!0})},_hideLabelIfEmpty:function(){var a=this._elements.label,b=0===a.children.length&&""===a.textContent.replace(/\s*/g,"");b!==this._elements.labelWrapper.hidden&&(this._elements.labelWrapper.hidden=b)},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._hideLabelIfEmpty()}}),Coral.register({name:"Checkbox.Label",tagName:"coral-checkbox-label"})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Checkbox=this.Coral.templates.Checkbox||{},this.Coral.templates.Checkbox.base=function(a){var b=document.createDocumentFragment(),c=this.input=document.createElement("input");c.setAttribute("type","checkbox"),c.setAttribute("handle","input"),c.className+=" coral-Checkbox-input",c.id=Coral.commons.getUID(),b.appendChild(c);var d=document.createTextNode("\n");b.appendChild(d);var e=this.checkbox=document.createElement("span");e.className+=" coral-Checkbox-checkmark",e.setAttribute("handle","checkbox"),b.appendChild(e);var f=document.createTextNode("\n");b.appendChild(f);var g=this.labelWrapper=document.createElement("label");g.className+=" coral-Checkbox-description",g.setAttribute("handle","labelWrapper"),g.setAttribute("for",this.input.id),b.appendChild(g);var h=document.createTextNode("\n");return b.appendChild(h),b},function(){"use strict";function a(a){for(;;){var b=a.parent();if(0===b.length)return b;if(b.is("body"))return b;var c=b.css("overflow");if("hidden"===c||"auto"===c||"scroll"===c)return b;a=b}}function b(a){var b={};if(a.originalEvent){var c=a.originalEvent;c.changedTouches&&c.changedTouches.length>0&&(b=c.changedTouches[0]),c.touches&&c.touches.length>0&&(b=c.touches[0])}return{x:b.pageX||a.pageX,y:b.pageY||a.pageY}}function c(a){var b=null;return a._$dropZone&&a._$dropZone.length&&$.each(a._$dropZone,function(){return d(a._$dragElement,$(this))?(b=this,!1):void 0}),b}function d(a,b){var c=a.offset(),d=b.offset(),e=c.left,f=e+a.outerWidth(),g=d.left,h=g+b.outerWidth(),i=c.top,j=i+a.outerHeight(),k=d.top,l=k+b.outerHeight();return!(g>f||e>h||k>j||i>l)}var e=$(document.body),f="coral-dragaction",g="coral-dragaction-dropzone",h="coral-dragaction-handle",i="coral-dragaction-axis",j="coral-dragaction-scroll",k="coral-dragaction-containment",l="u-coral-openHand",m="u-coral-closedHand is-dragging",n=20,o=10,p={VERTICAL:"vertical",HORIZONTAL:"horizontal"};Coral.DragAction=function(a){if(!a)throw new Error("Coral.DragAction: dragElement is missing");this._id=Coral.commons.getUID(),this._dragElement=a,this._$dragElement=$(a),this._$dragElement[0].dragAction&&this._$dragElement[0].dragAction.destroy(),this._initialPosition={position:this._$dragElement.css("position"),left:this._$dragElement.css("top"),top:this._$dragElement.css("left")},this._vent=new window.Vent(this._$dragElement[0]),this.handle=this._$dragElement.attr(h),this.dropZone=this._$dragElement.attr(g),this.axis=this._$dragElement.attr(i),this.scroll=this._$dragElement.is("["+j+"]"),this.containment=this._$dragElement.is("["+k+"]"),this._$handle&&this._$handle.length||this._$dragElement.hasClass(l)||this._$dragElement.on("touchstart.CoralDragAction mousedown.CoralDragAction",this._dragStart.bind(this)).addClass(l),this._drag=this._drag.bind(this),this._dragEnd=this._dragEnd.bind(this),$(document).on("touchmove.CoralDragAction"+this._id+" mousemove.CoralDragAction"+this._id,this._drag).on("touchend.CoralDragAction"+this._id+" mouseup.CoralDragAction"+this._id,this._dragEnd),this._$dragElement[0].dragAction=this},Coral.DragAction.prototype={},Object.defineProperty(Coral.DragAction.prototype,"dragElement",{get:function(){return this._dragElement},set:function(a){}}),Object.defineProperty(Coral.DragAction.prototype,"handle",{get:function(){return this._handle},set:function(a){if(Coral.validate.valueMustChange(a,this._handle))if(this._$dragElement.off(".CoralDragAction").removeClass(m+" "+l),this._$handle&&this._$handle.length&&$.each(this._$handle,function(){$(this).off(".CoralDragAction").removeClass(m+" "+l)}),"string"==typeof a||a instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(a))if(this._handle=a,this._$handle=$(a),this._$handle&&this._$handle.length){var b=this;$.each(this._$handle,function(){$(this).on("mousedown.CoralDragAction",b._dragStart.bind(b)).on("touchstart.CoralDragAction",b._dragStart.bind(b)).addClass(l)})}else this._$dragElement.on("touchstart.CoralDragAction",this._dragStart.bind(this)).on("mousedown.CoralDragAction",this._dragStart.bind(this)).addClass(l);else this._handle="",this._$handle=$([]),this._$dragElement.on("touchstart.CoralDragAction",this._dragStart.bind(this)).on("mousedown.CoralDragAction",this._dragStart.bind(this)).addClass(l)}}),Object.defineProperty(Coral.DragAction.prototype,"dropZone",{get:function(){return this._dropZone},set:function(a){Coral.validate.valueMustChange(a,this._dropZone)&&(this._dropZoneEntered=!1,"string"==typeof a||a instanceof HTMLElement||"[object NodeList]"===Object.prototype.toString.call(a)?(this._dropZone=a,this._$dropZone=$(a)):(this._dropZone="",this._$dropZone=$([])))}}),Object.defineProperty(Coral.DragAction.prototype,"axis",{get:function(){return this._axis},set:function(a){var b=Coral.transform.string(a);Coral.validate.valueMustChange(b,this._axis)&&(Coral.validate.enumeration(p)(b)?this._axis=b:this._axis="")}}),Object.defineProperty(Coral.DragAction.prototype,"scroll",{get:function(){return this._scroll},set:function(a){var b=Coral.transform["boolean"](a);Coral.validate.valueMustChange(b,this._scroll)&&(this._scroll=b)}}),Object.defineProperty(Coral.DragAction.prototype,"containment",{get:function(){return this._containment},set:function(a){var b=Coral.transform["boolean"](a);Coral.validate.valueMustChange(b,this._containment)&&(this._containment=b)}}),Coral.DragAction.prototype._dragStart=function(c){this._$container=a(this._$dragElement),"IMG"===c.target.tagName&&c.preventDefault(),$(document).one("touchmove",function(a){a.preventDefault()}),e.data("overflow",e.css("overflow")).css("overflow","hidden"),this._$container.is("body")||this._$container.data("overflow",this._$container.css("overflow")).css("overflow",this.scroll?"scroll":"hidden");var d=this._$dragElement.offset(),f=b(c);this._dragPosition=b(c),this._dragPosition.x-=d.left,this._dragPosition.y-=d.top,this._$dragElement.addClass(m),this._vent.dispatch("coral-dragaction:dragstart",{detail:{dragElement:this._$dragElement[0],pageX:f.x,pageY:f.y}})},Coral.DragAction.prototype._drag=function(a){if(this._$dragElement.hasClass(m)){var d=this,e=b(a),f=this._$dragElement.position(),g=this._$container.position(),h=this._$dragElement.outerHeight(),i=this._$dragElement.outerWidth(),j=this._$container.outerWidth(),k=this._$container.outerHeight();if(d._vent.dispatch("coral-dragaction:drag",{detail:{dragElement:d._$dragElement[0],pageX:e.x,pageY:e.y}}),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges(),this.scroll)if(this._$container.is("body")){var l=$(window);l.scrollTop()-f.top+n>0&&l.scrollTop(l.scrollTop()-o),window.innerHeight+l.scrollTop()-o<=f.top+h&&l.scrollTop(l.scrollTop()+o),l.scrollLeft()-f.left+n>0&&l.scrollLeft(l.scrollLeft()-o),window.innerWidth+l.scrollLeft()-o<=f.left+i&&l.scrollLeft(l.scrollLeft()+o)}else f.top-g.top<=n&&this._$container.scrollTop(this._$container.scrollTop()-o),f.top+h>=g.top+k-n&&this._$container.scrollTop(this._$container.scrollTop()+o),f.left-g.left<=n&&this._$container.scrollLeft(this._$container.scrollLeft()-o),j+this._$container.scrollLeft()-o<=f.left+i&&this._$container.scrollLeft(this._$container.scrollLeft()+o);var p={};if("horizontal"!==this.axis){var q=e.y-this._dragPosition.y;this.containment?q>=g.top&&q+h<=g.top+k?p.top=q:e.y<=g.top?p.top=g.top:e.y>=g.top+k&&(p.top=g.top+k-h):p.top=q}if("vertical"!==this.axis){var r=e.x-this._dragPosition.x;this.containment?r>=g.left&&r+i<=g.left+j?p.left=r:e.x<=g.left?p.left=g.left:e.x>=g.left+j&&(p.left=g.left+j-i):p.left=r}this._$dragElement.offset(p);var s=c(d);s?(d._dropElement=s,d._dropZoneEntered||(d._dropZoneEntered=!0,d._vent.dispatch("coral-dragaction:dragenter",{detail:{dragElement:d._$dragElement[0],pageX:e.x,pageY:e.y,dropElement:d._dropElement}})),d._vent.dispatch("coral-dragaction:dragover",{detail:{dragElement:d._$dragElement[0],pageX:e.x,pageY:e.y,dropElement:d._dropElement}})):d._dropZoneEntered&&(d._vent.dispatch("coral-dragaction:dragleave",{detail:{dragElement:d._$dragElement[0],pageX:e.x,pageY:e.y,dropElement:d._dropElement}}),d._dropZoneEntered=!1)}},Coral.DragAction.prototype._dragEnd=function(a){if(this._$dragElement.hasClass(m)){var d=b(a);if(e.css("overflow",e.data("overflow")).removeData("overflow"),this._$container.is("body")||this._$container.css("overflow",this._$container.data("overflow")).removeData("overflow"),this._$dragElement.removeClass(m),this._dropZoneEntered){var f=c(this);f&&(this._dropElement=f,this._vent.dispatch("coral-dragaction:drop",{detail:{dragElement:this._$dragElement[0],pageX:d.x,pageY:d.y,dropElement:this._dropElement}}))}this._vent.dispatch("coral-dragaction:dragend",{
detail:{dragElement:this._$dragElement[0],pageX:d.x,pageY:d.y}})}},Coral.DragAction.prototype.destroy=function(a){this._$handle&&this._$handle.length?$.each(this._$handle,function(){$(this).off(".CoralDragAction").removeClass(m+" "+l)}):this._$dragElement.off(".CoralDragAction").removeClass(m+" "+l),$(document).off(".CoralDragAction"+this._id),e.data("overflow")&&e.css("overflow",e.data("overflow")).removeData("overflow"),this._$container&&!this._$container.is("body")&&this._$container.data("overflow")&&this._$container.css("overflow",this._$container.data("overflow")).removeData("overflow"),a&&this._$dragElement.css({position:this._initialPosition.position,top:this._initialPosition.top,left:this._initialPosition.left}),delete this._$dragElement[0].dragAction},Coral.DragAction.axis=p,document.addEventListener("DOMContentLoaded",function(){$("["+f+"]").each(function(){new Coral.DragAction(this)})})}(),function(){"use strict";var a={DOWN:"down",UP:"up"},b=250,c="coral-Drawer",d="";for(var e in a)d+=c+"--"+a[e]+" ";Coral.register({name:"Drawer",tagName:"coral-drawer",className:c,events:{"click [handle=toggle]:not(:disabled)":"_onClick"},properties:{disabled:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$.attr("aria-disabled",this.disabled).toggleClass("is-disabled",this.disabled),this._elements.toggle.disabled=this.disabled}},content:Coral.property.contentZone({handle:"content",tagName:"coral-drawer-content"}),open:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-expanded",this.open),this._updateIcon(),$(this._elements.contentWrapper)[this.open?"slideDown":"slideUp"]({duration:b,complete:function(){this.trigger(this.open?"coral-drawer:open":"coral-drawer:close")}.bind(this)})}},direction:{"default":a.DOWN,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){this.$.removeClass(d).addClass(this._className+"--"+this.direction),this._updateIcon()}}},_onClick:function(){this.open=!this.open},_updateIcon:function(){this.direction===a.UP?this._elements.toggle.icon=this.open?"chevronDown":"chevronUp":this.direction===a.DOWN&&(this._elements.toggle.icon=this.open?"chevronUp":"chevronDown")},_render:function(){var a=document.createDocumentFragment();a.appendChild(Coral.templates.Drawer.base.call(this._elements));var b=this._elements.content=this.querySelector("coral-drawer-content")||document.createElement("coral-drawer-content");for(this._elements.contentWrapper.appendChild(b);this.firstChild;)b.appendChild(this.firstChild);this.appendChild(a)}}),Coral.register({name:"Drawer.Content",tagName:"coral-drawer-content"}),Coral.Drawer.direction=a}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Drawer=this.Coral.templates.Drawer||{},this.Coral.templates.Drawer.base=function(a){var b=document.createDocumentFragment(),c=this.contentWrapper=document.createElement("div");c.setAttribute("handle","contentWrapper"),c.className+=" coral-Drawer-content coral-Drawer-content--padding",b.appendChild(c);var d=document.createTextNode("\n");b.appendChild(d);var e=document.createElement("div");e.className+=" coral-Drawer-toggle";var f=document.createTextNode("\n  ");e.appendChild(f);var g=this.toggle=document.createElement("button","coral-button");g.setAttribute("handle","toggle"),g.setAttribute("is","coral-button"),g.setAttribute("variant","minimal"),g.setAttribute("icon","chevronDown"),g.setAttribute("iconSize","XS"),g.setAttribute("aria-label","coral-drawer"),e.appendChild(g);var h=document.createTextNode("\n");e.appendChild(h),b.appendChild(e);var i=document.createTextNode("\n");return b.appendChild(i),b},function(){"use strict";var a={SMALL:"S",MEDIUM:"M",LARGE:"L"},b={LEFT:"left",RIGHT:"right",BOTTOM:"bottom"},c="coral-Progress",d={S:"small",M:"medium",L:"large"},e="";for(var f in a)e+=c+"--"+d[a[f]]+" ";var g="";for(var h in b)g+=c+"--"+b[h]+"Label ";Coral.register({name:"Progress",tagName:"coral-progress",className:c,properties:{value:{"default":0,reflectAttribute:!0,trigger:"coral-progress:change",transform:function(a){return a=Coral.transform.number(a),null===a&&(a=0),a>100?a=100:0>a&&(a=0),a},sync:function(){this._elements.status.style.width=this.value+"%",this.indeterminate||(this.setAttribute("aria-valuenow",this.value),this.showPercent===!0&&this._setLabelContent(this.value+"%"))},get:function(){return this.indeterminate?0:this._value}},indeterminate:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,alsoSync:"value",sync:function(){this.indeterminate?(this.$.addClass(this._className+"--indeterminate"),this.removeAttribute("aria-valuenow"),this.removeAttribute("aria-valuemin"),this.removeAttribute("aria-valuemax")):(this.$.removeClass(this._className+"--indeterminate"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100"))}},size:{"default":a.MEDIUM,transform:function(a){return"string"==typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){this.$.removeClass(e).addClass(this._className+"--"+d[this.size])}},showPercent:{attribute:"showpercent",reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){if(this.showPercent===!0){var a=this.indeterminate?"":this.value+"%";this._setLabelContent(a),this._showLabel()}else this.label.innerHTML=""}},label:Coral.property.contentZone({handle:"label",tagName:"coral-progress-label"}),labelPosition:{"default":b.RIGHT,attribute:"labelposition",validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.$.removeClass(g),this._elements.label.textContent.length>0&&this.$.addClass(this._className+"--"+this.labelPosition+"Label")}}},_initialize:function(){this.setAttribute("role","progressbar"),this.setAttribute("aria-valuenow","0"),this.setAttribute("aria-valuemin","0"),this.setAttribute("aria-valuemax","100"),this._observer=new MutationObserver(this._toggleLabelBasedOnContent.bind(this)),this._observer.observe(this._elements.label,{characterData:!0,childList:!0,subtree:!0})},_render:function(){var a=document.createDocumentFragment();a.appendChild(Coral.templates.Progress.base.call(this._elements));var b=this._elements.label=this.querySelector("coral-progress-label")||document.createElement("coral-progress-label");for(a.appendChild(b);this.firstChild;)b.appendChild(this.firstChild);this.appendChild(a),this._toggleLabelBasedOnContent()},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._toggleLabelBasedOnContent()},_toggleLabelBasedOnContent:function(){this._elements.label.textContent.length>0?this._showLabel():this._hideLabel()},_hideLabel:function(){this._elements.label.hidden=!0,this.$.removeClass(g).addClass(this._className+"--noLabel"),this.removeAttribute("aria-valuetext")},_showLabel:function(){this._elements.label.hidden=!1,this.$.removeClass(this._className+"--noLabel").addClass(this._className+"--"+this.labelPosition+"Label"),this.showPercent===!1&&this.setAttribute("aria-valuetext",this.label.textContent)},_setLabelContent:function(a){this._elements.label.textContent=a,this.showPercent===!0?this.removeAttribute("aria-valuetext"):this.setAttribute("aria-valuetext",this.label.textContent)}}),Coral.register({name:"Progress.Label",tagName:"coral-progress-label",className:"coral-Progress-label"}),Coral.Progress.size=a,Coral.Progress.labelPosition=b}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Progress=this.Coral.templates.Progress||{},this.Coral.templates.Progress.base=function(a){var b=document.createDocumentFragment(),c=document.createElement("div");c.className+=" coral-Progress-bar";var d=document.createTextNode("\n  ");c.appendChild(d);var e=this.status=document.createElement("div");e.className+=" coral-Progress-status",e.setAttribute("handle","status"),c.appendChild(e);var f=document.createTextNode("\n");c.appendChild(f),b.appendChild(c);var g=document.createTextNode("\n");return b.appendChild(g),b},function(){"use strict";Coral.register({name:"Radio",tagName:"coral-radio",className:"coral-Radio",mixins:[Coral.mixin.formField],properties:{checked:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,set:function(a){this._checked=a,this._elements.input.checked=a,this._syncRelatedRadios()}},label:Coral.property.contentZone({handle:"label",tagName:"coral-radio-label"}),value:{"default":"on",set:function(a,b){this._elements.input.value=a},get:function(){return this._elements.input.value}},disabled:{sync:function(){this.$.toggleClass("is-disabled",this.disabled),this._elements.input.disabled=this.disabled}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},required:{sync:function(){this._elements.input.required=this.required}}},_componentTargetProperty:"checked",_eventTargetProperty:"checked",_syncRelatedRadios:function(){null!==this.parentNode&&this.name&&this.checked&&$(this.tagName+"[name="+JSON.stringify(this.name)+"]").not(this).each(function(a,b){Coral.commons.ready(this,function(a){a.set("checked",!1,!0)})})},_hideLabelIfEmpty:function(){var a=this._elements.label,b=0===a.children.length&&""===a.textContent.replace(/\s*/g,"");b!==this._elements.labelWrapper.hidden&&(this._elements.labelWrapper.hidden=b)},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._syncRelatedRadios(),this._hideLabelIfEmpty()},_initialize:function(){this._observer=new MutationObserver(this._hideLabelIfEmpty.bind(this)),this._observer.observe(this.label,{childList:!0,characterData:!0,subtree:!0})},_templateHandleNames:["input","checkmark","labelWrapper"],_render:function(){var a=document.createDocumentFragment();a.appendChild(Coral.templates.Radio.base.call(this._elements));var b=this.querySelector("coral-radio-label"),c=this._elements.label=b||document.createElement("coral-radio-label");for(this._elements.labelWrapper.appendChild(c),b||(this._elements.labelWrapper.hidden=!0);this.firstChild;){var d=this.firstChild;d.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(d.getAttribute("handle"))?c.appendChild(d):this.removeChild(d)}this.appendChild(a)}}),Coral.register({name:"Radio.Label",tagName:"coral-radio-label"})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Radio=this.Coral.templates.Radio||{},this.Coral.templates.Radio.base=function(a){var b=document.createDocumentFragment(),c=this.input=document.createElement("input");c.setAttribute("type","radio"),c.setAttribute("handle","input"),c.className+=" coral-Radio-input",c.id=Coral.commons.getUID(),b.appendChild(c);var d=document.createTextNode("\n");b.appendChild(d);var e=this.checkmark=document.createElement("span");e.className+=" coral-Radio-checkmark",e.setAttribute("handle","checkmark"),b.appendChild(e);var f=document.createTextNode("\n");b.appendChild(f);var g=this.labelWrapper=document.createElement("label");g.className+=" coral-Radio-description",g.setAttribute("handle","labelWrapper"),g.setAttribute("for",this.input.id),b.appendChild(g);var h=document.createTextNode("\n");return b.appendChild(h),b},function(){"use strict";var a="coral-Textfield";Coral.register({name:"Textarea",tagName:"coral-textarea",baseTagName:"textarea",extend:HTMLTextAreaElement,className:a+" "+a+"--multiline",mixins:[Coral.mixin.formField],properties:{invalid:{sync:function(){this.$.toggleClass("is-invalid",this.invalid)}}}})}(),function(){"use strict";Coral.register({name:"Textfield",tagName:"coral-textfield",baseTagName:"input",extend:HTMLInputElement,className:"coral-Textfield",mixins:[Coral.mixin.formField],properties:{invalid:{sync:function(){this.$.toggleClass("is-invalid",this.invalid)}}}})}(),function(){"use strict";var a={SMALL:"S",LARGE:"L"};Coral.register({name:"Wait",tagName:"coral-wait",className:"coral-Wait",properties:{size:{"default":a.SMALL,transform:function(a){return"string"==typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){this.$[this.size===a.LARGE?"addClass":"removeClass"](this._className+"--large")}},centered:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$.toggleClass(this._className+"--centered",this.centered)}}}}),Coral.Wait.size=a}(),function(){"use strict";var a=33,b=34,c=37,d=38,e={DEFAULT:"default",QUIET:"quiet",LARGE:"large"},f="coral3-Accordion",g="";for(var h in e)g+=f+"--"+e[h]+" ";Coral.register({name:"Accordion",tagName:"coral-accordion",className:f,mixins:[Coral.mixin.selectionList({role:"tablist",itemTagName:"coral-accordion-item",allowSingleModeDeselect:!0})],events:{"click [role=tab]":"_onItemClick","key:space [role=tab]":"_onToggleItemKey","key:return [role=tab]":"_onToggleItemKey","key:pageup [role=tab]":"_focusPreviousItem","key:left [role=tab]":"_focusPreviousItem","key:up [role=tab]":"_focusPreviousItem","key:pagedown [role=tab]":"_focusNextItem","key:right [role=tab]":"_focusNextItem","key:down [role=tab]":"_focusNextItem","key:home [role=tab]":"_onHomeKey","key:end [role=tab]":"_onEndKey","keydown [role=tabpanel]":"_onItemContentKeyDown"},properties:{variant:{"default":e.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(e)],sync:function(){this.$.removeClass(g),this.variant!==Coral.Accordion.variant.DEFAULT&&this.$.addClass(this._className+"--"+this.variant)}},_tabTarget:{"default":null,sync:function(){var a=this._tabTarget,b=this.items.getAll();b.forEach(function(b){b._isTabTarget=b===a})}}},_onHomeKey:function(a){a.preventDefault(),a.stopPropagation(),this._focusItem(this.items.getFirstSelectable())},_onEndKey:function(a){a.preventDefault(),a.stopPropagation(),this._focusItem(this.items.getLastSelectable())},_onItemContentKeyDown:function(e){var f=parseFloat(e.keyCode),g=e.matchedTarget.parentNode;switch(f){case d:case c:(e.metaKey||e.ctrlKey)&&(e.preventDefault(),e.stopPropagation(),this._focusItem(g));break;case a:if(e.metaKey||e.ctrlKey){e.preventDefault(),e.stopPropagation();var h=this.items.getPreviousSelectable(g);this._selectItem(h),this._focusItem(h)}break;case b:if(e.metaKey||e.ctrlKey){e.preventDefault(),e.stopPropagation();var i=this.items.getNextSelectable(g);this._selectItem(i),this._focusItem(i)}}},_focusPreviousItem:function(a){a.preventDefault(),a.stopPropagation(),this._focusItem(this.items.getPreviousSelectable(a.target.parentNode))},_focusNextItem:function(a){a.preventDefault(),a.stopPropagation(),this._focusItem(this.items.getNextSelectable(a.target.parentNode))},_onItemClick:function(a){var b=$(a.target).closest("coral-accordion-item").get(0);b&&(a.preventDefault(),a.stopPropagation(),this._selectItem(b),this._focusItem(b))},_onToggleItemKey:function(a){a.preventDefault(),a.stopPropagation();var b=a.target.parentNode;this._selectItem(b),this._focusItem(b)},_onItemSelected:function(){this._resetTabTarget()},_onItemDeselected:function(){this._resetTabTarget()},_onItemAttached:function(){this._resetTabTarget()},_onItemDetached:function(){this._resetTabTarget()},_resetTabTarget:function(){var a=this.items._getNonNestedItems().filter("[selected]:not([disabled],[hidden])");this._tabTarget=a.length?a[0]:this.items.getFirstSelectable()},_focusItem:function(a){a&&a.focus(),this._tabTarget=a},_initialize:function(){this.setAttribute("aria-multiselectable","true")}}),Coral.Accordion.variant=e}(),function(){"use strict";var a={"true":"chevronDown","false":"chevronRight"};Coral.register({name:"Accordion.Item",tagName:"coral-accordion-item",className:"coral3-Accordion-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-accordion",role:"presentation"})],properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-accordion-item-label"}),content:Coral.property.contentZone({handle:"content",tagName:"coral-accordion-item-content"}),selected:{sync:function(){this.$.toggleClass("is-selected",this.selected),this._elements.header.setAttribute("aria-selected",this.selected),this._elements.header.setAttribute("aria-expanded",this.selected),this._elements.contentContainer.setAttribute("aria-hidden",!this.selected),this._elements.icon.icon=a[this.selected],this._animate?this._elements.$contentContainer[this.selected?"slideDown":"slideUp"]({duration:250}):(this._elements.$contentContainer[this.selected?"show":"hide"](),this._animate=!0)}},disabled:{alsoSync:["_isTabTarget"],sync:function(){this.$.toggleClass("is-disabled",this.disabled),this._elements.header.setAttribute("aria-disabled",this.disabled)}},_isTabTarget:{"default":!1,sync:function(){this.disabled?this._elements.header.removeAttribute("tabindex"):this._elements.header.setAttribute("tabindex",this.__isTabTarget?"0":"-1")}}},focus:function(){this._elements.header.focus()},_initialize:function(){var a=this._elements.header;a.setAttribute("aria-controls",this._elements.contentContainer.id),this._elements.contentContainer.setAttribute("aria-labelledby",a.id)},_templateHandleNames:["header","icon","labelContainer","$contentContainer"],_render:function(){var a=Coral.templates.Accordion.item.call(this._elements),b=this._elements.label=this.querySelector("coral-accordion-item-label")||document.createElement("coral-accordion-item-label"),c=this._elements.content=this.querySelector("coral-accordion-item-content")||document.createElement("coral-accordion-item-content");for(this._elements.labelContainer.appendChild(b),this._elements.contentContainer.appendChild(c);this.firstChild;){var d=this.firstChild;d.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(d.getAttribute("handle"))?c.appendChild(d):this.removeChild(d)}this.appendChild(a)}}),Coral.register({name:"Accordion.Item.Content",tagName:"coral-accordion-item-content"}),Coral.register({name:"Accordion.Item.Label",tagName:"coral-accordion-item-label"})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Accordion=this.Coral.templates.Accordion||{},this.Coral.templates.Accordion.item=function(a){var b=document.createDocumentFragment(),c=this.header=document.createElement("div");c.className+=" coral3-Accordion-header",c.setAttribute("role","tab"),c.id=Coral.commons.getUID(),c.setAttribute("handle","header");var d=document.createTextNode("\n  ");c.appendChild(d);var e=this.icon=document.createElement("coral-icon");e.setAttribute("size","xs"),e.setAttribute("handle","icon"),e.setAttribute("icon","chevronRight"),c.appendChild(e);var f=document.createTextNode("\n  ");c.appendChild(f);var g=this.labelContainer=document.createElement("span");g.className+=" coral3-Accordion-label",g.setAttribute("handle","labelContainer"),c.appendChild(g);var h=document.createTextNode("\n");c.appendChild(h),b.appendChild(c);var i=document.createTextNode("\n");b.appendChild(i);var j=this.contentContainer=document.createElement("div");this.$contentContainer=$(j),j.className+=" coral3-Accordion-content",j.setAttribute("handle","$contentContainer"),j.id=Coral.commons.getUID(),j.setAttribute("role","tabpanel"),b.appendChild(j);var k=document.createTextNode("\n");return b.appendChild(k),b},function(){"use strict";var a={success:"checkCircle",info:"infoCircle",error:"alert",warning:"alert",help:"helpCircle"},b={ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},c={SMALL:"S",LARGE:"L"},d="coral3-Alert",e={S:"small",L:"large"},f="";for(var g in b)f+=d+"--"+b[g]+" ";var h="";for(var i in c)h+=d+"--"+e[c[i]]+" ";Coral.register({name:"Alert",tagName:"coral-alert",className:d,events:{"click [coral-close]":"_onCloseClick"},properties:{variant:{"default":b.INFO,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],set:function(b){this._variant=b,this._elements.icon.icon=a[this.variant]},sync:function(){this.$.removeClass(f),this.$.addClass(d+"--"+this.variant)}},size:{"default":c.SMALL,reflectAttribute:!0,transform:function(a){return"string"==typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this.$.removeClass(h).addClass(d+"--"+e[this.size])}},header:Coral.property.contentZone({handle:"header",tagName:"coral-alert-header"}),content:Coral.property.contentZone({handle:"content",tagName:"coral-alert-content"})},_templateHandleNames:["icon"],_render:function(){var a=document.createDocumentFragment();a.appendChild(Coral.templates.Alert.icon.call(this._elements));var b=this._elements.header=this.querySelector("coral-alert-header")||document.createElement("coral-alert-header"),c=this._elements.content=this.querySelector("coral-alert-content")||document.createElement("coral-alert-content");for(a.appendChild(b),a.appendChild(c);this.firstChild;){var e=this.firstChild;e.nodeType===Node.TEXT_NODE||-1===this._templateHandleNames.indexOf(e.getAttribute("handle"))?c.appendChild(e):this.removeChild(e)}this.appendChild(a),-1!==window.navigator.userAgent.indexOf("MSIE 9.0")&&this.$.addClass(d+"--IE9")},_onCloseClick:function(a){var b=a.matchedTarget,c=b.getAttribute("coral-close");(!c||this.$.is(c))&&(this.hide(),a.stopPropagation())}}),Coral.register({name:"Alert.Header",tagName:"coral-alert-header",className:d+"-header"}),Coral.register({name:"Alert.Content",tagName:"coral-alert-content",className:d+"-content"}),Coral.Alert.size=c,Coral.Alert.variant=b}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Alert=this.Coral.templates.Alert||{},this.Coral.templates.Alert.icon=function(a){var b=document.createDocumentFragment(),c=this.icon=document.createElement("coral-icon");c.className+=" coral3-Alert-typeIcon",c.setAttribute("size","XS"),c.setAttribute("handle","icon"),b.appendChild(c);var d=document.createTextNode("\n");return b.appendChild(d),b},function(){"use strict";var a=1e3,b=50,c=100,d="coral-selectlist-item",e="coral-selectlist-group",f=function(a,b){this._host=a,this._itemTagName=b};f.prototype=Object.create(Coral.Collection.prototype),f.prototype.add=function(a,b){if(!(a instanceof HTMLElement)){var c=a;a=document.createElement(this._itemTagName),a.set(c,!0)}return this._host.insertBefore(a,b||null)},f.prototype.getAll=function(){return this._host.$.children(this._itemTagName).toArray()},Coral.register({name:"SelectList",tagName:"coral-selectlist",className:"coral3-SelectList",mixins:[Coral.mixin.selectionList({role:"listbox",itemTagName:d})],events:{scroll:"_onScroll","capture:focus":"_onFocus","capture:blur":"_onBlur","click coral-selectlist-item":"_onItemClick","capture:mouseenter coral-selectlist-item":"_onItemMouseEnter","capture:mouseleave coral-selectlist-item":"_onItemMouseLeave","key:space coral-selectlist-item":"_onToggleItemKey","key:return coral-selectlist-item":"_onToggleItemKey","key:pageup coral-selectlist-item":"_focusPreviousItem","key:left coral-selectlist-item":"_focusPreviousItem","key:up coral-selectlist-item":"_focusPreviousItem","key:pagedown coral-selectlist-item":"_focusNextItem","key:right coral-selectlist-item":"_focusNextItem","key:down coral-selectlist-item":"_focusNextItem","key:home coral-selectlist-item":"_onHomeKey","key:end coral-selectlist-item":"_onEndKey","keypress coral-selectlist-item":"_onKeyPress"},properties:{groups:{set:function(){},get:function(){return this._groups||(this._groups=new f(this,e)),this._groups}},loading:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,set:function(a){this._loading=a;var b=this._elements.loadIndicator;if(this.loading){b||(b=this._elements.loadIndicator=Coral.templates.SelectList.loadIndicator().firstChild);var c=this.scrollTop>=this.scrollHeight-this.clientHeight;this.appendChild(b),c&&(this.scrollTop=this.scrollHeight)}else b&&b.parentNode&&this.removeChild(b)}},_tabTarget:{"default":null,sync:function(){var a=this._tabTarget,b=this.items.getAll();b.forEach(function(b){b._isTabTarget=b===a})}}},focus:function(){this._resetTabTarget(),this._focusItem(this._tabTarget)},_onItemMouseEnter:function(a){a.target.disabled||(this.$.hasClass("is-focused")?this._focusItem(a.target):$(a.target).addClass("is-highlighted"))},_onItemMouseLeave:function(a){$(a.target).removeClass("is-highlighted")},_onFocus:function(a){this.$.addClass("is-focused")},_onBlur:function(a){this._resetTabTarget(),this.$.removeClass("is-focused")},_onItemClick:function(a){var b=a.matchedTarget;if(b){a.preventDefault(),a.stopPropagation();var c=b.selected;this._selectItem(b),this._focusItem(b),c===b.selected&&this.trigger("coral-selectlist:change",{oldSelection:this._getSelection(),selection:this._getSelection()})}},_focusItem:function(a){a&&a.focus(),this._tabTarget=a},_onToggleItemKey:function(a){a.preventDefault(),a.stopPropagation();var b=a.target,c=b.selected;this._selectItem(b),this._focusItem(b),c===b.selected&&this.trigger("coral-selectlist:change",{oldSelection:this._getSelection(),selection:this._getSelection()})},_focusPreviousItem:function(a){a.preventDefault(),a.stopPropagation(),this._focusItem(this.items.getPreviousSelectable(a.target))},_focusNextItem:function(a){a.preventDefault(),a.stopPropagation(),this._focusItem(this.items.getNextSelectable(a.target))},_onHomeKey:function(a){a.preventDefault(),a.stopPropagation(),this._focusItem(this.items.getFirstSelectable())},_onEndKey:function(a){a.preventDefault(),a.stopPropagation(),this._focusItem(this.items.getLastSelectable())},_keypressTimeoutID:null,_keypressSearchString:"",_onKeyPress:function(b){var c=this,d=String.fromCharCode(b.which);clearTimeout(this._keypressTimeoutID),d!==this._keypressSearchString&&(this._keypressSearchString+=d),this._keypressTimeoutID=setTimeout(function(){c._keypressSearchString=""},a);var e=this.items._getSelectableItems(),f=e.index(this._tabTarget);this._keypressSearchString=this._keypressSearchString.trim().toLowerCase();var g;g=-1===f?0:1===this._keypressSearchString.length?f+1:f;for(var h,i,j,k=g;k<e.length;k++)if(j=e.eq(k),i=j.text().trim().toLowerCase(),0===i.indexOf(this._keypressSearchString)){h=j;break}if(!h)for(var l=0;g>l;l++)if(j=e.eq(l),i=j.text().trim().toLowerCase(),0===i.indexOf(this._keypressSearchString)){h=j;break}void 0!==h&&this._focusItem(h)},_onItemSelected:function(){this._resetTabTarget()},_onItemDeselected:function(){this._resetTabTarget()},_onItemAttached:function(){this._resetTabTarget()},_onItemDetached:function(){this._resetTabTarget()},_resetTabTarget:function(){var a=this.items._getNonNestedItems().filter("[selected]:not([disabled],[hidden])");this._tabTarget=a.length?a[0]:this.items.getFirstSelectable()},_onScroll:function(){clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(this._onDebouncedScroll,c)},_onDebouncedScroll:function(){this.scrollTop>=this.scrollHeight-this.clientHeight-b&&this.trigger("coral-selectlist:scrollbottom")},_initialize:function(){this.setAttribute("tabindex","-1"),this._onDebouncedScroll=this._onDebouncedScroll.bind(this)}}),Coral.register({name:"SelectList.Item",tagName:d,className:"coral3-SelectList-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-selectlist",role:"option"})],events:{focus:"_onFocus",blur:"_onBlur"},properties:{value:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return"undefined"==typeof this._value?this.textContent:this._value}},content:{contentZone:!0,set:function(){},get:function(){return this}},_isTabTarget:{"default":!1,sync:function(){this.setAttribute("tabindex",this.__isTabTarget?0:-1)}}},_onFocus:function(a){this.$.addClass("is-highlighted")},_onBlur:function(a){this.$.removeClass("is-highlighted")}}),Coral.register({name:"SelectList.Group",tagName:e,className:"coral-SelectList-group",properties:{label:{reflectAttribute:!0,transform:Coral.transform.string,sync:function(){this.setAttribute("aria-label",this.label)}},items:{set:function(){},get:function(){return this._groups||(this._groups=new f(this,d)),this._groups}}},_initialize:function(){this.setAttribute("role","group")}})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.SelectList=this.Coral.templates.SelectList||{},this.Coral.templates.SelectList.loadIndicator=function(a){var b=document.createDocumentFragment(),c=document.createElement("div");c.className+=" coral-SelectList-loading";var d=document.createTextNode("\n  ");c.appendChild(d);var e=document.createElement("coral-wait");e.setAttribute("centered",""),c.appendChild(e);var f=document.createTextNode("\n");c.appendChild(f),b.appendChild(c);var g=document.createTextNode("\n");return b.appendChild(g),b},function(){"use strict";function a(){this.open&&this._position()}function b(a){return"string"==typeof a?a.toLowerCase():a}var c={LEFT_TOP:"left top",LEFT_CENTER:"left center",LEFT_BOTTOM:"left bottom",CENTER_TOP:"center top",CENTER_CENTER:"center center",CENTER_BOTTOM:"center bottom",RIGHT_TOP:"right top",RIGHT_CENTER:"right center",RIGHT_BOTTOM:"right bottom"},d={FLIP:"flip",FIT:"fit",FLIP_FIT:"flipfit",NONE:"none"},e={PREVIOUS:"_prev",NEXT:"_next"},f={LEFT:"left",RIGHT:"right",BOTTOM:"bottom",TOP:"top"};Coral.register({name:"Overlay",tagName:"coral-overlay",className:"coral-Overlay",mixins:[Coral.mixin.overlay],events:{"global:resize":"_position","click [coral-close]":"_handleCloseClick"},properties:{target:{"default":null,validate:function(a){return null===a||"string"==typeof a||a instanceof Node},set:function(a){this._target=a,this.target&&this.open&&(this._position(),this._returnFocus===Coral.mixin.overlay.returnFocus.ON&&this.returnFocusTo(this._getTarget()))}},alignMy:{attribute:"alignmy","default":c.CENTER_CENTER,transform:b,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:a},alignAt:{attribute:"alignat","default":c.CENTER_CENTER,transform:b,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:a},offset:{"default":0,transform:Coral.transform.number,validate:function(a){return"number"==typeof a},set:function(a){this._offset=a,this.open&&this._position()}},placement:{transform:b,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(f)],set:function(a){var b=this._placementAlignValues[a];this.alignMy=b.alignMy,this.alignAt=b.alignAt,this._placement=a}},within:{"default":window,sync:a},collision:{"default":d.FLIP_FIT,sync:a},open:{sync:function(){this.open&&this._position()}}},_overlayAnimationTime:0,_initialize:function(){this.style.display="none"},_getTarget:function(a){if(a=a||this.target,a instanceof Node)return a;var b=null;return"string"==typeof a&&(b=a===e.PREVIOUS?this.previousElementSibling:a===e.NEXT?this.nextElementSibling:document.querySelector(a)),b},_placementAlignValues:{right:{alignMy:"left center",alignAt:"right center"},left:{alignMy:"right center",alignAt:"left center"},top:{alignMy:"center bottom",alignAt:"center top"},bottom:{alignMy:"center top",alignAt:"center bottom"}},reposition:a,_position:function(){if(this.open){var a=this._getTarget();if(a){this._beforePosition();var b=this.offset,c=[],d=this.alignMy,e=this.alignAt,f=d.split(" "),g=e.split(" ");c[0]=b>0?"+"+b:b,c[1]=b>0?"-"+b:"+"+-b,b&&("top"!==f[1]||"bottom"!==g[1]&&"top"!==g[1]?"bottom"!==f[1]||"top"!==g[1]&&"bottom"!==g[1]?"left"!==f[0]||"right"!==g[0]&&"left"!==g[0]?"right"!==f[0]||"left"!==g[0]&&"right"!==g[0]||(d=f.join(c[1]+" ")):d=f.join(c[0]+" "):d+=c[1]:d+=c[0]),this.$.position({my:d,at:e,using:this._positionCallback,of:a,collision:this.collision,within:this.within})}}},_beforePosition:function(){if(0===this.alignMy.indexOf("left")||0===this.alignMy.indexOf("right")){this.style.display="block";var a=this._getTarget(),b=a.getBoundingClientRect(),c=window.innerWidth,d=c-(b.left+b.width),e=b.left,f=Math.max(e,d);
this.style.maxWidth=f+"px",this.style.display=""}this.style.left="-9999px",this.style.top="-9999px"},_positionCallback:function(a,b){this._applyPosition(a,b),this.trigger("coral-overlay:positioned",b)},_applyPosition:function(a,b){this.style.top=a.top+"px",this.style.left=a.left+"px",this.trigger("coral-overlay:positioned",b)},_handleCloseClick:function(a){var b=a.matchedTarget,c=b.getAttribute("coral-close");(!c||this.$.is(c))&&(this.hide(),a.stopPropagation())}}),Coral.Overlay.align=c,Coral.Overlay.collision=d,Coral.Overlay.target=e,Coral.Overlay.placement=f}(),function(){"use strict";var a="coral-Tag",b={SMALL:"S",MEDIUM:"M",LARGE:"L"},c={DEFAULT:"",GREY:"grey",BLUE:"blue",LIGHT_BLUE:"lightblue",PERIWINKLE:"periwinkle",PLUM:"plum",FUCHSIA:"fuchsia",MAGENTA:"magenta",RED:"red",ORANGE:"orange",TANGERINE:"tangerine",YELLOW:"yellow",CHARTREUSE:"chartreuse",GREEN:"green",KELLY_GREEN:"kellygreen",SEA_FOAM:"seafoam",CYAN:"cyan"},d={S:"small",M:"medium",L:"large"},e="";for(var f in b)e+=a+"--"+d[b[f]]+" ";var g="";for(var h in c)g+=a+"--"+c[h]+" ";var i=a+"--quiet",j=a+"--multiline";Coral.register({name:"Tag",tagName:"coral-tag",className:a,events:{"click [coral-close]":"_onRemoveButtonClick","key:backspace":"_onRemoveButtonClick"},properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-tag-label"}),closable:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this._elements.button.hidden=!this.closable}},value:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return"undefined"==typeof this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value},set:function(a){this._value=a,window.CustomElements["instanceof"](this.parentNode,Coral.TagList)&&this.$.data("input")&&(this.$.data("input").value=a)}},quiet:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$.toggleClass(i,this.quiet)}},multiline:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$.toggleClass(j,this.multiline)}},size:{"default":b.LARGE,transform:function(a){return"string"==typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.$.removeClass(e).addClass(this._className+"--"+d[this.size])}},color:{"default":c.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this.$.removeClass(g),this.color!==Coral.Tag.color.DEFAULT&&this.$.addClass(this._className+"--"+this.color)}}},_onRemoveButtonClick:function(a){if(this.closable){a.preventDefault(),a.stopPropagation(),this.focus();var b=this.parentNode;this.remove(),window.CustomElements["instanceof"](b,Coral.TagList)&&b.trigger("change")}},_render:function(){var a=document.createDocumentFragment();a.appendChild(Coral.templates.TagList.tag.call(this._elements));var b=this._elements.label=this.querySelector("coral-tag-label")||document.createElement("coral-tag-label");for(a.appendChild(b);this.firstChild;)b.appendChild(this.firstChild);this.appendChild(a)}}),Coral.register({name:"Tag.Label",tagName:"coral-tag-label",className:"coral-Tag-label"}),Coral.Tag.size=b,Coral.Tag.color=c}(),function(){"use strict";var a="coral-tag",b=function(a){this._tagList=a},c=[];b.prototype=Object.create(Coral.Collection.prototype),b.prototype.add=function(b,c){if(!(b instanceof HTMLElement)){var d=b;b=document.createElement(a),b.set(d,!0)}return this._tagList.insertBefore(b,c||null)},b.prototype.getAll=function(){return this._tagList.$.children(a).toArray()},Coral.register({name:"TagList",tagName:"coral-taglist",className:"coral-TagList",mixins:[Coral.mixin.formField],events:{"coral-component:attached coral-tag":"_onComponentAttached","key:right coral-tag":"_focusNextItem","key:down coral-tag":"_focusNextItem","key:pagedown coral-tag":"_focusNextItem","key:left coral-tag":"_focusPreviousItem","key:up coral-tag":"_focusPreviousItem","key:pageup coral-tag":"_focusPreviousItem"},properties:{disabled:{sync:function(){var a=this;a.$.toggleClass("is-disabled",a.disabled).attr("aria-disabled",a.disabled),a.items.getAll().forEach(function(b){b.$.data("input")&&(b.$.data("input").disabled=a.disabled),b._elements.button.disabled=a.disabled,b.setAttribute("tabindex",a.disabled?-1:0)})}},readOnly:{sync:function(){var a=this;a.setAttribute("aria-readonly",a.readOnly),a.items.getAll().forEach(function(b){b.closable=!a.readOnly})}},value:{transform:Coral.transform.string,get:function(){var a=this.items.getAll();return a.length?a[0].value:""},set:function(a){"undefined"!=typeof this.value&&(this.items.clear(),this.items.add((new Coral.Tag).set({label:{innerHTML:a},value:a})))}},values:{get:function(){return this.items.getAll().map(function(a){return a.$.data("input")?a.$.data("input").value:void 0})},set:function(a){var b=this;b.items.clear(),a.forEach(function(a){b.items.add((new Coral.Tag).set({label:{innerHTML:a},value:a}))})}},items:{set:function(){},get:function(){return this._items||(this._items=new b(this)),this._items}},name:{transform:Coral.transform.string,get:function(){return this._name},set:function(a){this._name=a,this.items.getAll().forEach(function(b){b.$&&b.$.data("input")&&b.$.data("input").setAttribute("name",a)})}}},_onComponentAttached:function(b){var c=this;if(b.target.parentNode===c){var d=this.items.getAll().some(function(a){return a.value===b.target.value&&a!==b.target});if(d)return void b.target.remove();this.appendChild(Coral.templates.TagList.input.call(this._elements)),this._elements.input.disabled=c.disabled,this._elements.input.setAttribute("name",c.name),this._elements.input.setAttribute("value",b.target.value),b.target.setAttribute("role","option"),b.target.setAttribute("aria-selected",!1),b.target.setAttribute("tabindex","-1"),b.target.closable=!this.readOnly,this.$.children(a+'[tabindex="0"]').length||this.$.children(a+":first-child").attr("tabindex","0"),b.target.on("coral-component:detached",this._onComponentDetached),b.target.on("focus.CoralTagList",function(){c.disabled||(this.setAttribute("aria-selected",!0),c.$.children(a+'[tabindex="0"]').attr("tabindex","-1"),this.setAttribute("tabindex","0"),c._setItemToFocusOnDelete(this))}),b.target.on("blur.CoralTagList",function(){c.disabled||(this.setAttribute("aria-selected",!1),c._setItemToFocusOnDelete(this))}),b.target.$.data("input",c._elements.input),c.trigger("coral-collection:add",{item:b.target})}},_onComponentDetached:function(a){a.target.off("coral-component:detached",this._onComponentDetached),a.target.off(".CoralTagList"),$(a.target.$.data("input")).remove(),$.removeData(a.target,"input"),a.target.removeAttribute("role"),a.target.removeAttribute("aria-selected"),a.target.removeAttribute("tabindex"),c.length&&c.focus(),this.trigger("coral-collection:remove",{item:a.target})},_focusNextItem:function(b){this.disabled||(b.preventDefault(),b.target.$.nextAll(a).first().focus())},_focusPreviousItem:function(b){this.disabled||(b.preventDefault(),b.target.$.prevAll(a).first().focus())},_setItemToFocusOnDelete:function(b){c=b.$.nextAll(a).first(),0===c.length&&(c=b.$.prevAll(a).first())},_initialize:function(){this.setAttribute("role","listbox"),this._onComponentDetached=this._onComponentDetached.bind(this)}})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.TagList=this.Coral.templates.TagList||{},this.Coral.templates.TagList.input=function(a){var b=document.createDocumentFragment(),c=this.input=document.createElement("input");c.setAttribute("handle","input"),c.setAttribute("type","hidden"),c.setAttribute("name",""),c.setAttribute("value",""),b.appendChild(c);var d=document.createTextNode("\n");return b.appendChild(d),b},this.Coral.templates.TagList.tag=function(a){var b=document.createDocumentFragment(),c=this.button=document.createElement("button","coral-button");c.setAttribute("coral-close",""),c.setAttribute("tabindex","-1"),c.setAttribute("handle","button"),c.setAttribute("is","coral-button"),c.setAttribute("variant","minimal"),c.setAttribute("title","Remove"),c.className+=" coral-Tag-removeButton",c.setAttribute("icon","close"),c.setAttribute("iconSize","XS"),b.appendChild(c);var d=document.createTextNode("\n");return b.appendChild(d),b},function(){"use strict";var a=function(){return $.browser?$.browser.msie&&9===$.browser.msie.version:navigator.userAgent.indexOf("MSIE 9.0")>=0}();$.event.special.coralinternalinput={add:function(b){var c=$(this).on("input.coralinternalinput",b.selector,b.data,b.handler);a&&c.on("cut.coralinternalinput",b.selector,b.data,b.handler).on("keyup.coralinternalinput",function(a){switch(a.which){case 8:case 46:return b.handler()}})},remove:function(a){$(this).off(".coralinternalinput")}}}(),function(){"use strict";var a=0,b=function(a){Coral.Collection.call(this,arguments),this._host=a.host};b.prototype=Object.create(Coral.Collection.prototype),b.prototype.add=function(a,b){return a instanceof HTMLElement||(a=(new Coral.Autocomplete.Item).set(a,!0)),this._host.insertBefore(a,b||null),a},b.prototype.getAll=function(){return Array.prototype.slice.call(this._host.querySelectorAll("coral-autocomplete-item"))};var c={STARTSWITH:"startswith",CONTAINS:"contains"},d=Coral.validate.enumeration(c);Coral.register({name:"Autocomplete",tagName:"coral-autocomplete",className:"coral-Autocomplete",mixins:[Coral.mixin.formField],properties:{items:{get:function(){return this._items||(this._items=new b({itemTagName:"coral-autocomplete-item",itemSelector:"coral-autocomplete-item",host:this})),this._items},set:function(){}},name:{set:function(a){this._name=a,this._setName()},get:function(){return this._name}},value:{override:!0,transform:function(a){return(void 0===a||null===a)&&(a=""),a},set:function(a){this.values=[a]},get:function(){var a=this.values;return a.length>0?a[0]:""}},values:{validate:[Coral.validate.valueMustChange,function(a){return Array.isArray(a)}],set:function(a){(void 0===a||null===a)&&(a=[]);var b,c,d=[];if(this.forceSelection)for(b=0;b<a.length;b++)c=a[b],void 0!==this._optionsMap[c]&&d.push(c);else for(b=0;b<a.length;b++)c=a[b],d.push(c);if(this.multiple)for(this._clearValues(),b=0;b<d.length;b++)c=d[b],this._addValue(c);else this._values=[d[0]],this._reflectCurrentValue()},get:function(){return this._values}},multiple:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,set:function(a){this._multiple=a,this._setName(),a?this._elements.tagList.hidden=!1:(this._elements.tagList.hidden=!0,this._elements.tagList.items.clear())},get:function(){return this._multiple}},delay:{"default":200,reflectAttribute:!0,transform:Coral.transform.number,validate:function(a,b){return"number"==typeof a&&a>=0}},forceSelection:{"default":!1,attribute:"forceselection",reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,set:function(b){this.forceSelection&&!b&&a&&console.warn("Coral.Autocomplete: Should check for invalid state"),this._forceSelection=b},get:function(){return this._forceSelection}},placeholder:{"default":"",reflectAttribute:!0,set:function(a){this._elements.input.setAttribute("placeholder",a)},get:function(){return this._elements.input.getAttribute("placeholder")}},icon:{"default":"",validate:[],reflectAttribute:!0,set:function(a){this._elements.icon.icon=a,this._elements.icon.hidden=!this._elements.icon.icon},get:function(){return this._elements.icon.icon}},match:{"default":c.CONTAINS,validate:function(a){return"string"==typeof a?d(a):"function"==typeof a},set:function(a){a===c.STARTSWITH?this._matchFunction=this._optionStartsWithValue:a===c.CONTAINS?this._matchFunction=this._optionContainsValue:"function"==typeof a&&(this._matchFunction=a),this._match=a}},invalid:{sync:function(){this.$.toggleClass("is-invalid",this.invalid),this._elements.$input.toggleClass("is-invalid",this.invalid)}},disabled:{sync:function(){this._elements.input.disabled=this.disabled,this._elements.trigger.disabled=this.disabled||this.readOnly,this._elements.tagList.disabled=this.disabled||this.readOnly}},readOnly:{sync:function(){this._elements.input.readOnly=this.readOnly,this._elements.trigger.disabled=this.readOnly||this.disabled}},required:{sync:function(){this._elements.input.required=this.required}},loading:{get:function(){return this._elements.selectList.loading},set:function(a){this._elements.selectList.loading=a}}},events:{'key:up [handle="$input"]':"_handleInputKeypressTrigger",'key:down [handle="$input"]':"_handleInputKeypressTrigger",'key:alt+down [handle="$input"]':"_handleInputKeypressTrigger",'key:alt+up [handle="$input"]':"_handleInputKeypressTrigger",keydown:"_handleInputKeypressEnter",'click [handle="$trigger"]':"_handleTriggerClick","key:escape":"_hideSuggestionsAndFocus","key:shift+tab coral-selectlist-item":"_handleListFocusShift","capture:blur":"_handleFocusOut",'capture:focus [handle="$inputGroup"]':"_handleInputGroupFocusIn",'capture:blur [handle="$inputGroup"]':"_handleInputGroupFocusOut",'coral-collection:remove [handle="tagList"]':"_handleTagRemoved",'coral-selectlist:change [handle="selectList"]':"_handleSelect","coral-selectlist:scrollbottom":"_handleScrollBottom","coral-overlay:positioned":"_handleOverlayPositioned","coralui-autocomplete-item:valuechanged":"_handleItemValueChange","coralui-autocomplete-item:selectedchanged":"_handleItemSelectedChange","coralui-autocomplete-item:contentchanged":"_handleItemContentChange"},_render:function(){this.insertBefore(Coral.templates.Autocomplete.base.call(this._elements),this.firstElementChild),this.setAttribute("role","combobox"),this.setAttribute("aria-haspopup","true"),this.setAttribute("aria-owns",this._elements.selectList.id),this._elements.input.setAttribute("aria-autocomplete","list")},_initialize:function(){var a=this;this._tagMap={},this._values=[],this._options=[],this._optionsMap={};var b=this._showSuggestions.bind(this);this._elements.$input.on("coralinternalinput",function(c){a.invalid=!1,a.delay?(clearTimeout(a.timeout),a.timeout=setTimeout(b,a.delay)):b()}),this._observer=new MutationObserver(this._handleMutation.bind(this)),this._startObserving(),this._setStateFromDOM()},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this._setStateFromDOM()},_startObserving:function(){this._observer.observe(this,{childList:!0})},_stopObserving:function(){this._observer.disconnect()},_setName:function(){this.multiple?(this._elements.tagList.name=this.name,this._elements.field.name=""):(this._elements.field.name=this.name,this._elements.tagList.name="")},_onInputChange:function(){event.stopPropagation()},_handleMutation:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.target;if("childList"===c.type&&d===this)return void this._setStateFromDOM()}},_setStateFromDOM:function(){this._createOptionsFromDOM(),this._setSelectedFromDOM()},_createOptionsFromDOM:function(){this._options.length=0,this._optionsMap={};for(var a=this.querySelectorAll("coral-autocomplete-item"),b=0;b<a.length;b++){var c=a[b],d={value:c.getAttribute("value"),content:c.textContent};this._options.push(d),this._optionsMap[d.value]=d}},_setInputValues:function(a,b){this._elements.field.value=a,this._elements.input.value=b},_reflectCurrentValue:function(){var a=this._values.length>0?this._values[0]:"";this._elements.field.value=a;var b="";if(""!==a){var c=this._optionsMap[a];b=c?c.content:a}this._setInputValues(a,b)},_setSelectedFromDOM:function(){var a=this.querySelectorAll("coral-autocomplete-item[selected]");if(a.length)if(this.multiple){this._resetValues();for(var b=0;b<a.length;b++){var c=a[b].getAttribute("value"),d=a[b].textContent;this._addValue(c,d)}}else{var e=a[a.length-1];this._deselectExcept(e,a),this.value=e.getAttribute("value")}else this.multiple?this._resetValues():this.value=""},_deselectExcept:function(a,b){var c=b||this.querySelectorAll("coral-autocomplete-item[selected]");this._stopObserving();for(var d=0;d<c.length;d++)c[d]!==a&&c[d].removeAttribute("selected");this._startObserving()},_addValue:function(b,c){if(!c){var d=this._optionsMap[b];d?c=d.content:(c=b,a&&console.warn("Coral.Autocomplete: Did not have content for value %s",b))}var e=this._values.indexOf(b);-1===e?this._values.push(b):a&&console.warn("Coral.Autocomplete: Tried to add value that was already present");var f=(new Coral.Tag).set({label:{innerHTML:c},value:b});this._tagMap[b]=f,this._elements.tagList.items.add(f)},_removeValue:function(b){var c=this._values.indexOf(b);if(-1===c)return void(a&&console.warn("Coral.Autocomplete: Tried to remove tag that is not in values"));this._values.splice(c,1);var d=this.querySelector("coral-autocomplete-item[value="+JSON.stringify(b)+"]");d?d.hasAttribute("selected")&&(this._stopObserving(),d.removeAttribute("selected"),this._startObserving()):a&&console.warn("Coral.Autocomplete: Tried to remove value without corresponding item");var e=this._tagMap[b];e&&(this._tagMap[b]=null,this._elements.tagList.items.remove(e))},_clearValues:function(){this._resetValues(),this._stopObserving();for(var a=this.querySelectorAll("coral-autocomplete-item[selected]"),b=0;b<a.length;b++)a[b].removeAttribute("selected");this._startObserving()},_resetValues:function(){this._values=[],this._tagMap={},this._elements.tagList.items.clear()},_focusFirstItem:function(){var a=this._elements.selectList;Coral.commons.nextFrame(function(){a.focus()})},_showSuggestions:function(){var a=this._elements.input.value;this.clearSuggestions();var b=this.trigger("coral-autocomplete:showsuggestions",{value:a,start:0});b.defaultPrevented?(this.loading=!0,this.showSuggestions()):(this.addSuggestions(this._getMatches(a)),this.showSuggestions())},_handleScrollBottom:function(){var a=this._elements.input.value,b=this.trigger("coral-autocomplete:showsuggestions",{value:a,start:this._elements.selectList.items.length});b.defaultPrevented&&(this.loading=!0)},_handleFocusOut:function(a){var b=this._elements.selectList,c=this,d=a.target;Coral.commons.nextFrame(function(){var a=document.activeElement;(!a||!c.contains(a)||b.contains(d)&&!b.contains(a))&&c.hideSuggestions()})},_handleInputGroupFocusIn:function(){this.$.addClass("is-focused")},_handleInputGroupFocusOut:function(a){this.$.removeClass("is-focused")},_handleOverlayPositioned:function(a){"top"===a.detail.vertical?this.$.removeClass("is-openAbove").addClass("is-openBelow"):this.$.removeClass("is-openBelow").addClass("is-openAbove")},_handleListFocusShift:function(a){a.preventDefault(),this._hideSuggestionsAndFocus()},_hideSuggestionsAndFocus:function(a){this.hideSuggestions(),this._elements.input.focus()},_handleTriggerClick:function(){this._elements.overlay.open?this._hideSuggestionsAndFocus():(this._showSuggestions(),this._elements.input.focus())},_getMatches:function(a,b){b=b||this._matchFunction;for(var c=[],d=0;d<this._options.length;d++)b(this._options[d],a)&&c.push(this._options[d]);return c},_handleInputKeypressEnter:function(a){if(13===a.which){a.preventDefault();var b=this._elements.input.value;if(!b)return;var c=this._getMatches(b,this._optionEqualsValue);if(c.length){var d=c[0];this._selectItem(d.value,d.content),this.multiple?this._addValue(d.value,d.content):this.value=d.value,this.hideSuggestions(),this.trigger("change")}else this.forceSelection?this.invalid=!0:(this.multiple?this._addValue(b):this.value=b,this.hideSuggestions(),this.trigger("change"))}},_selectItem:function(a,b){this._stopObserving();var c=this.querySelector("coral-autocomplete-item[value="+JSON.stringify(a)+"]");c?c.setAttribute("selected",""):this.items.add((new Coral.Autocomplete.Item).set({value:a,content:{innerHTML:"undefined"==typeof b?a:b},selected:!0})),this._startObserving()},_handleInputKeypressTrigger:function(a){a.preventDefault(),this._elements.overlay.open?this._focusFirstItem():this._showSuggestions()},_handleSelect:function(a){var b=a.detail.selection;if(b){this._selectItem(b.value,b.content.innerHTML),this.multiple?this._addValue(b.value,b.content.innerHTML):(this.value=b.value,this._setInputValues(this.value,b.content.textContent));var c=this;Coral.commons.nextFrame(function(){c._elements.input.focus()}),this.hideSuggestions(),this.trigger("change")}},_handleTagRemoved:function(a){var b=a.detail.item;this._removeValue(b.value),1===this.values.length&&""===this.values[0]&&this._elements.input.focus()},_handleItemValueChange:function(a){a.stopImmediatePropagation(),this._createOptionsFromDOM()},_handleItemContentChange:function(a){a.stopImmediatePropagation(),this._createOptionsFromDOM()},_handleItemSelectedChange:function(a){a.stopImmediatePropagation();var b=a.target,c=b.hasAttribute("selected");this.multiple?this[c?"_addValue":"_removeValue"](b.value,b.content.textContent):c?(this._elements.input.value=b.content.textContent,this.value=b.value,this._deselectExcept(b)):this.value===b.value&&(this._elements.input.value="",this.value="")},clear:function(){this.value="",this.multiple&&this._clearValues()},clearSuggestions:function(){this._elements.selectList.items.clear()},addSuggestions:function(a,b){this.loading=!1,b&&this.clearSuggestions();for(var c=0;c<a.length;c++){var d=a[c].value,e=a[c].content;this.multiple&&-1!==this.values.indexOf(d)||this._elements.selectList.items.add({value:d,content:{innerHTML:e}})}a.length||this._elements.selectList.items.length||this._elements.selectList.items.add({content:{innerHTML:"<em>No matching items.</em>"},disabled:!0}),this._elements.selectList.style.height="";var f=window.getComputedStyle(this._elements.selectList),g=parseInt(f.height,10),h=parseInt(f.maxHeight,10);h>g&&(this._elements.selectList.style.height=g-1+"px")},showSuggestions:function(){this._elements.overlay.style.minWidth=this.offsetWidth+"px",this._elements.overlay.open?this._elements.overlay.reposition():this._elements.overlay.open=!0,this.setAttribute("aria-expanded","true"),this.$.addClass("is-open")},hideSuggestions:function(){this._elements.overlay.open=!1,this.setAttribute("aria-expanded","false"),this.$.removeClass("is-open is-openBelow is-openAbove"),clearTimeout(this.timeout),this.trigger("coral-autocomplete:hidesuggestions")},_optionContainsValue:function(a,b){return b=("string"==typeof b?b:"").toLowerCase(),-1!==a.content.toLowerCase().indexOf(b)},_optionStartsWithValue:function(a,b){return b=("string"==typeof b?b:"").toLowerCase(),0===a.content.toLowerCase().indexOf(b)},_optionEqualsValue:function(a,b){return b=("string"==typeof b?b:"").toLowerCase(),a.content.toLowerCase()===b}}),Coral.register({name:"Autocomplete.Item",tagName:"coral-autocomplete-item",properties:{value:{reflectAttribute:!0,trigger:"coralui-autocomplete-item:valuechanged"},content:{contentZone:!0,set:function(){},get:function(){return this}},selected:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,trigger:"coralui-autocomplete-item:selectedchanged"}},_initialize:function(){this._observer=new MutationObserver(this._handleMutation.bind(this)),this._observer.observe(this,{characterData:!0,childList:!0,subtree:!0})},_handleMutation:function(a){this.trigger("coralui-autocomplete-item:contentchanged",{content:this.innerHTML})}}),Coral.Autocomplete.match=c}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Autocomplete=this.Coral.templates.Autocomplete||{},this.Coral.templates.Autocomplete.base=function(a){var b=document.createDocumentFragment(),c=this.field=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("handle","field"),b.appendChild(c);var d=document.createTextNode("\n\n");b.appendChild(d);var e=this.inputGroup=document.createElement("div");this.$inputGroup=$(e),e.className+=" coral-InputGroup coral-InputGroup--block coral-Autocomplete-inputGroup",e.setAttribute("handle","$inputGroup");var f=document.createTextNode("\n  ");e.appendChild(f);var g=this.label=document.createElement("div");g.className+=" coral-InputGroup-input coral-DecoratedTextfield",g.setAttribute("handle","label");var h=document.createTextNode("\n    ");g.appendChild(h);var i=this.icon=document.createElement("coral-icon");this.$icon=$(i),i.setAttribute("size","XS"),i.className+=" coral-DecoratedTextfield-icon coral-Autocomplete-icon",i.setAttribute("handle","$icon"),g.appendChild(i);var j=document.createTextNode("\n    ");g.appendChild(j);var k=this.input=document.createElement("input");this.$input=$(k),k.className+=" coral-DecoratedTextfield-input coral-Autocomplete-input coral-Textfield",k.setAttribute("type","text"),k.setAttribute("autocomplete","off"),k.setAttribute("handle","$input"),k.setAttribute("role","textbox"),g.appendChild(k);var l=document.createTextNode("\n  ");g.appendChild(l),e.appendChild(g);var m=document.createTextNode("\n  ");e.appendChild(m);var n=document.createElement("span");n.className+=" coral-InputGroup-button";var o=document.createTextNode("\n    ");n.appendChild(o);var p=this.trigger=document.createElement("button","coral-button");this.$trigger=$(p),p.setAttribute("tabindex","-1"),p.setAttribute("is","coral-button"),p.setAttribute("type","button"),p.setAttribute("icon","chevronDown"),p.setAttribute("iconsize","XS"),p.setAttribute("handle","$trigger"),p.className+=" coral-Autocomplete-trigger",n.appendChild(p);var q=document.createTextNode("\n  ");n.appendChild(q),e.appendChild(n);var r=document.createTextNode("\n");e.appendChild(r),b.appendChild(e);var s=document.createTextNode("\n\n");b.appendChild(s);var t=this.overlay=document.createElement("coral-overlay");t.setAttribute("returnfocus","off"),t.setAttribute("alignmy","left top"),t.setAttribute("alignat","left bottom"),t.setAttribute("target","_prev"),t.setAttribute("handle","overlay");var u=document.createTextNode("\n  ");t.appendChild(u);var v=this.selectList=document.createElement("coral-selectlist");v.id=Coral.commons.getUID(),v.className+=" coral-Autocomplete-selectList",v.setAttribute("handle","selectList"),t.appendChild(v);var w=document.createTextNode("\n");t.appendChild(w),b.appendChild(t);var x=document.createTextNode("\n\n");b.appendChild(x);var y=this.tagList=document.createElement("coral-taglist");y.className+=" coral-Autocomplete-tagList",y.setAttribute("handle","tagList"),b.appendChild(y);var z=document.createTextNode("\n");return b.appendChild(z),b},this.Coral.templates.Autocomplete.suggestionSelectlistNoMatches=function(a){var b=document.createDocumentFragment(),c=document.createElement("div");c.className+=" coral-SelectList-noMatches",c.textContent="No Matches",b.appendChild(c);var d=document.createTextNode("\n");return b.appendChild(d),b},function(){"use strict";var a={PREVIOUS:"_prev",NEXT:"_next"};Coral.register({name:"CharacterCount",tagName:"coral-charactercount",className:"coral-CharacterCount",properties:{target:{"default":a.PREVIOUS,validate:function(a){return"string"==typeof a||a instanceof Node},set:function(b){this._target=b,this._targetEl&&this._$targetEl.off(".CoralCharacterCount"),b===a.NEXT?this._targetEl=this.nextElementSibling:b===a.PREVIOUS?this._targetEl=this.previousElementSibling:"string"==typeof b?this._targetEl=document.querySelector(b):this._targetEl=b,this._targetEl&&(this._$targetEl=$(this._targetEl),this._$targetEl.on("input.CoralCharacterCount",this._refreshCharCount.bind(this)),this._targetEl.getAttribute("maxlength")&&(this.maxLength=this._targetEl.getAttribute("maxlength")))}},maxLength:{"default":null,attribute:"maxlength",reflectAttribute:!0,transform:Coral.transform.number,sync:function(){this._refreshCharCount()}}},_getCharCount:function(){var a=this._targetEl?this._targetEl.value.length:0;return this._maxLength?this._maxLength-a:a},_refreshCharCount:function(){var a=this._getCharCount();this.innerHTML=a;var b=0>a;this._$targetEl&&(this._$targetEl.toggleClass("is-invalid",b),this.$.toggleClass("is-invalid",b))}}),Coral.CharacterCount.target=a}(),function(){"use strict";var a={ON:"on",OFF:"off"},b={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"},c={NONE:"none",MODAL:"modal",STATIC:"static"},d={error:"alert",warning:"alert",success:"checkCircle",help:"helpCircle",info:"infoCircle"},e="coral-Dialog",f="";for(var g in b)f+=e+"--"+b[g]+" ";Coral.register({name:"Dialog",tagName:"coral-dialog",className:e,mixins:[Coral.mixin.overlay],events:{"click [coral-close]":"_handleCloseClick",click:"_handleClick","global:resize":"center","global:key:escape":"_handleEscape"},properties:{trapFocus:{"default":Coral.mixin.overlay.trapFocus.ON},returnFocus:{"default":Coral.mixin.overlay.returnFocus.ON},header:Coral.property.contentZone({handle:"header",tagName:"coral-dialog-header"}),content:Coral.property.contentZone({handle:"content",tagName:"coral-dialog-content"}),footer:Coral.property.contentZone({handle:"footer",tagName:"coral-dialog-footer"}),backdrop:{"default":c.MODAL,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this.open&&"none"!==this.backdrop&&this._showBackdrop()}},variant:{"default":b.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.$.removeClass(f),this.variant===Coral.Dialog.variant.DEFAULT?(this._elements.icon.icon="",this.setAttribute("role","dialog")):(this._elements.icon.icon=d[this.variant],this.$.addClass(e+"--"+this.variant),this.setAttribute("role","alertdialog"))}},fullscreen:{reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$[this.fullscreen?"addClass":"removeClass"](this._className+"--fullscreen"),this.fullscreen?(this._elements.wrapper.style.top="",this._elements.wrapper.style.left="",this._elements.wrapper.style.marginLeft="",this._elements.wrapper.style.marginTop=""):this._syncProp("_center")}},open:{sync:function(){this.open&&(this._open=!1,this.parentNode!==document.body&&document.body.insertBefore(this,document.body.lastElementChild),this._open=!0,this._syncProp("_center"),"none"!==this.backdrop&&this._showBackdrop(),this.focus())}},icon:Coral.property.proxy({path:"elements.icon.icon"}),_center:{sync:function(){var a=this._elements.wrapper,b=this.style.display;this.style.display="block",a.style.position="absolute",a.style.left=0,a.style.top=0;var c=this._elements.$wrapper.outerWidth(),d=this._elements.$wrapper.outerHeight();d<window.innerHeight-20?(a.style.left="50%",a.style.top="50%",a.style.marginLeft=-(c/2)+"px",a.style.marginTop=-(d/2)+"px"):(a.style.position="",a.style.marginLeft="",a.style.marginTop=""),this.style.display=b}},closable:{"default":a.OFF,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){this.$.toggleClass(this._className+"--closable",this.closable===a.ON),this._elements.closeButton.style.display=this.closable===a.ON?"":"none"}}},_overlayAnimationTime:Coral.mixin.overlay.FADETIME,_initialize:function(){this.style.display="none"},_handleEscape:function(a){this.open&&this._isTopOverlay()&&this.hide()},_handleCloseClick:function(a){var b=a.matchedTarget,c=b.getAttribute("coral-close");(!c||this.$.is(c))&&(this.hide(),a.stopPropagation())},_handleClick:function(a){a.target===this&&this.backdrop!==c.STATIC&&this._isTopOverlay()&&this.hide()},attachedCallback:function(){Coral.Component.prototype.attachedCallback.apply(this,arguments),this.open&&this._syncProp("_center")},_render:function(){var a=this._elements.header=this.querySelector("coral-dialog-header")||document.createElement("coral-dialog-header"),b=this._elements.content=this.querySelector("coral-dialog-content")||document.createElement("coral-dialog-content"),c=this._elements.footer=this.querySelector("coral-dialog-footer")||document.createElement("coral-dialog-footer"),d=document.createElement("div");d.className="coral-Dialog-wrapper";var e,f=d;if(b.parentNode&&b.parentNode!==this){for(e=b.parentNode,
f=e;e.parentNode&&e.parentNode!==this;)e=e.parentNode;e.parentNode.removeChild(e)}this._elements.wrapper=d,this._elements.$wrapper=$(d);var g=Coral.templates.Dialog.header.call(this._elements);this._elements.headerContent.appendChild(a);var h=document.createElement("div");for(h.className="coral-Dialog-header",h.appendChild(g),f.appendChild(h),f.appendChild(b),f.appendChild(c);this.firstChild;)b.appendChild(this.firstChild);this.appendChild(d),e&&d.appendChild(e)},center:function(){return this._queueSync("_center"),this}}),Coral.register({name:"Dialog.Header",tagName:"coral-dialog-header"}),Coral.register({name:"Dialog.Footer",tagName:"coral-dialog-footer",className:"coral-Dialog-footer"}),Coral.register({name:"Dialog.Content",tagName:"coral-dialog-content",className:"coral-Dialog-content"}),Coral.Dialog.variant=b,Coral.Dialog.backdrop=c,Coral.Dialog.closable=a}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Dialog=this.Coral.templates.Dialog||{},this.Coral.templates.Dialog.base=function(a){var b=document.createDocumentFragment(),c=this.header=document.createElement("coral-dialog-header");c.setAttribute("handle","header"),b.appendChild(c);var d=document.createTextNode("\n");b.appendChild(d);var e=this.content=document.createElement("coral-dialog-content");e.setAttribute("handle","content"),b.appendChild(e);var f=document.createTextNode("\n");b.appendChild(f);var g=this.footer=document.createElement("coral-dialog-footer");this.$footer=$(g),g.setAttribute("handle","$footer"),b.appendChild(g);var h=document.createTextNode("\n");return b.appendChild(h),b},this.Coral.templates.Dialog.header=function(a){var b=document.createDocumentFragment(),c=this.icon=document.createElement("coral-icon");c.setAttribute("handle","icon"),c.setAttribute("size","S"),c.className+=" coral-Dialog-typeIcon",b.appendChild(c);var d=document.createTextNode("\n");b.appendChild(d);var e=this.headerContent=document.createElement("h2");e.setAttribute("handle","headerContent"),e.className+=" coral-Dialog-title coral-Heading coral-Heading--2",b.appendChild(e);var f=document.createTextNode("\n");b.appendChild(f);var g=this.closeButton=document.createElement("button","coral-button");g.setAttribute("handle","closeButton"),g.className+=" coral-Dialog-closeButton",g.setAttribute("type","button"),g.setAttribute("is","coral-button"),g.setAttribute("variant","minimal"),g.setAttribute("icon","close"),g.setAttribute("iconsize","XS"),g.setAttribute("aria-label","Close"),g.setAttribute("coral-close",""),b.appendChild(g);var h=document.createTextNode("\n");return b.appendChild(h),b},function(){"use strict";var a="coral3-Popover",b={ON:"on",OFF:"off"},c={ON:"on",OFF:"off"},d={DEFAULT:"default",ERROR:"error",WARNING:"warning",SUCCESS:"success",HELP:"help",INFO:"info"};Coral.register({name:"Popover",tagName:"coral-popover",className:a,extend:Coral.Overlay,events:{"global:key:escape":"_handleEscape","global:click":"_handleClick","click [coral-close]":"_handleCloseClick"},properties:{trapFocus:{"default":Coral.mixin.overlay.trapFocus.ON},returnFocus:{"default":Coral.mixin.overlay.returnFocus.ON},content:Coral.property.contentZone({handle:"content",tagName:"coral-popover-content"}),header:Coral.property.contentZone({handle:"header",tagName:"coral-popover-header",set:function(a){this._observeHeader(),this._hideHeaderIfEmpty()}}),alignMy:{"default":Coral.Overlay.align.LEFT_CENTER},alignAt:{"default":Coral.Overlay.align.RIGHT_CENTER},offset:{"default":5},open:{sync:function(){this.open&&this.focus();var a=$(this._getTarget());this.open?(this._targetWasSelected=a.hasClass("is-selected"),this._targetWasSelected||a.addClass("is-selected")):this._targetWasSelected||a.removeClass("is-selected")}},target:{sync:function(){this.target&&this.open&&this.focus()}},interaction:{"default":c.ON},variant:Coral.Dialog.prototype._properties.variant,closable:{"default":b.OFF,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this._elements.closeButton.style.display=this.closable===b.ON?"":"none"}},icon:Coral.property.proxy({path:"_elements.icon.icon"})},_overlayAnimationTime:Coral.mixin.overlay.FADETIME,_observeHeader:function(){this._headerObserver.disconnect(),this._headerObserver.observe(this._elements.header,{childList:!0,characterData:!0,subtree:!0})},_hideHeaderIfEmpty:function(){var a=this._elements.header,b=0===a.children.length&&""===a.textContent.replace(/\s*/g,"");b!==this._elements.headerWrapper.hidden&&(this._elements.headerWrapper.hidden=b,this.reposition())},_handleEscape:function(a){this.open&&this._isTopOverlay()&&this.hide()},_handleCloseClick:function(a){var b=a.matchedTarget,c=b.getAttribute("coral-close");(!c||this.$.is(c))&&(this.hide(),a.stopPropagation())},_handleClick:function(a){if(this.interaction!==c.OFF){var b=a.target,d=this._getTarget(),e=d?d.contains(b):!1;e?this.open||d.disabled?this.hide():this.show():this.open&&!this.contains(b)&&this.hide()}},attachedCallback:function(){Coral.Component.prototype.attachedCallback.call(this),this.open&&(this._pushOverlay(),this._showBackdropOnAttached&&this._showBackdrop(),this.reposition()),this._hideHeaderIfEmpty()},_render:function(){var a=document.createDocumentFragment(),b=this._elements.headerWrapper=document.createElement("div");b.className="coral-Dialog-header coral-Popover-header";var c=this._elements.contentWrapper=document.createElement("div");c.className="coral3-Popover-content";var d=Coral.templates.Dialog.header.call(this._elements);b.appendChild(d);var e=this.querySelector("coral-popover-header"),f=this._elements.header=e||document.createElement("coral-popover-header"),g=this._elements.content=this.querySelector("coral-popover-content")||document.createElement("coral-popover-content");for(this._elements.headerContent.appendChild(f),c.appendChild(g),e||(b.hidden=!0),a.appendChild(b),a.appendChild(c);this.firstChild;)g.appendChild(this.firstChild);this.appendChild(a)},_initialize:function(){this.setAttribute("role","dialog"),this.setAttribute("aria-live","assertive"),this._headerObserver=new MutationObserver(this._hideHeaderIfEmpty.bind(this)),this._observeHeader()}}),Coral.register({name:"Popover.Content",tagName:"coral-popover-content"}),Coral.register({name:"Popover.Header",tagName:"coral-popover-header"}),Coral.register({name:"Popover.Separator",tagName:"coral-popover-separator",className:"coral-Popover-separator"}),Coral.Popover.closable=b,Coral.Popover.variant=d}(),function(){"use strict";function a(a,b,c){return null===b&&null===c?!0:null===b?c>=a:null===c?a>=b:a>=b&&c>=a}function b(a,b){if("today"===a)return moment().startOf("day");if(moment.isMoment(a))return a.isValid()?a.clone():null;var c=moment(a,a instanceof Date?null:b);return c.isValid()?c:null}function c(){}function d(a,b){return a=a||null,b=b||null,a===b||moment(a).isSame(b,"day")?!1:null===a||a.isValid()}function e(a){this.host=a,this._addContainerIfNotPresent=function(a,b){this.container||(Coral.templates.Calendar.container.call(this,{width:a,height:b}),this.host.appendChild(this.container))},this._removeContainerIfEmpty=function(){this.container&&0===this.container.children.length&&(this.host.removeChild(this.container),this.container=null)},this.slide=function(a,b){var c=void 0===b,d="left"===b,e=this.$oldTable;if(e&&e.off("transitionend"),c||!e)return e&&e.remove(),this.host.insertBefore(a,this.host.firstChild),void(this.$oldTable=$(a));var f=e.width(),g=e.height();this._addContainerIfNotPresent(f,g),this.container.appendChild(e.get(0)),this.container.appendChild(a);var h=$(a);e.addClass("coral-Calendar-table--transit"),e.one("transitionend",function(a){$(a.target).remove(),this._removeContainerIfEmpty()}.bind(this)),h.addClass("coral-Calendar-table--transit"),h.css("left",d?f:-f),h.one("transitionend",function(a){var b=$(a.target);b.removeClass("coral-Calendar-table--transit"),b.appendTo(this.host),this._removeContainerIfEmpty()}.bind(this)),g=this.container.offsetWidth,e.css("left",d?-f:f),h.css("left",0),this.$oldTable=h}}var f=[0,0,0,0,0,0],g=[0,0,0,0,0,0,0],h="YYYY-MM-DD",i={YEAR:"year",MONTH:"month",WEEK:"week",DAY:"day"};Coral.register({name:"Calendar",tagName:"coral-calendar",className:"coral-Calendar",mixins:[Coral.mixin.formField],events:{"click .coral-Calendar-nextMonth,.coral-Calendar-prevMonth":"_onNextOrPreviousMonthClick","click .coral-Calendar-calendarBody .coral-Calendar-date":"_onDayClick","mousedown .coral-Calendar-calendarBody .coral-Calendar-date":"_onDayMouseDown","key:up .coral-Calendar-calendarBody":"_onUpKey","key:right .coral-Calendar-calendarBody":"_onRightKey","key:down .coral-Calendar-calendarBody":"_onDownKey","key:left .coral-Calendar-calendarBody":"_onLeftKey","key:home .coral-Calendar-calendarBody":"_onHomeOrEndKey","key:end .coral-Calendar-calendarBody":"_onHomeOrEndKey","key:pageup":"_onPageUpKey","key:pagedown":"_onPageDownKey","key:meta+pageup":"_onCtrlPageUpKey","key:meta+pagedown":"_onCtrlPageDownKey","key:ctrl+pageup":"_onCtrlPageUpKey","key:ctrl+pagedown":"_onCtrlPageDownKey","key:enter .coral-Calendar-calendarBody":"_onEnterKey","key:space .coral-Calendar-calendarBody":"_onEnterKey"},properties:{startDay:{"default":0,attribute:"startday",transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(a){return a>=0&&7>a}],sync:c,alsoSync:["_renderCalendarFlag"]},headerFormat:{"default":"MMMM YYYY",attribute:"headerformat",sync:c,alsoSync:["_renderCalendarFlag"]},min:{"default":null,transform:function(a){return b(a,this.valueFormat)},validate:d,get:function(){return this._min?this._min.toDate():null},sync:c,alsoSync:["_renderCalendarFlag","invalid"]},max:{"default":null,transform:function(a){return b(a,this.valueFormat)},validate:d,get:function(){return this._max?this._max.toDate():null},sync:c,alsoSync:["_renderCalendarFlag","invalid"]},valueFormat:{"default":"YYYY-MM-DD",attribute:"valueformat",reflectAttribute:!0,set:function(a){this._valueFormat=a,this._elements.input.value=this.value}},value:{transform:function(a){return b(a,this.valueFormat)},validate:function(a,b){return d(a,this._value)},get:function(){return this._value?this._value.format(this.valueFormat):""},set:function(a){this._value=a,this._elements.input.value=this.value,this._cursor=null,this._queueSync("_renderCalendarFlag","invalid","required")}},valueAsDate:{attribute:null,transform:function(a){return a instanceof Date?moment(a):""},get:function(){return this._value?this._value.toDate():null},set:function(a){this.value=a}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},required:{sync:function(){this.$.toggleClass("is-required",this.required&&null===this._value)}},disabled:{sync:function(){this.$.toggleClass("is-disabled",this.disabled),this._elements.prev.disabled=this.disabled,this._elements.next.disabled=this.disabled,this._elements.body.setAttribute("aria-disabled",this.disabled),this._elements.body[this.disabled?"removeAttribute":"setAttribute"]("tabindex","0")},alsoSync:["_renderCalendarFlag"]},invalid:{get:function(){return!(null===this._value||a(this._value,this.min,this.max))},sync:function(){this.$.toggleClass("is-invalid",this.invalid)},alsoSync:["_renderCalendarFlag"]},_renderCalendarFlag:{attribute:null,sync:function(){this._renderCalendar()}}},_render:function(){this.appendChild(Coral.templates.Calendar.calendar.call(this._elements))},_initialize:function(){this._cursor=null,this._activeDescendant=null,this._animator=new e(this._elements.body),this.setAttribute("role","region")},_renderCalendar:function(a){var b=this._requireCursor(),c=b.year(),d=b.month(),e=this,f=this._animator.$oldTable;this._elements.heading.innerHTML=moment([c,d,1]).format(this.headerFormat);var g=this._renderTable(c,d+1);f&&$(g).one("transitionend",function(){Coral.commons.nextFrame(function(){e._setActiveDescendant()})}),f&&Coral.commons.transitionEnd(g,function(){e._setActiveDescendant()}),this._animator.slide(g,a);var h=this._elements.body.querySelector(".is-selected"),i=h?h.id:null;this._activeDescendant=i,this._setActiveDescendant()},_setActiveDescendant:function(){var a;if(!this._activeDescendant||!document.getElementById(this._activeDescendant)){this._activeDescendant=null,a=this._elements.body.querySelector(".is-selected");var b=a?a.id:null;a=this._elements.body.querySelector(".is-today");var c=a?a.id:null;this._activeDescendant=b||c,this._activeDescendant&&this._elements.body.querySelector("#"+this._activeDescendant+" [data-date]")||(a=this._elements.body.querySelector("[data-date]"),a&&(this._activeDescendant=a.parentElement.id))}a=this._elements.body.querySelector(".coral-focus"),a&&$(a).removeClass("coral-focus"),this._elements.body.setAttribute("aria-activedescendant",this._activeDescendant),this._activeDescendant&&($("#"+this._activeDescendant).addClass("coral-focus"),this._updateTableCaption())},_updateTableCaption:function(){var a=this,b=a._elements.body.querySelector("caption");if(b&&(b.firstChild&&b.removeChild(b.firstChild),this._activeDescendant)){var c=this._elements.body.querySelector("#"+this._activeDescendant),d=document.createTextNode(c.getAttribute("title"));b.appendChild(d)}},_renderTable:function(b,c){var d=moment([b,c-1,1]),e=(d.day()-this.startDay)%7,i=this._value?this._value.clone().startOf("day"):null;0>e&&(e+=7);var j={dayNames:g.map(function(a,b,c){var d=moment().day((b+this.startDay)%7),e={dayAbbr:d.format("dd"),dayFullName:d.format("dddd")};return e},this),weeks:f.map(function(d,f){return g.map(function(d,g){var j={},k=this.disabled?["is-disabled"]:[],l=!1,m=!1,n=7*f+g-e+1,o=moment([b,c-1,n]),p=o.month()+1===parseFloat(c),q=moment().day((g+this.startDay)%7).format("dddd"),r=o.isSame(moment(),"day"),s=o.clone().startOf("day");return r&&k.push("is-today"),i&&s.isSame(i,"day")&&(l=!0,k.push("is-selected"),this.invalid&&(m=!0,k.push("is-invalid"))),p&&!this.disabled&&a(o,this.min,this.max)&&(j.dateAttr=s.local().format(h),j.weekIndex=o.week(),j.formattedDate=o.format("LL")),j.isDisabled=this.disabled||!j.dateAttr,j.dateText=o.date(),j.cssClass=k.join(" "),j.isToday=r,j.ariaSelected=l,j.ariaInvalid=m,j.dateLabel=q,j.weekIndex=o.week(),j},this)},this)},k={};return Coral.templates.Calendar.table.call(k,j),k.table},_requireCursor:function(){var a=this._cursor;return a&&a.isValid()||(a=(this._value?this._value.clone().startOf("day"):moment()).startOf("month"),this._cursor=a),a},_gotoPreviousOrNextTimeUnit:function(a,b){var c=b?"left":"right",d=b?"add":"subtract",e=this._elements.body.querySelector("td.coral-focus .coral-Calendar-date");if(e){var f=e.getAttribute("data-date"),g=moment(f),h=g[d](1,a),i=Math.abs(moment(f).diff(h,"days"));this._getToNewMoment(null,c,d,i),this._setActiveDescendant()}else this._requireCursor(),this._cursor[d](1,a),this._renderCalendar(c)},_onNextOrPreviousMonthClick:function(a){a.preventDefault(),this._gotoPreviousOrNextTimeUnit(i.MONTH,this._elements.next===a.matchedTarget),a.matchedTarget.focus()},_getToNewMoment:function(a,b,c,d){var e=this._elements.body.querySelector("td.coral-focus .coral-Calendar-date").getAttribute("data-date"),f=moment(e),g=f.month(),i=f.year(),j=f[c](d,"days"),k=j.month(),l=j.year(),m=j.local().format(h);k!==g?(this._requireCursor(),this._cursor[c](1,"months"),this._renderCalendar(b)):k===g&&l!==i&&(this._requireCursor(),this._cursor[c](1,"years"),this._renderCalendar(b));var n=".coral-Calendar-date[data-date^="+JSON.stringify(m)+"]",o=this._elements.body.querySelector(n);if(o){var p=o.parentNode.getAttribute("id");this._activeDescendant=p}},_onDayMouseDown:function(a){this._activeDescendant=a.target.parentNode.id,this._setActiveDescendant(),this._elements.body.focus()},_onDayClick:function(a){a.preventDefault(),this._elements.body.focus();var b,c=moment(a.target.getAttribute("data-date"),h);this._value&&(b=this._value.clone()),d(c,b)&&(this.value=c.local(),this.trigger("change"))},_onEnterKey:function(a){a.preventDefault();var b=this._elements.body.querySelector("td.coral-focus .coral-Calendar-date");b&&b.click()},_onUpKey:function(a){a.preventDefault(),this._gotoPreviousOrNextTimeUnit(i.WEEK,!1)},_onDownKey:function(a){a.preventDefault(),this._gotoPreviousOrNextTimeUnit(i.WEEK,!0)},_onRightKey:function(a){a.preventDefault(),this._gotoPreviousOrNextTimeUnit(i.DAY,!0)},_onLeftKey:function(a){a.preventDefault(),this._gotoPreviousOrNextTimeUnit(i.DAY,!1)},_onHomeOrEndKey:function(a){a.preventDefault();var b=a.keyCode===Coral.Keys.keyToCode("home"),c="",d=b?"subtract":"add",e=this._elements.body.querySelector("td.coral-focus .coral-Calendar-date");if(e){var f=e.getAttribute("data-date"),g=moment(f),h=b?g.date()-1:g.daysInMonth()-g.date();this._getToNewMoment(a,c,d,h),this._setActiveDescendant()}},_onPageDownKey:function(a){a.preventDefault(),this._gotoPreviousOrNextTimeUnit(i.MONTH,!0)},_onPageUpKey:function(a){a.preventDefault(),this._gotoPreviousOrNextTimeUnit(i.MONTH,!1)},_onCtrlPageDownKey:function(a){a.preventDefault(),this._gotoPreviousOrNextTimeUnit(i.YEAR,!0)},_onCtrlPageUpKey:function(a){a.preventDefault(),this._gotoPreviousOrNextTimeUnit(i.YEAR,!1)}})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Calendar=this.Coral.templates.Calendar||{},this.Coral.templates.Calendar.calendar=function(a){var b=document.createDocumentFragment(),c=this.input=document.createElement("input");c.setAttribute("handle","input"),c.setAttribute("type","hidden"),c.setAttribute("name",""),b.appendChild(c);var d=document.createTextNode("\n");b.appendChild(d);var e=document.createElement("div");e.className+=" coral-Calendar-calendarHeader";var f=document.createTextNode("\n  ");e.appendChild(f);var g=this.heading=document.createElement("div");g.setAttribute("handle","heading"),g.className+=" coral-Heading coral-Heading--2",g.id=Coral.commons.getUID(),g.setAttribute("role","heading"),g.setAttribute("aria-live","assertive"),g.setAttribute("aria-atomic","true"),e.appendChild(g);var h=document.createTextNode("\n  ");e.appendChild(h);var i=this.prev=document.createElement("button","coral-button");i.setAttribute("handle","prev"),i.className+=" coral-Calendar-prevMonth",i.setAttribute("is","coral-button"),i.setAttribute("variant","minimal"),i.setAttribute("icon","chevronLeft"),i.setAttribute("iconsize","XS"),i.setAttribute("aria-label","Previous"),i.setAttribute("title","Previous"),e.appendChild(i);var j=document.createTextNode("\n  ");e.appendChild(j);var k=this.next=document.createElement("button","coral-button");k.setAttribute("handle","next"),k.className+=" coral-Calendar-nextMonth",k.setAttribute("is","coral-button"),k.setAttribute("variant","minimal"),k.setAttribute("icon","chevronRight"),k.setAttribute("iconsize","XS"),k.setAttribute("aria-label","Next"),k.setAttribute("title","Next"),e.appendChild(k);var l=document.createTextNode("\n");e.appendChild(l),b.appendChild(e);var m=document.createTextNode("\n");b.appendChild(m);var n=this.body=document.createElement("div");return n.className+=" coral-Calendar-calendarBody",n.setAttribute("handle","body"),n.setAttribute("role","grid"),n.setAttribute("tabindex","0"),n.setAttribute("aria-readonly","true"),n.textContent="\n",b.appendChild(n),b},this.Coral.templates.Calendar.container=function(a){var b=this.container=document.createElement("div");return b.className+=" coral-DatePicker-calendarSlidingContainer",b.setAttribute("handle","container"),b.setAttribute("style","width: "+a.width+"px; height: "+a.height+"px;"),b},this.Coral.templates.Calendar.table=function(a){var b=a="undefined"==typeof a?{}:a,c=this.table=document.createElement("table");c.setAttribute("handle","table"),c.setAttribute("role","presentation");var d=document.createTextNode("\n  ");c.appendChild(d);var e=document.createElement("thead");e.setAttribute("role","presentation");var f=document.createTextNode("\n    ");e.appendChild(f);var g=document.createElement("tr");g.setAttribute("role","row");var h=document.createTextNode("\n      ");g.appendChild(h);for(var i=a.dayNames,j=0,k=i.length;k>j;j++){var l=b=i[j],m=document.createTextNode("\n        ");g.appendChild(m);var n=document.createElement("th");n.setAttribute("role","columnheader"),n.setAttribute("scope","col");var o=document.createTextNode("\n          ");n.appendChild(o);var p=document.createElement("abbr");p.className+=" coral-Calendar-dayOfWeek",p.setAttribute("title",l.dayFullName),p.textContent=l.dayAbbr,n.appendChild(p);var q=document.createTextNode("\n        ");n.appendChild(q),g.appendChild(n);var r=document.createTextNode("\n      ");g.appendChild(r)}var s=document.createTextNode("\n    ");g.appendChild(s),e.appendChild(g);var t=document.createTextNode("\n  ");e.appendChild(t),c.appendChild(e);var u=document.createTextNode("\n  ");c.appendChild(u);var v=document.createElement("tbody");v.setAttribute("role","presentation");var w=document.createTextNode("\n    ");v.appendChild(w);for(var i=a.weeks,j=0,k=i.length;k>j;j++){var l=b=i[j],x=document.createTextNode("\n      ");v.appendChild(x);var y=document.createElement("tr");y.setAttribute("role","row");var z=document.createTextNode("\n        ");y.appendChild(z);for(var A=l,B=0,C=A.length;C>B;B++){var D=b=A[B],E=document.createTextNode("\n          ");y.appendChild(E),b=D,D=b;var F=document.createTextNode("\n          ");y.appendChild(F);var G=document.createElement("td");G.setAttribute("role","gridcell"),G.id=Coral.commons.getUID()+"-row"+j+"-col"+B,G.className+=" "+D.cssClass,G.setAttribute("aria-selected",D.ariaSelected),D.isDisabled&&G.setAttribute("aria-disabled","true"),D.ariaInvalid&&G.setAttribute("aria-invalid","true"),D.formattedDate&&G.setAttribute("title",D.todayString+D.dateLabel+", "+D.formattedDate+" "+D.selectedString);var H=document.createTextNode("\n            ");if(G.appendChild(H),D.dateAttr){var I=document.createTextNode("\n              ");G.appendChild(I);var J=document.createElement("a");J.setAttribute("role","presentation"),J.className+=" coral-Calendar-date",J.setAttribute("data-date",D.dateAttr),J.textContent=D.dateText,G.appendChild(J);var K=document.createTextNode("\n              ");G.appendChild(K)}else{var L=document.createTextNode("\n                ");G.appendChild(L);var M=document.createElement("span");M.setAttribute("role","presentation"),M.className+=" coral-Calendar-secondaryDate",M.textContent=D.dateText,G.appendChild(M);var N=document.createTextNode("\n            ");G.appendChild(N)}var O=document.createTextNode("\n          ");G.appendChild(O),y.appendChild(G);var P=document.createTextNode("\n        ");y.appendChild(P)}var Q=document.createTextNode("\n      ");y.appendChild(Q),v.appendChild(y);var R=document.createTextNode("\n    ");v.appendChild(R)}var S=document.createTextNode("\n  ");v.appendChild(S),c.appendChild(v);var T=document.createTextNode("\n  ");c.appendChild(T);var U=document.createElement("caption");U.className+=" u-coral-screenReaderOnly",U.setAttribute("aria-live","assertive"),U.setAttribute("aria-atomic","true"),c.appendChild(U);var V=document.createTextNode("\n");return c.appendChild(V),c},function(){"use strict";var a={DEFAULT:"default",QUIET:"quiet"},b="coral3-Select",c="";for(var d in a)c+=b+"--"+a[d]+" ";var e=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i);Coral.register({name:"Select",tagName:"coral-select",className:b,mixins:[Coral.mixin.formField,Coral.mixin.selectionList({itemTagName:"coral-select-item",role:"presentation",tabIndex:-1})],events:{"coral-component:attached coral-select-item":"_onItemAttached","coral-collection:add coral-taglist":"_onInnerComponentCollectionEvent","coral-collection:add coral-selectlist":"_onSelectListItemAdd","coral-collection:remove coral-taglist":"_onInnerComponentCollectionEvent","coral-collection:remove coral-selectlist":"_onInnerComponentCollectionEvent","coral-select-item:valuechange coral-select-item":"_onItemValueChange","coral-select-item:contentchange coral-select-item":"_onItemContentChange","coral-select-item:disabledchange coral-select-item":"_onItemDisabledChange","coral-selectlist:change":"_onSelectListChange","coral-selectlist:scrollbottom":"_onSelectListScrollBottom","change coral-taglist":"_onTagListChange","change select":"_onNativeSelectChange","click select":"_onNativeSelectClick","click > [handle=button]":"_onButtonClick","key:space > [handle=button]":"_onSpaceKey","key:down > [handle=button]":"_onSpaceKey","key:tab coral-selectlist-item":"_onTabKey","key:tab+shift coral-selectlist-item":"_onTabKey","coral-overlay:open":"_onOverlayToggle","coral-overlay:close":"_onOverlayToggle","coral-overlay:positioned":"_onOverlayPositioned"},properties:{multiple:{reflectAttribute:!0,set:function(a){this._multiple=a,this._elements.nativeSelect.multiple=a,this._elements.list.multiple=a,this._queueSync("placeholder","selectedItem")}},placeholder:{"default":"",reflectAttribute:!0,transform:Coral.transform.string,alsoSync:"selectedItem",sync:function(){if(!this.placeholder||!this.multiple&&this.selectedItem)if(this.multiple)this._elements.label.textContent="Select";else{var a=this.items.getFirstSelectable();a&&(this._elements.label.innerHTML=a.innerHTML)}else this._elements.label.textContent=this.placeholder}},name:{get:function(){return this._elements.nativeSelect.name},set:function(a){this._elements.nativeSelect.name=a}},value:{get:function(){return this._elements.nativeSelect.value},set:function(a){this._elements.nativeSelect.value=a;var b=this.items.getAll();this.multiple?b.forEach(function(b){b.selected=b.value===a}):b.some(function(b){return b.value===a?(b.selected=!0,!0):void 0})}},values:{attribute:null,validate:[Coral.validate.valueMustChange,function(a){return Array.isArray(a)}],get:function(){for(var a=[],b=this._elements.nativeSelect.selectedOptions,c=0;c<b.length;c++)a.push(b[c].value);return a},set:function(a){!this.multiple&&a.length>1&&(a=[a[0]]),this.items.getAll().forEach(function(b){b.selected=-1!==a.indexOf(b.value)})}},required:{sync:function(){this._elements.nativeSelect.required=this.required,this._elements.taglist.required=this.required}},invalid:{sync:function(){this.$.toggleClass("is-invalid",this.invalid)}},disabled:{sync:function(){this._elements.button.disabled=this.disabled||this.readOnly,this._elements.nativeSelect.disabled=this.disabled||this.readOnly,this._elements.taglist.disabled=this.disabled||this.readOnly}},readOnly:{sync:function(){this._elements.button.disabled=this.readOnly||this.disabled,this._elements.nativeSelect.disabled=this.readOnly||this.disabled,this._elements.taglist.readOnly=this.readOnly||this.disabled}},selectedItem:{alsoSync:"placeholder",sync:function(){this.selectedItem&&!this.multiple&&(this._elements.label.innerHTML=this.selectedItem.innerHTML)}},loading:{get:function(){return this._elements.list.loading},set:function(a){this._elements.list.loading=a}},variant:{"default":a.DEFAULT,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],sync:function(){this.$.removeClass(c),this.variant!==Coral.Select.variant.DEFAULT&&this.$.addClass(this._className+"--"+this.variant)}}},_onUserInteraction:!1,_showOptions:function(a){if(a){var b=30,c=this._elements.list.scrollHeight,d=this._elements.list.clientHeight,e=this._elements.list.scrollTop,f=this._elements.list._elements.loadIndicator;if(f&&f.parentNode&&(c-=$(f).outerHeight(!0)),c-b>e+d)return}this._useNativeInput||(this._elements.overlay.open=!0);var g=this.trigger("coral-select:showitems",{start:this.items.length});this._useNativeInput||(this._elements.list.loading=g.defaultPrevented)},_hideOptions:function(){this._elements.overlay.open=!1,this.trigger("coral-select:hideitems")},_onSelectListItemAdd:function(a){a.stopImmediatePropagation(),this.loading=!1,this._elements.list.style.height="";var b=window.getComputedStyle(this._elements.list),c=parseInt(b.height,10),d=parseInt(b.maxHeight,10);d>c&&(this._elements.list.style.height=c-1+"px")},_onInnerComponentCollectionEvent:function(a){a.stopImmediatePropagation()},_onItemAttached:function(a){a.target===a.matchedTarget&&this._attachItem(a.target)},_attachItem:function(a){var b=this._elements.list,c=a._elements.selectListItem||new Coral.SelectList.Item,d=a.selected;b.appendChild(c),c.set({value:a.value,content:{innerHTML:a.content.innerHTML},disabled:a.disabled,selected:d},!0);var e=a._elements.nativeOption||new Option;this._elements.nativeSelect.appendChild(e),e.selected=a.selected,e.value=a.value,e.disabled=a.disabled,e.innerHTML=a.content.innerHTML,this.multiple&&a.selected&&(c.hidden=!0,a._elements.tag=a._elements.tag||new Coral.Tag,a._elements.tag.set({value:a.value,label:{innerHTML:a.content.innerHTML}},!0),Coral.commons.nextFrame(function(){this._elements.taglist.items.add(a._elements.tag)}.bind(this))),a._elements.selectListItem=c,a._elements.nativeOption=e,c._elements.selectItem=a,$(e).data("selectItem",a),a.on("coral-component:detached",this._onItemDetached)},_onItemDetached:function(a){if(a.eventPhase===Event.AT_TARGET){var b=a.target;b._elements.selectListItem.remove();var c=$(b._elements.nativeOption);c.remove(),b._elements.tag&&b._elements.tag.remove(),b._elements.selectListItem._elements.selectItem=null,c.removeData("selectItem"),this._queueSync("placeholder","selectedItem"),b.off("coral-component:detached",this._onItemDetached)}},_onItemSelected:function(a){a._elements.selectListItem&&a._elements.selectListItem.parentNode||this._attachItem(a),a._elements.selectListItem.selected=!0,a._elements.nativeOption.selected=!0,this.multiple&&(a._elements.tag=a._elements.tag||new Coral.Tag,a._elements.tag.set({value:a.value,label:{innerHTML:a.content.innerHTML}},!0),Coral.commons.nextFrame(function(){this._elements.taglist.items.add(a._elements.tag)}.bind(this)),a._elements.selectListItem.hidden=!0),this._queueSync("placeholder","selectedItem")},_onItemDeselected:function(a){a._elements.selectListItem&&a._elements.selectListItem.parentNode||this._attachItem(a),a._elements.selectListItem.selected=!1,a._elements.nativeOption.selected=!1,this.multiple&&(a._elements.tag&&(a._elements.tag.remove(),a._elements.tag=void 0),a._elements.selectListItem.hidden=!1),this._queueSync("placeholder","selectedItem")},_onSelectionChange:function(a,b){this._onUserInteraction&&(this._onUserInteraction=!1,this.trigger("change"))},_onSelectListChange:function(a){a.stopImmediatePropagation();var b=a.detail.oldSelection||[];b=Array.isArray(b)?b:[b];var c=a.detail.selection||[];c=Array.isArray(c)?c:[c],this._mutateSelection(function(){var a=$(b).not(c).get();a.forEach(function(a){a._elements.selectItem.selected=!1}),c.forEach(function(a){a._elements.selectItem.selected=!0})}),this._hideOptions()},_onTagListChange:function(a){a.stopImmediatePropagation();var b=a.target.values;this.items.getAll().forEach(function(a){a.selected=-1!==b.indexOf(a.value)}),b.length||this._elements.button.focus(),this.trigger("change")},_onSelectListScrollBottom:function(a){this._showOptions()},_onButtonClick:function(a){a.preventDefault(),this.disabled||this._useNativeInput||(this._elements.overlay.open?this._hideOptions():(this._showOptions(!0),this._focusSelectList()))},_focusSelectList:function(){var a=this;Coral.commons.nextFrame(function(){0===$(document.activeElement).closest(a._elements.list).length&&a._elements.list.focus()})},_onNativeSelectClick:function(a){this._showOptions(!1)},_onSpaceKey:function(a){if(!this.disabled)if(a.preventDefault(),this._useNativeInput)if(document.createEvent){var b=document.createEvent("MouseEvents");b.initMouseEvent("mousedown",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this._elements.nativeSelect.dispatchEvent(b)}else this._elements.nativeSelect.fireEvent&&this._elements.nativeSelect.fireEvent("onmousedown");else this._elements.overlay.open&&a.keyCode!==Coral.Keys.keyToCode("space")||this._elements.button.click()},_onTabKey:function(a){a.preventDefault()},_onOverlayToggle:function(a){this._onUserInteraction=a.target.open,$(this._elements.button).toggleClass("is-selected",a.target.open),this._elements.button.setAttribute("aria-expanded",a.target.open),
a.target.open||this.$.removeClass("is-openAbove is-openBelow")},_onOverlayPositioned:function(a){this.$.addClass("top"===a.detail.vertical?"is-openBelow":"is-openAbove")},_onNativeSelectChange:function(a){a.stopImmediatePropagation();var b=this.selectedItems.map(function(a){return a._elements.nativeOption}),c=a.target.selectedOptions,d=c.length;this._mutateSelection(function(){var a=$(b).not(c).get();a.forEach(function(a){$(a).data("selectItem").selected=!1});for(var e=0;d>e;e++)$(c.item(e)).data("selectItem").selected=!0}),this.multiple||this._elements.button.focus()},_onItemContentChange:function(a){a.stopImmediatePropagation();var b=a.target;b._elements.selectListItem&&b._elements.selectListItem.content&&(b._elements.selectListItem.content.innerHTML=b.content.innerHTML),b._elements.nativeOption&&(b._elements.nativeOption.innerHTML=b.content.innerHTML)},_onItemValueChange:function(a){a.stopImmediatePropagation();var b=a.target;b._elements.selectListItem&&(b._elements.selectListItem.value=b.value),b._elements.nativeOption&&(b._elements.nativeOption.value=b.value)},_onItemDisabledChange:function(a){a.stopImmediatePropagation();var b=a.target;b._elements.selectListItem&&(b._elements.selectListItem.disabled=b.disabled),b._elements.nativeOption&&(b._elements.nativeOption.disabled=b.disabled)},_initialize:function(){this._useNativeInput=e,this.$.toggleClass("coral3-Select--native",this._useNativeInput),this._onItemDetached=this._onItemDetached.bind(this),this._queueSync("placeholder","selectedItem")},_render:function(){var a=document.createDocumentFragment();a.appendChild(Coral.templates.Select.base.call(this._elements));var b=new Coral.Select.ListOverlay;b.target=this._elements.button,b.placement=Coral.Overlay.placement.BOTTOM,b.offset=-1,b.trapFocus=Coral.mixin.overlay.trapFocus.ON,b.focusOnShow=Coral.mixin.overlay.focusOnShow.ON,b.returnFocus=Coral.mixin.overlay.returnFocus.ON,b.returnFocusTo(this._elements.button);var c=new Coral.SelectList;for(b.appendChild(c),a.appendChild(b),this._elements.overlay=b,this._elements.list=c,this._elements.list.style.maxHeight="252px",this._elements.list.id=this._elements.list.id||Coral.commons.getUID(),this._elements.button.setAttribute("role","combobox"),this._elements.button.setAttribute("aria-expanded",!1),this._elements.button.setAttribute("aria-haspopup",!0),this._elements.button.setAttribute("aria-controls",this._elements.list.id),this._elements.button.setAttribute("aria-owns",this._elements.list.id);this.firstChild;){var d=this.firstChild;"CORAL-SELECT-ITEM"===d.tagName?a.appendChild(d):this.removeChild(d)}this.appendChild(a)}}),Coral.Select.variant=a,Coral.register({name:"Select.Item",tagName:"coral-select-item",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-select"})],properties:{disabled:{trigger:"coral-select-item:disabledchange"},content:{contentZone:!0,set:function(){},get:function(){return this}},value:{reflectAttribute:!0,trigger:"coral-select-item:valuechange",transform:Coral.transform.string,get:function(){return"undefined"==typeof this._value?this.textContent.replace(/\s{2,}/g," ").trim():this._value}}},_handleMutation:function(a){this.trigger("coral-select-item:contentchange")},_initialize:function(){this._observer=new MutationObserver(this._handleMutation.bind(this)),this._observer.observe(this,{characterData:!0,childList:!0,subtree:!0})}}),Coral.register({name:"Select.ListOverlay",tagName:"coral-select-listoverlay",className:"coral-Overlay",extend:Coral.Overlay,events:{"global:click":"_onGlobalClick","global:touchstart":"_onGlobalClick","global:key:escape":"_onEscapeKey"},_onGlobalClick:function(a){if(this.open){var b=this.target.parentNode.contains(a.target),c=this.contains(a.target);b||c||(this.open=!1)}},_onEscapeKey:function(a){this._isTopOverlay()&&this.hide()},_beforePosition:function(){this.style.width=$(this.target).outerWidth()+"px",Coral.Overlay.prototype._beforePosition.call(this)}})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Select=this.Coral.templates.Select||{},this.Coral.templates.Select.base=function(a){var b=document.createDocumentFragment(),c=this.button=document.createElement("button","coral-button");c.setAttribute("is","coral-button"),c.setAttribute("block",""),c.setAttribute("handle","button");var d=document.createTextNode("\n  ");c.appendChild(d);var e=this.icon=document.createElement("coral-icon");e.setAttribute("icon","chevronDown"),e.setAttribute("size","xxs"),e.className+=" coral3-Select-openIcon",e.setAttribute("handle","icon"),c.appendChild(e);var f=document.createTextNode("\n  ");c.appendChild(f);var g=this.label=document.createElement("span");g.className+=" coral3-Select-label",g.setAttribute("handle","label"),g.id=Coral.commons.getUID(),c.appendChild(g);var h=document.createTextNode("\n");c.appendChild(h),b.appendChild(c);var i=document.createTextNode("\n");b.appendChild(i);var j=this.nativeSelect=document.createElement("select");j.className+=" coral3-Select-select",j.setAttribute("handle","nativeSelect"),j.setAttribute("tabindex","-1"),b.appendChild(j);var k=document.createTextNode("\n");b.appendChild(k);var l=this.taglist=document.createElement("coral-taglist");return l.setAttribute("handle","taglist"),b.appendChild(l),b},function(){"use strict";Coral.register({name:"Clock",tagName:"coral-clock",className:"coral-Clock",mixins:[Coral.mixin.formField],events:{"change [handle=hours]":"_onTimeChange","change [handle=minutes]":"_onTimeChange"},properties:{name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},disabled:{sync:function(){this._elements.hours.disabled=this.disabled,this._elements.minutes.disabled=this.disabled,this._elements.input.disabled=this.disabled}},invalid:{sync:function(){this._elements.hours.invalid=this.invalid,this._elements.minutes.invalid=this.invalid}},readOnly:{sync:function(){this._elements.hours.readOnly=this.readOnly,this._elements.minutes.readOnly=this.readOnly,this._elements.input.readOnly=this.readOnly}},required:{sync:function(){this._elements.hours.required=this.required,this._elements.minutes.required=this.required,this._elements.input.required=this.required}},value:{get:function(){return this._value?this._value.toTimeString().substr(0,5):""},set:function(a){var b=moment(a,"HH:mm",!0);this._setTime(b.isValid()?b.toDate():"")},sync:function(){this._setInternalSelects()}},valueAsDate:{attribute:null,validate:function(a,b){return null===a||a instanceof Date},get:function(){return this._value?new Date(this._value.getTime()):null},set:function(a){this._setTime(a)},sync:function(){this._setInternalSelects()}}},_setInternalSelects:function(){this._selectListItem(this._elements.hours,this._value?this._value.getHours():-1),this._selectListItem(this._elements.minutes,this._value?this._value.getMinutes():-1)},_render:function(){this.appendChild(Coral.templates.Clock.base.call(this._elements))},_setTime:function(a){return this._value&&a&&this._value.getHours()===a.getHours()&&this._value.getMinutes()===a.getMinutes()||this._value===a?!1:(this._value=a,this._elements.input.value=this.value,!0)},_onTimeChange:function(a){if(a.stopPropagation(),!this._selectingListItem){var b=this._value?new Date(this._value):new Date(2e3,1,1,0,0);a.target===this._elements.hours?b.setHours(parseInt(this._elements.hours.value,10)):b.setMinutes(parseInt(this._elements.minutes.value,10));var c=this._setTime(b);c&&this.trigger("change")}},_selectListItem:function(a,b){this._selectingListItem=!0;var c=null,d=a.items.getAll();b>=0&&b<d.length&&(c=d[b]),c&&(c.selected=!0),this._selectingListItem=!1}})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Clock=this.Coral.templates.Clock||{},this.Coral.templates.Clock.base=function(a){var b=document.createDocumentFragment(),c=a="undefined"==typeof a?{}:a,d=this.input=document.createElement("input");d.setAttribute("handle","input"),d.setAttribute("type","hidden"),d.setAttribute("name",""),b.appendChild(d);var e=document.createTextNode("\n");b.appendChild(e);var f=document.createElement("coral-icon");f.setAttribute("size","S"),f.setAttribute("icon","clock"),f.className+=" coral-Clock-icon",b.appendChild(f);var g=document.createTextNode("\n");b.appendChild(g);var h=this.hours=document.createElement("coral-select");h.setAttribute("placeholder","--"),h.setAttribute("handle","hours"),h.className+=" coral-Clock-hour";var i=document.createTextNode("\n  ");h.appendChild(i);for(var j=0;24>j;j++){c.count=j,c.text=j+"",1===c.text.length&&(c.text="0"+c.text),a=c;var k=document.createTextNode("\n  ");h.appendChild(k);var l=document.createElement("coral-select-item");l.setAttribute("value",a.count),l.textContent=a.text,h.appendChild(l);var m=document.createTextNode("\n  ");h.appendChild(m)}a=c;var n=document.createTextNode("\n");h.appendChild(n),b.appendChild(h);var o=document.createTextNode("\n");b.appendChild(o);var p=document.createElement("span");p.className+=" coral-Clock-divider",p.textContent=":",b.appendChild(p);var q=document.createTextNode("\n");b.appendChild(q);var r=this.minutes=document.createElement("coral-select");r.setAttribute("placeholder","--"),r.setAttribute("handle","minutes"),r.className+=" coral-Clock-minute";var s=document.createTextNode("\n  ");r.appendChild(s);for(var j=0;60>j;j++){c.count=j,c.text=j+"",1===c.text.length&&(c.text="0"+c.text),a=c;var t=document.createTextNode("\n  ");r.appendChild(t);var u=document.createElement("coral-select-item");u.setAttribute("value",a.count),u.textContent=a.text,r.appendChild(u);var v=document.createTextNode("\n  ");r.appendChild(v)}a=c;var w=document.createTextNode("\n");r.appendChild(w),b.appendChild(r);var x=document.createTextNode("\n\n");return b.appendChild(x),b},function(){"use strict";function a(a,b){if("today"===a)return moment().startOf("day");if(moment.isMoment(a))return a.isValid()?a.clone():null;var c=moment(a,a instanceof Date?null:b);return c.isValid()?c:null}var b={DATE:"date",DATETIME:"datetime",TIME:"time"},c=null!==navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),d={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD[T]HH:mmZ",time:"HH:mm"};Coral.register({name:"Datepicker",tagName:"coral-datepicker",className:"coral-InputGroup",mixins:[Coral.mixin.formField],events:{'click coral-calendar [handle="table"] a':"_onCalendarDayClick","change coral-calendar,coral-clock":"_onChange",'coral-overlay:open [handle="popover"]':"_onPopoverOpenOrClose",'coral-overlay:close [handle="popover"]':"_onPopoverOpenOrClose"},properties:{type:{"default":b.DATE,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this._elements.toggle.icon=this.type===b.TIME?"clock":"calendar",this._elements.clockContainer.style.display=this.type!==b.DATE?"":"none",this._elements.calendar.style.display=this.type===b.TIME?"none":""},alsoSync:["_useNativeInput"]},displayFormat:{attribute:"displayformat",transform:function(a){return a=Coral.transform.string(a).trim(),""===a?d[this.type]:a},get:function(){return this._useNativeInput?d[this.type]:"undefined"==typeof this._displayFormat?d[this.type]:this._displayFormat},sync:function(){this._elements.input.value=this._getValueAsString(this._value,this.displayFormat)}},valueFormat:{attribute:"valueformat",transform:function(a){return a=Coral.transform.string(a).trim(),""===a?d[this.type]:a},get:function(){return"undefined"==typeof this._valueFormat?d[this.type]:this._valueFormat},set:function(a){this._valueFormat=a,this._elements.calendar.valueFormat=a,this._elements.hiddenInput.value=this.value}},valueAsDate:{attribute:null,transform:function(a){return a instanceof Date?moment(a):""},get:function(){return this._value?this._value.toDate():null},set:function(a){this.value=a}},min:{get:function(){return this._elements.calendar.min},set:function(a){this._elements.calendar.min=a}},max:{get:function(){return this._elements.calendar.max},set:function(a){this._elements.calendar.max=a}},headerFormat:Coral.property.proxyAttr({handle:"calendar",attribute:"headerformat"}),startDay:Coral.property.proxyAttr({handle:"calendar",attribute:"startday"}),value:{transform:function(b){return a(b,this.valueFormat)},get:function(){return this._getValueAsString(this._value,this.valueFormat)},set:function(a){this._value=a,this._elements.calendar.valueAsDate=this.valueAsDate,this._elements.clock.valueAsDate=this.valueAsDate,this._elements.input.value=this._getValueAsString(this._value,this.displayFormat),this._elements.hiddenInput.value=this.value,this._queueSync("invalid")}},name:{get:function(a){return this._elements.hiddenInput.name},set:function(a){this._elements.hiddenInput.name=a}},disabled:{sync:function(){this.$.toggleClass("is-disabled",this.disabled),this._elements.input.disabled=this.disabled,this._elements.toggle.disabled=this.disabled||this.readOnly}},invalid:{get:function(){return this._elements.calendar.invalid},sync:function(){var a=this.invalid;this.$.toggleClass("is-invalid",a),this._elements.input.invalid=a,this._elements.input.setAttribute("aria-invalid",a)}},readOnly:{sync:function(a){this._elements.input.readOnly=this.readOnly,this._elements.toggle.disabled=this.readOnly||this.disabled}},required:{sync:function(){this._elements.input.required=this.required}},labelledBy:{sync:function(){this.labelledBy?this.setAttribute("aria-labelledby",this.labelledBy):this.removeAttribute("aria-labelledby")}},placeholder:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(a){this._elements.input.placeholder=a}},_useNativeInput:{attribute:null,sync:function(){this._useNativeInput?(this._elements.toggle.hidden=!0,this._elements.input.setAttribute("type",this.type),this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.removeAttribute("aria-owns")):(this._elements.toggle.hidden=!1,this._elements.input.setAttribute("type","text"),this._elements.popover.parentNode!==this&&this.insertBefore(this._elements.popover,this.firstChild),this.setAttribute("aria-haspopup","true"),this.setAttribute("aria-expanded","false"),this.setAttribute("aria-owns",this._elements.popover.id))}}},_getLabellableElement:function(){return this._elements.input},_render:function(){this.appendChild(Coral.templates.Datepicker.base.call(this._elements)),this._elements.popover.content.appendChild(Coral.templates.Datepicker.popovercontent.call(this._elements)),this._elements.popover.target=this._elements.toggle},_initialize:function(){this._useNativeInput=c,this.setAttribute("role","datepicker")},_onPopoverOpenOrClose:function(a){this.setAttribute("aria-expanded",this._elements.popover.open)},_onCalendarDayClick:function(){this._elements.popover.open=!1},_onInputChange:function(a){a.stopPropagation(),this.value=moment(a.target.value,this.displayFormat),this.trigger("change")},_onChange:function(a){a.stopPropagation(),this.value=this._mergeCalendarAndClockDates(),this.trigger("change")},_mergeCalendarAndClockDates:function(){var a=moment(this._elements.calendar.valueAsDate),b=this._elements.clock.valueAsDate;return b&&(a.isValid()||(a=moment()),a.hours(b.getHours()),a.minutes(b.getMinutes())),a},_getValueAsString:function(a,b){return a&&a.isValid()?a.format(b):""}}),Coral.Datepicker.type=b}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Datepicker=this.Coral.templates.Datepicker||{},this.Coral.templates.Datepicker.base=function(a){var b=document.createDocumentFragment(),c=this.popover=document.createElement("coral-popover");c.setAttribute("handle","popover"),c.id=Coral.commons.getUID(),c.setAttribute("alignmy","right top"),c.setAttribute("alignat","right bottom"),b.appendChild(c);var d=document.createTextNode("\n");b.appendChild(d);var e=this.hiddenInput=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("handle","hiddenInput"),b.appendChild(e);var f=document.createTextNode("\n");b.appendChild(f);var g=this.input=document.createElement("input","coral-textfield");g.setAttribute("is","coral-textfield"),g.setAttribute("type","text"),g.setAttribute("handle","input"),g.className+=" coral-InputGroup-input",b.appendChild(g);var h=document.createTextNode("\n");b.appendChild(h);var i=document.createElement("div");i.className+=" coral-InputGroup-button";var j=document.createTextNode("\n  ");i.appendChild(j);var k=this.toggle=document.createElement("button","coral-button");k.setAttribute("is","coral-button"),k.setAttribute("type","button"),k.setAttribute("icon","calendar"),k.setAttribute("iconsize","S"),k.setAttribute("handle","toggle"),i.appendChild(k);var l=document.createTextNode("\n");i.appendChild(l),b.appendChild(i);var m=document.createTextNode("\n");return b.appendChild(m),b},this.Coral.templates.Datepicker.popovercontent=function(a){var b=document.createDocumentFragment(),c=this.calendar=document.createElement("coral-calendar");c.setAttribute("handle","calendar"),c.className+=" u-coral-borderless",b.appendChild(c);var d=document.createTextNode("\n");b.appendChild(d);var e=this.clockContainer=document.createElement("div");e.className+=" coral-Datepicker-clockContainer",e.setAttribute("handle","clockContainer");var f=document.createTextNode("\n  ");e.appendChild(f);var g=this.clock=document.createElement("coral-clock");g.setAttribute("handle","clock"),e.appendChild(g);var h=document.createTextNode("\n");e.appendChild(h),b.appendChild(e);var i=document.createTextNode("\n");return b.appendChild(i),b},function(){"use strict";var a="coral-multifield-item",b="is-dragging",c="is-after",d="is-before",e=function(a){this._multiField=a};e.prototype=Object.create(Coral.Collection.prototype),e.prototype.add=function(b,c){if(!(b instanceof HTMLElement)){var d=b;b=document.createElement(a),b.set(d,!0)}return c=c||this._multiField.$.children(a).last().next()[0]||this._multiField.firstChild,this._multiField.insertBefore(b,c)},e.prototype.getAll=function(){return this._multiField.$.children(a).toArray()},Coral.register({name:"Multifield",tagName:"coral-multifield",className:"coral-Multifield",events:{"coral-component:attached coral-multifield-item":"_onItemAttached","coral-dragaction:dragstart coral-multifield-item":"_onDragStart","coral-dragaction:drag coral-multifield-item":"_onDrag","coral-dragaction:dragend coral-multifield-item":"_onDragEnd","click [coral-multifield-add]":"_addItem","click [handle=remove]":"_removeItem"},properties:{items:{get:function(){return this._items||(this._items=new e(this)),this._items},set:function(){}},template:Coral.property.contentZone({handle:"template",set:function(a){a.set||(a.set=this._internalTemplateSet)}})},_onItemAttached:function(a){var b=a.target;b.parentNode===this&&(b.on("coral-component:detached",this._onItemDetached),this.trigger("coral-collection:add",{item:b}))},_onItemDetached:function(a){var b=a.target;b.off("coral-component:detached",this._onItemDetached),this.trigger("coral-collection:remove",{item:b})},_addItem:function(a){var b=$(a.target).parents("coral-multifield");b.length&&b[0]===this&&(this.items.add(new Coral.Multifield.Item),this.trigger("change"))},_removeItem:function(a){a.matchedTarget.parentNode.parentNode===this&&(a.matchedTarget.parentNode.remove(),this.trigger("change"))},_onDragStart:function(e){e.detail.dragElement.$.addClass(b).prevAll(a).addClass(d).end().nextAll(a).addClass(c)},_onDrag:function(e){e.target.parentNode===this&&this.items.getAll().forEach(function(f){var g=$(f);if(!g.hasClass(b)){var h=e.detail.dragElement.$,i=e.detail.pageY<g.offset().top+g.height()/2,j=h.height()+8+"px";if(g.toggleClass(c,i).toggleClass(d,!i),g.hasClass(c)&&g.css("top",g.index(a)<h.index(a)?j:""),g.hasClass(d)){var k=g.index(a)>h.index(a);g.css("top",k?"-"+j:"")}}})},_onDragEnd:function(e){if(e.target.parentNode===this){var f=e.detail.dragElement.$,g=this.$.children(a+"."+c).first(),h=this.$.children(a+"."+d).last();g.length>0&&(f.insertBefore(g),this.trigger("change"),this._applyPolyfillClass()),h.length>0&&(f.insertAfter(h),this.trigger("change"),this._applyPolyfillClass()),this.items.getAll().forEach(function(a){$(a).removeClass(b+" "+c+" "+d).css({position:"",top:""})})}},_applyPolyfillClass:function(){var b=this.$.children(a);b.removeClass("first-of-type last-of-type only-of-type").toggleClass("only-of-type",1===b.length).first().addClass("first-of-type").end().last().addClass("last-of-type")},_render:function(){if(this._elements.template=this.querySelector("[coral-multifield-template]"),!this._elements.template){var a=document.createElement("textarea");a.setAttribute("coral-multifield-template",""),this._elements.template=this.appendChild(a)}this._elements.template.set||(this._elements.template.set=this._internalTemplateSet)},_internalTemplateSet:function(a){var b,c;for(b in a)c=a[b],this[b]=c},_initialize:function(){this.setAttribute("role","list"),this._onItemDetached=this._onItemDetached.bind(this)}}),Coral.register({name:"Multifield.Item",tagName:"coral-multifield-item",className:"coral-Multifield-item",properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-multifield-item-content"})},attachedCallback:function(){if(this.$.parent("coral-multifield").length){var a=this._elements.parent=this._elements.parent||this.parentNode,b=a.template;if(a._applyPolyfillClass(),$(this.content).is(":empty")&&(this.content.innerHTML="value"in b?b.value:b.innerHTML),!this.dragAction){var c=new Coral.DragAction(this);c.axis="vertical",c.handle=this._elements.move}}Coral.Component.prototype.attachedCallback.call(this)},detachedCallback:function(){this._elements.parent&&this._elements.parent._applyPolyfillClass(),Coral.Component.prototype.detachedCallback.call(this)},_render:function(){var a=document.createDocumentFragment(),b=this._elements.content=this.querySelector("coral-multifield-item-content")||document.createElement("coral-multifield-item-content");for(a.appendChild(b);this.firstChild;)b.appendChild(this.firstChild);a.appendChild(Coral.templates.Multifield.item.call(this._elements)),this.appendChild(a)},_initialize:function(){this.setAttribute("role","listitem")}}),Coral.register({name:"Multifield.Item.Content",tagName:"coral-multifield-item-content"})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Multifield=this.Coral.templates.Multifield||{},this.Coral.templates.Multifield.item=function(a){var b=document.createDocumentFragment(),c=this.remove=document.createElement("button","coral-button");c.setAttribute("type","button"),c.setAttribute("is","coral-button"),c.setAttribute("handle","remove"),c.setAttribute("variant","quiet"),c.setAttribute("icon","delete"),c.setAttribute("iconsize","S"),c.className+=" coral-Multifield-remove",b.appendChild(c);var d=document.createTextNode("\n");b.appendChild(d);var e=this.move=document.createElement("button","coral-button");return e.setAttribute("type","button"),e.setAttribute("is","coral-button"),e.setAttribute("handle","move"),e.setAttribute("variant","quiet"),e.setAttribute("icon","moveUpDown"),e.setAttribute("iconsize","S"),e.className+=" coral-Multifield-move",b.appendChild(e),b},function(){"use strict";Coral.register({name:"NumberInput",tagName:"coral-numberinput",className:"coral-InputGroup",mixins:[Coral.mixin.formField],events:{"key:up":"_onKeyUp","key:pageup":"_onKeyUp","key:down":"_onKeyDown","key:pagedown":"_onKeyDown","key:home":"_onKeyHome","key:end":"_onKeyEnd","click [handle=stepUp]":"_onStepUpButtonClick","click [handle=stepDown]":"_onStepDownButtonClick",'mousewheel [handle="$input"]':"_onInputMouseWheel",'DOMMouseScroll [handle="$input"]':"_onInputMouseWheel",focusin:"_onFocus",focusout:"_onBlur"},properties:{value:{transform:function(a){return isNaN(a)?"":String(a)},get:function(){return this._elements.input.value},set:function(a){this._elements.input.value=a,this._queueSync("value","invalid","disabled")},sync:function(){this._elements.input.setAttribute("aria-valuenow",this.value),this._elements.input.setAttribute("aria-valuetext",this.value)}},valueAsNumber:{attribute:null,transform:Coral.transform["float"],get:function(){return parseFloat(this.value)},set:function(a){this._elements.input.value=a,this._queueSync("value","invalid","disabled")}},min:{"default":null,reflectAttribute:!0,transform:Coral.transform.number,alsoSync:["invalid","disabled"],sync:function(){null===this.min?(this._elements.input.removeAttribute("aria-valuemin"),this._elements.input.removeAttribute("min")):(this._elements.input.setAttribute("aria-valuemin",this.min),this._elements.input.min=this.min)}},max:{"default":null,reflectAttribute:!0,transform:Coral.transform.number,alsoSync:["invalid","disabled"],sync:function(){null===this.max?(this._elements.input.removeAttribute("aria-valuemax"),this._elements.input.removeAttribute("max")):(this._elements.input.setAttribute("aria-valuemax",this.max),this._elements.input.max=this.max)}},step:{"default":1,transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(a,b){return null!==a&&a>0}],sync:function(){this._elements.input.step=this.step}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},disabled:{sync:function(){this.$.toggleClass("is-disabled",this.disabled),this._elements.input.disabled=this.disabled,this._setButtonState()}},invalid:{sync:function(){this.$.toggleClass("is-invalid",this.invalid),this._elements.input.invalid=this.invalid}},readOnly:{sync:function(){this._elements.input.readOnly=this.readOnly,this._setButtonState()}},required:{sync:function(){this._elements.input.required=this.required}},labelledBy:{sync:function(){this[this.labelledBy?"setAttribute":"removeAttribute"]("aria-labelledby",this.labelledBy)}},placeholder:{reflectAttribute:!0,transform:Coral.transform.string,get:function(){return this._elements.input.placeholder},set:function(a){this._elements.input.placeholder=a}}},stepUp:function(){var a=this.valueAsNumber;isNaN(a)?this.value=null!==this.max?Math.min(this.step,this.max):this.step:this.value=null!==this.max?Math.min(a+this.step,this.max):a+this.step},stepDown:function(){var a=this.valueAsNumber;isNaN(a)?this.value=null!==this.min?Math.max(-this.step,this.min):-this.step:this.value=null!==this.min?Math.max(a-this.step,this.min):a-this.step},_validateInputValue:function(){this.invalid=""!==this.value&&(null!==this.max&&this.value>this.max||null!==this.min&&this.value<this.min)},_setButtonState:function(){this._elements.stepUp.disabled=this.disabled||null!==this.max&&this.value>=this.max||this.readOnly,this._elements.stepDown.disabled=this.disabled||null!==this.min&&this.value<=this.min||this.readOnly},_triggerChange:function(a,b){a!==b&&this.trigger("change")},_onStepUpButtonClick:function(a){a.preventDefault();var b=this.value;this.stepUp(),this._validateInputValue(),this._triggerChange(this.value,b)},_onStepDownButtonClick:function(a){a.preventDefault();var b=this.value;this.stepDown(),this._validateInputValue(),this._triggerChange(this.value,b)},_onKeyHome:function(a){if(a.preventDefault(),!this.disabled&&!this.readOnly&&null!==this.max){var b=this.value;this.value=this.max,this._triggerChange(this.value,b)}},_onKeyEnd:function(a){if(a.preventDefault(),!this.disabled&&!this.readOnly&&null!==this.min){var b=this.value;this.value=this.min,this._triggerChange(this.value,b)}},_onKeyUp:function(a){a.preventDefault(),this.disabled||this.readOnly||this._onStepUpButtonClick(a)},_onKeyDown:function(a){a.preventDefault(),this.disabled||this.readOnly||this._onStepDownButtonClick(a)},_onInputMouseWheel:function(a){if(a.preventDefault(),!this.disabled&&!this.readOnly){var b=this.value,c=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail||a.deltaY));0>c?this.stepDown():this.stepUp(),this._triggerChange(this.value,b)}},_onInputChange:function(a){a.stopPropagation(),this._validateInputValue(),this._queueSync("value"),this.trigger("change")},_onFocus:function(a){this.$.addClass("is-focused"),this._elements.$input.addClass("is-focused")},_onBlur:function(a){this.contains(document.activeElement)||(this.$.removeClass("is-focused"),this._elements.$input.removeClass("is-focused"))},_getLabellableElement:function(){return this._elements.input},_initialize:function(){this.setAttribute("role","group"),this._elements.input.setAttribute("role","spinbutton"),this._elements.input.setAttribute("aria-valuenow",""),this._elements.input.setAttribute("aria-valuetext","")},_render:function(){for(;this.firstChild;)this.removeChild(this.firstChild);this.appendChild(Coral.templates.NumberInput.base.call(this._elements))}})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.NumberInput=this.Coral.templates.NumberInput||{},this.Coral.templates.NumberInput.base=function(a){var b=document.createDocumentFragment(),c=a="undefined"==typeof a?{}:a;c=a,c.uid=Coral.commons.getUID(),a=c;var d=document.createTextNode("\n");b.appendChild(d);var e=document.createElement("span");e.className+=" coral-InputGroup-button",e.setAttribute("role","presentation");var f=document.createTextNode("\n  ");e.appendChild(f);var g=this.stepDown=document.createElement("button","coral-button");g.setAttribute("type","button"),g.setAttribute("is","coral-button"),g.setAttribute("handle","stepDown"),g.setAttribute("title","Decrement"),g.setAttribute("aria-label","Decrement"),g.setAttribute("icon","minus"),g.setAttribute("iconsize","XS"),g.setAttribute("tabindex","-1"),g.setAttribute("aria-controls",a.uid),e.appendChild(g);var h=document.createTextNode("\n");e.appendChild(h),b.appendChild(e);var i=document.createTextNode("\n");b.appendChild(i);var j=this.input=document.createElement("input","coral-textfield");this.$input=$(j),j.setAttribute("is","coral-textfield"),j.setAttribute("handle","$input"),j.setAttribute("type","number"),j.className+=" coral-InputGroup-input",j.id=a.uid,b.appendChild(j);var k=document.createTextNode("\n");b.appendChild(k);var l=document.createElement("span");l.className+=" coral-InputGroup-button",l.setAttribute("role","presentation");var m=document.createTextNode("\n  ");l.appendChild(m);var n=this.stepUp=document.createElement("button","coral-button");n.setAttribute("type","button"),n.setAttribute("is","coral-button"),n.setAttribute("handle","stepUp"),n.setAttribute("title","Increment"),n.setAttribute("aria-label","Increment"),n.setAttribute("icon","add"),n.setAttribute("iconsize","XS"),n.setAttribute("tabindex","-1"),n.setAttribute("aria-controls",a.uid),l.appendChild(n);var o=document.createTextNode("\n");return l.appendChild(o),b.appendChild(l),b},function(){"use strict";Coral.register({name:"PanelStack",tagName:"coral-panelstack",className:"coral-PanelStack",mixins:[Coral.mixin.selectionList({itemTagName:"coral-panel",supportMultiple:!1,forceSelection:!1,role:"presentation"})],properties:{selectedItem:{get:function(){return this.items.getLastSelected()},set:function(){}}}}),Coral.register({name:"Panel",tagName:"coral-panel",className:"coral-Panel",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-panelstack",alwaysEnabled:!0,role:"tabpanel"})],properties:{content:Coral.property.contentZone({handle:"content",tagName:"coral-panel-content"}),selected:{sync:function(){this.$.attr("aria-hidden",!this.selected)}}},_render:function(){var a=document.createDocumentFragment(),b=this._elements.content=this.querySelector("coral-panel-content")||document.createElement("coral-panel-content");for(a.appendChild(b);this.firstChild;)b.appendChild(this.firstChild);this.appendChild(a)}}),Coral.register({name:"Panel.Content",tagName:"coral-panel-content"})}(),function(){"use strict";var a=Coral.Overlay.placement,b={left:"Right",right:"Left",top:"Down",bottom:"Up"},c="coral3-Tooltip",d=12,e={INFO:"info",ERROR:"error",WARNING:"warning",SUCCESS:"success",INSPECT:"inspect"},f={ON:"on",OFF:"off"},g="";for(var h in e)g+=c+"--"+e[h]+" ";var i="",j={};for(var k in a){var l=a[k],m=c+"--arrow"+b[l];j[l]=m,i+=m+" "}Coral.register({name:"Tooltip",
tagName:"coral-tooltip",className:c,extend:Coral.Overlay,_overlayAnimationTime:Coral.mixin.overlay.FADETIME,properties:{variant:{"default":e.INFO,reflectAttribute:!0,validate:Coral.validate.enumeration(e),sync:function(){this.$.removeClass(g).addClass(this._className+"--"+this.variant)}},delay:{"default":500,transform:Coral.transform.number},content:Coral.property.contentZone({handle:"content",tagName:"coral-tooltip-content"}),alignMy:{"default":Coral.Overlay.align.LEFT_CENTER},alignAt:{"default":Coral.Overlay.align.RIGHT_CENTER},offset:{"default":d},open:{sync:function(){this.open||this._cancelShow()}},target:{set:function(a){if(this.interaction===f.ON){var b=this._getTarget(a);this._addTargetListeners(b)}}},interaction:{"default":f.ON,set:function(a){var b=this._getTarget();b&&(a===f.ON?this._addTargetListeners(b):this._removeTargetListeners(b)),this._interaction=a}}},_render:function(){this._id=Coral.commons.getUID();var a=document.createDocumentFragment(),b=this._elements.content=this.querySelector("coral-tooltip-content")||document.createElement("coral-tooltip-content");for(a.appendChild(b);this.firstChild;)b.appendChild(this.firstChild);this.appendChild(a)},_initialize:function(){this.tabIndex=-1,this.setAttribute("role","tooltip")},_applyPosition:function(a,b){var c=a.top,d=a.left;"left"===b.horizontal?this._setArrowClass(Coral.Overlay.placement.LEFT):"right"===b.horizontal?this._setArrowClass(Coral.Overlay.placement.RIGHT):"bottom"===b.vertical?this._setArrowClass(Coral.Overlay.placement.BOTTOM):"top"===b.vertical&&this._setArrowClass(Coral.Overlay.placement.TOP),this.style.top=c+"px",this.style.left=d+"px"},_setArrowClass:function(a){this.$.removeClass(i).addClass(j[a])},_handleFocus:function(){this._cancelHide(),this.$.find(":focusable").first().focus()},_handleFocusOut:function(){var a=this;Coral.commons.nextFrame(function(){var b=document.activeElement===a._getTarget(),c=a.contains(document.activeElement);b||c||(a._cancelShow(),a.open=!1)})},_cancelShow:function(){clearTimeout(this._showTimeout)},_cancelHide:function(){clearTimeout(this._hideTimeout)},_startHide:function(){if(0===this.delay)this._handleFocusOut();else{var a=this;this._hideTimeout=setTimeout(function(){a._handleFocusOut()},this.delay)}},_addTargetListeners:function(a){if(a&&!a["_hasCoralTooltipListeners"+this._id]){if(a["_hasCoralTooltipListeners"+this._id]=!0,this._oldTarget){var b=this._getTarget(this._oldTarget);b&&this._removeTargetListeners(b)}this._oldTarget=a;var c=this,d=$(a);d.on("mouseenter.CoralTooltip"+this._id+" focusin.CoralTooltip"+this._id,function(a){c._cancelHide(),c.open||(c._cancelShow(),0===c.delay?c.show():c._showTimeout=setTimeout(function(){c.show()},c.delay))}),d.on("mouseleave.CoralTooltip"+this._id,function(a){c.preventAutoHide||c._startHide()}),d.on("focusout.CoralTooltip"+this._id,function(a){c.preventAutoHide||c._handleFocusOut()})}},_removeTargetListeners:function(a){$(a).off(".CoralTooltip"+this._id),a["_hasCoralTooltipListeners"+this._id]=!1},_handleEscape:function(a){this.open&&this._isTopOverlay()&&this.hide()}}),Coral.register({name:"Tooltip.Content",tagName:"coral-tooltip-content"}),Coral.Tooltip.variant=e}(),function(){"use strict";var a="coral3-Slider",b="coral3-Slider-handle",c="coral3-Slider-input",d="coral-slider-item",e=function(){var a=document.createElement("input");return a.setAttribute("type","range"),"range"===a.type}(),f={HORIZONTAL:"horizontal",VERTICAL:"vertical"},g=function(a){this._slider=a};g.prototype=Object.create(Coral.Collection.prototype),g.prototype.add=function(a,b){var c;return a instanceof HTMLElement||(c=a,a=document.createElement(d)),this._slider.insertBefore(a,b||null),c&&a.set(c,!0),a},g.prototype.getAll=function(){return this._slider.$.children(d).toArray()},Coral.register({name:"Slider",tagName:"coral-slider",className:a,mixins:[Coral.mixin.formField],events:{"key:up .coral3-Slider-handle":"_handleKey","key:right .coral3-Slider-handle":"_handleKey","key:down .coral3-Slider-handle":"_handleKey","key:left .coral3-Slider-handle":"_handleKey","key:pageUp .coral3-Slider-handle":"_handleKey","key:pageDown .coral3-Slider-handle":"_handleKey","key:home .coral3-Slider-handle":"_handleKey","key:end .coral3-Slider-handle":"_handleKey","capture:mouseenter .coral3-Slider-handle":"_onMouseEnter","capture:mouseleave .coral3-Slider-handle":"_onMouseLeave",input:"_onInputChangeHandler",touchstart:"_onMouseDown",mousedown:"_onMouseDown","capture:focus":"_focus","capture:blur":"_blur"},properties:{step:{"default":1,reflectAttribute:!0,transform:Coral.transform.number,validate:[Coral.validate.valueMustChange,function(a,b){return null!==a&&a>0}],sync:function(){this._elements.$inputs.prop("step",this.step),this._elements.$inputs.attr("aria-valuestep",this.step),this._elements.$handles.attr("aria-valuestep",this.step)}},min:{"default":1,reflectAttribute:!0,transform:Coral.transform.number,sync:function(){this.$.attr("aria-valuemin",this.min),this._elements.$inputs.prop("min",this.min),this._elements.$inputs.attr("aria-valuemin",this.min),this._elements.$handles.attr("aria-valuemin",this.min)}},max:{"default":100,reflectAttribute:!0,transform:Coral.transform.number,sync:function(){this._elements.$inputs.prop("max",this.max),this._elements.$inputs.attr("aria-valuemax",this.max),this._elements.$handles.attr("aria-valuemax",this.max)}},tooltips:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){}},orientation:{"default":f.HORIZONTAL,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(f)],sync:function(){var b=this.orientation===f.VERTICAL;this.$.toggleClass(a+"--vertical",b),this.$.attr("aria-orientation",this.orientation),this._elements.$inputs.attr("aria-orientation",this.orientation),this._elements.$handles.attr("aria-orientation",this.orientation),this._moveHandles()}},value:{"default":function(){return this.min},alsoSync:["filled"],transform:Coral.transform.number,get:function(){return parseInt(this._elements.$inputs[0].value,10)},set:function(a){if(1===this._elements.$handles.length){var b=this._elements.$handles[0],c=this._elements.$inputs[0];a=this._snapValueToStep(a,this.min,this.max,this.step),c.value=a,c.setAttribute("aria-valuenow",a),c.setAttribute("aria-valuetext",this._getLabel(a)),b.setAttribute("aria-valuenow",a),b.setAttribute("aria-valuetext",this._getLabel(a)),this._moveHandles()}},sync:function(){1===this._elements.$handles.length&&this.setAttribute("value",this.value)}},name:{get:function(){return this._elements.$inputs[0].name},set:function(a){for(var b=0;b<this._elements.$handles.length;b++)this._elements.$inputs[b].name=a}},_values:{attribute:null,"default":function(){return[this.min,this.max]},get:function(){for(var a=[],b=0;b<this._elements.$inputs.length;b++)a.push(parseInt(this._elements.$inputs[b].value,10));return a},set:function(a){var b,c,d;if(a&&a.length===this._elements.$handles.length){for(var e=0;e<this._elements.$handles.length;e++)d=a[e]=this._snapValueToStep(a[e],this.min,this.max,this.step),b=this._elements.$handles[e],c=this._elements.$inputs[e],c.value=d,c.setAttribute("aria-valuenow",d),c.setAttribute("aria-valuetext",this._getLabel(d)),b.setAttribute("aria-valuenow",d),b.setAttribute("aria-valuetext",this._getLabel(d));this._moveHandles()}},sync:function(){},alsoSync:["filled"]},filled:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.filled&&this._updateFill(),this._elements.$fill.toggleClass("is-hidden",!this.filled)}},disabled:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.setAttribute("aria-disabled",this.disabled),this._elements.$inputs.prop("disabled",this.disabled),this._elements.$handles.attr("aria-disabled",this.disabled),e||this._elements.$handles.prop("tabindex",this.disabled?-1:0)}},labelledBy:{override:!0,attribute:"labelledby",transform:Coral.transform.string,get:function(){return 1===this._elements.$handles.length?this._elements.$inputs[0].getAttribute("aria-labelledby"):this.getAttribute("aria-labelledby")},set:function(a){var b;if(!a)return this._updateForAttributes(this.labelledBy,this._elements.$inputs[0].id,!0),this.removeAttribute("aria-labelledby"),this._elements.$handles.removeAttr("aria-labelledby"),void this._elements.$inputs.removeAttr("aria-labelledby");if(1===this._elements.$handles.length)this._elements.$handles[0].setAttribute("aria-labelledby",a),this._elements.$inputs[0].setAttribute("aria-labelledby",a);else{this.setAttribute("aria-labelledby",a);for(var c=0;c<this._elements.$handles.length;c++)b=a+" "+this._elements.$handles[c].querySelector("label").id,this._elements.$handles[c].setAttribute("aria-labelledby",b),this._elements.$inputs[c].setAttribute("aria-labelledby",b)}this._updateForAttributes(a,this._elements.$inputs[0].id)}},items:{set:function(){},get:function(){return this._items||(this._items=new g(this)),this._items}}},_onMouseDown:function(a){if(!(a instanceof MouseEvent&&1!==(a.which||a.button))){if(a.preventDefault(),this._currentHandle=$(a.target).closest("."+b),!this._currentHandle.length){var c=this._getPoint(a),d=this._findNearestHandle(c.pageX,c.pageY),e=this._getValueFromCoord(c.pageX,c.pageY,!0);return this._updateValue(d,e),void this._setHandleFocus(d)}if(this._currentHandle.addClass("is-dragged"),$(document.body).addClass("u-coral-closedHand"),this.tooltips){var f=this._elements.$handles.index(this._currentHandle);this._openTooltip(this._currentHandle,this._getLabel(this._values[f]))}this._draggingHandler=this._handleDragging.bind(this),this._mouseUpHandler=this._mouseUp.bind(this),Coral.events.on("mousemove",this._draggingHandler),Coral.events.on("mouseup",this._mouseUpHandler),Coral.events.on("touchmove",this._draggingHandler),Coral.events.on("touchend",this._mouseUpHandler),Coral.events.on("touchcancel",this._mouseUpHandler),this._setHandleFocus(this._currentHandle)}},_getPoint:function(a){return a.changedTouches&&a.changedTouches.length>0?a.changedTouches[0]:a.touches&&a.touches.length>0?a.touches[0]:a},_setHandleFocus:function(a){e?a.find("."+c).focus():a.focus()},_handleKey:function(a){a.preventDefault(),this._focus(a);var b=$(a.matchedTarget),c=this._elements.$handles.index(b),d=parseInt(this._values[c],10);a.keyCode===Coral.Keys.keyToCode("up")||a.keyCode===Coral.Keys.keyToCode("right")||a.keyCode===Coral.Keys.keyToCode("pageUp")?d+=this.step:a.keyCode===Coral.Keys.keyToCode("down")||a.keyCode===Coral.Keys.keyToCode("left")||a.keyCode===Coral.Keys.keyToCode("pageDown")?d-=this.step:a.keyCode===Coral.Keys.keyToCode("home")?d=this.min:a.keyCode===Coral.Keys.keyToCode("end")&&(d=this.max),this._updateValue(b,d)},_findNearestHandle:function(a,b){function c(a,b,c){var d=a.getBoundingClientRect(),e=d.top+window.pageYOffset,f=d.left+window.pageXOffset;return Math.floor(Math.sqrt(Math.pow(b-(f+d.width/2),2)+Math.pow(c-(e+d.height/2),2)))}var d,e=1/0;return this._elements.$handles.each(function(f,g){var h=c(g,a,b);e>h&&(e=h,d=g)}),$(d)},_moveHandles:function(){function a(a){return(a-b.min)/(b.max-b.min)*100}var b=this;this._elements.$handles.each(function(c,d){var e=$(d),g=a(b._values[c]);b.orientation===f.VERTICAL?e.css({bottom:g+"%",left:""}):e.css({left:g+"%",bottom:""}),b._updateTooltip(e,b._getLabel(b._values[c]))})},_onInputChange:function(a){"undefined"==typeof a.target.oninput&&this._onInputChangeHandler(a)},_onInputChangeHandler:function(a){a.stopPropagation();var c=$(a.target).closest("."+b);a.target===document.activeElement&&this._focus(a),this._updateValue(c,a.target.value,!0)},_focus:function(a){var c=this,d=$(a.target).closest("."+b),e=d[0],f=this._elements.$handles.index(e);this.$.addClass("is-focused"),d.addClass("is-focused"),this.tooltips&&this._openTooltip(d,c._getLabel(c._values[f])),Coral.events.on("touchstart.CoralSlider mousedown.CoralSlider",function(a){0!==$(a.target).closest(c).length&&$(a.target).trigger("blur")})},_blur:function(a){var c=$(a.target).closest("."+b),d=c[0];this.$.removeClass("is-focused"),c.removeClass("is-focused"),this.tooltips&&this._closeTooltip(d),Coral.events.off("touchstart.CoralSlider mousedown.CoralSlider")},_handleDragging:function(a){var b=this._getPoint(a);this._updateValue(this._currentHandle,this._getValueFromCoord(b.pageX,b.pageY)),a.preventDefault()},_updateValue:function(a,b,c){var d=this._elements.$handles.index(a),e=this._values;e[d]=b;var f=this._values;this.set("_values",e);var g=this._values;(c||f.join(":")!==g.join(":"))&&this.trigger("change")},_getValueFromCoord:function(a,b,c){var d,e=this,g=e.$.offset();if(e.orientation===f.VERTICAL){var h=e.$.height();d=(g.top+h-b)/h}else{var i=e.$.width();d=(a-g.left)/i}if(c&&(0>d||d>1))return NaN;var j=1*e.min+(e.max-e.min)*d;return this._snapValueToStep(j,e.min,e.max,e.step)},_snapValueToStep:function(a,b,c,d){d=parseFloat(d);var e,f=(a-b)%d,g=d.toString().replace(/^(?:\d+)(?:\.(\d+))?$/g,"$1"),h=g.length;return e=2*Math.abs(f)>=d?a-Math.abs(f)+d:a-f,b>e?e=b:e>c&&(e=b+Math.floor((c-b)/d)*d),h>0&&(e=parseFloat(e.toFixed(h))),e},_onMouseEnter:function(a){var b=a.matchedTarget,c=$(a.matchedTarget),d=this._elements.$handles.index(b);this.tooltips&&this._openTooltip(c,this._getLabel(this._values[d]))},_onMouseLeave:function(a){var b=$(a.matchedTarget);this.tooltips&&!b.hasClass("is-dragged")&&this._closeTooltip(b)},_mouseUp:function(){this._currentHandle.removeClass("is-dragged"),$(document.body).removeClass("u-coral-closedHand"),this._closeTooltip(this._currentHandle),Coral.events.off("mousemove",this._draggingHandler),Coral.events.off("touchmove",this._draggingHandler),Coral.events.off("mouseup",this._mouseUpHandler),Coral.events.off("touchend",this._mouseUpHandler),Coral.events.off("touchcancel",this._mouseUpHandler),this._currentHandle=null,this._draggingHandler=null,this._mouseUpHandler=null},_updateFill:function(){var a=(this._values[0]-this.min)/(this.max-this.min)*100;this.orientation===f.VERTICAL?this._elements.$fill.css("height",a+"%"):this._elements.$fill.css("width",a+"%")},_openTooltip:function(a,b){var c=a.find("coral-tooltip")[0],d=this.orientation===f.VERTICAL?Coral.Overlay.placement.RIGHT:Coral.Overlay.placement.TOP;c.set({content:{textContent:b},target:a[0],placement:d}),c.open=!0},_updateTooltip:function(a,b){var c=a.find("coral-tooltip")[0];c.content.textContent=b},_closeTooltip:function(a){var b=$(a).find("coral-tooltip")[0];b.open=!1},_getLabel:function(a){for(var b,c=this.items.getAll(),d=0;d<c.length;d++)if(Coral.transform.number(c[d].value)===Coral.transform.number(a)){b=c[d];break}return b?b.content.innerHTML:a},_renderTemplate:function(){var a;a=Coral.templates.Slider.base.call(this._elements),this.appendChild(a)},_render:function(){this._renderTemplate(),this._elements.$handles=this.$.find("."+b),this._elements.$inputs=this.$.find("."+c),this._elements.$fill=$(this._elements.fillHandle),this.setAttribute("role","presentation"),e||this._elements.$inputs.each(function(a,b){var c=this._elements.$handles.get(a);b.type="hidden",c.setAttribute("id",b.id),c.setAttribute("role","slider"),c.setAttribute("tabindex","0"),b.removeAttribute("id")}.bind(this))}}),Coral.Slider.orientation=f}(),function(){"use strict";var a="coral3-Slider-item";Coral.register({name:"Slider.Item",tagName:"coral-slider-item",className:a,properties:{value:{reflectAttribute:!0,transform:Coral.transform.number},content:{contentZone:!0,set:function(){},get:function(){return this}}}})}(),function(){"use strict";var a="coral3-Slider";Coral.register({name:"RangedSlider",tagName:"coral-rangedslider",className:a,extend:Coral.Slider,properties:{filled:{"default":!0,override:!0,set:function(){this._elements.$fill.removeClass("is-hidden")},sync:function(){this._updateFill()}},startValue:{attribute:"startvalue",set:function(a){var b=this.values;b[0]=a,this.values=b},get:function(){return this.values[0]}},endValue:{attribute:"endvalue",set:function(a){var b=this.values;b[1]=a,this.values=b},get:function(){return this.values[1]}},values:Coral.property.proxy({path:"_values"})},_getHighestValue:function(){return Math.max.apply(null,this.values)},_getLowestValue:function(){return Math.min.apply(null,this.values)},_updateValue:function(a,b){var c=this._elements.$handles.index(a);0===c?(b>parseFloat(this.values[1])&&(b=this.values[1]),this._elements.rightInput.min=b,this._elements.rightHandle.setAttribute("aria-valuemin",b)):(b<parseFloat(this.values[0])&&(b=this.values[0]),this._elements.leftInput.max=b,this._elements.leftHandle.setAttribute("aria-valuemax",b));var d=[this.values[0],this.values[1]];d[c]=b;var e=this.get("values");this.set("values",d);var f=this.get("values");e.join(":")!==f.join(":")&&this.trigger("change")},_updateFill:function(){var a=100/(this.max-this.min),b=(this._getLowestValue()-this.min)*a,c=(this._getHighestValue()-this.min)*a-b;this.orientation===Coral.Slider.orientation.VERTICAL?this._elements.$fill.css("bottom",b+"%").css("height",c+"%"):this._elements.$fill.css("left",b+"%").css("width",c+"%")},_renderTemplate:function(){var a=Coral.templates.Slider.range.call(this._elements);this.appendChild(a)}})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Slider=this.Coral.templates.Slider||{},this.Coral.templates.Slider.base=function(a){var b=document.createDocumentFragment(),c=a="undefined"==typeof a?{}:a;c=a,c.uid=Coral.commons.getUID(),a=c;var d=document.createTextNode("\n\n");b.appendChild(d);var e=document.createElement("div");e.className+=" coral3-Slider-bar";var f=document.createTextNode("\n  ");e.appendChild(f);var g=this.fillHandle=document.createElement("div");g.setAttribute("handle","fillHandle"),g.className+=" coral3-Slider-fill is-hidden",g.setAttribute("role","presentation"),e.appendChild(g);var h=document.createTextNode("\n");e.appendChild(h),b.appendChild(e);var i=document.createTextNode("\n");b.appendChild(i);var j=this.leftHandle=document.createElement("div");j.setAttribute("handle","leftHandle"),j.className+=" coral3-Slider-handle";var k=document.createTextNode("\n  ");j.appendChild(k);var l=this.leftInput=document.createElement("input");l.setAttribute("handle","leftInput"),l.setAttribute("type","range"),l.id=a.uid,l.className+=" coral3-Slider-input",j.appendChild(l);var m=document.createTextNode("\n  ");j.appendChild(m);var n=document.createElement("coral-tooltip");n.setAttribute("variant","inspect"),n.id=a.uid+"-tooltip",n.setAttribute("for",a.uid),n.setAttribute("interaction","off"),j.appendChild(n);var o=document.createTextNode("\n");j.appendChild(o),b.appendChild(j);var p=document.createTextNode("\n");return b.appendChild(p),b},this.Coral.templates.Slider.range=function(a){var b=document.createDocumentFragment(),c=a="undefined"==typeof a?{}:a;c=a,c.uidMin=Coral.commons.getUID(),c.uidMax=Coral.commons.getUID(),a=c;var d=document.createTextNode("\n");b.appendChild(d);var e=document.createElement("div");e.className+=" coral3-Slider-bar";var f=document.createTextNode("\n  ");e.appendChild(f);var g=this.fillHandle=document.createElement("div");g.setAttribute("handle","fillHandle"),g.className+=" coral3-Slider-fill is-hidden",g.setAttribute("role","presentation"),e.appendChild(g);var h=document.createTextNode("\n");e.appendChild(h),b.appendChild(e);var i=document.createTextNode("\n");b.appendChild(i);var j=this.leftHandle=document.createElement("div");j.setAttribute("handle","leftHandle"),j.className+=" coral3-Slider-handle";var k=document.createTextNode("\n  ");j.appendChild(k);var l=this.rightLabel=document.createElement("label");l.setAttribute("handle","rightLabel"),l.className+=" u-coral-screenReaderOnly",l.id=a.uidMin+"-label",l.setAttribute("for",a.uidMin),l.setAttribute("aria-hidden","true"),l.textContent="Minimum",j.appendChild(l);var m=document.createTextNode("\n  ");j.appendChild(m);var n=this.leftInput=document.createElement("input");n.setAttribute("handle","leftInput"),n.setAttribute("type","range"),n.id=a.uidMin,n.className+=" coral3-Slider-input",j.appendChild(n);var o=document.createTextNode("\n  ");j.appendChild(o);var p=document.createElement("coral-tooltip");p.setAttribute("variant","inspect"),p.id=a.uidMin+"-tooltip",p.setAttribute("for",a.uidMin),p.setAttribute("interaction","off"),j.appendChild(p);var q=document.createTextNode("\n");j.appendChild(q),b.appendChild(j);var r=document.createTextNode("\n");b.appendChild(r);var s=this.rightHandle=document.createElement("div");s.setAttribute("handle","rightHandle"),s.className+=" coral3-Slider-handle";var t=document.createTextNode("\n  ");s.appendChild(t);var u=this.rightLabel=document.createElement("label");u.setAttribute("handle","rightLabel"),u.className+=" u-coral-screenReaderOnly",u.id=a.uidMax+"-label",u.setAttribute("for",a.uidMax),u.setAttribute("aria-hidden","true"),u.textContent="Maximum",s.appendChild(u);var v=document.createTextNode("\n  ");s.appendChild(v);var w=this.rightInput=document.createElement("input");w.setAttribute("handle","rightInput"),w.setAttribute("type","range"),w.id=a.uidMax,w.className+=" coral3-Slider-input",s.appendChild(w);var x=document.createTextNode("\n  ");s.appendChild(x);var y=document.createElement("coral-tooltip");y.setAttribute("variant","inspect"),y.id=a.uidMax+"-tooltip",y.setAttribute("for",a.uidMax),y.setAttribute("interaction","off"),s.appendChild(y);var z=document.createTextNode("\n");s.appendChild(z),b.appendChild(s);var A=document.createTextNode("\n");return b.appendChild(A),b},function(){"use strict";function a(a){if(a instanceof Node)return a;var b=null;return"string"==typeof a&&""!==a.trim()&&(b=document.querySelector(a)),b}var b={ON:"on",OFF:"off"},c={SMALL:"S",LARGE:"L"},d="coral-StepList";Coral.register({name:"StepList",tagName:"coral-steplist",className:d,mixins:[Coral.mixin.selectionList({itemTagName:"coral-step",supportMultiple:!1,forceSelection:!0,role:"tablist"})],events:{'click > coral-step > [handle="stepMarkerContainer"]':"_onStepMarkerClick","click > coral-step > coral-step-label":"_onStepMarkerClick","focusin > coral-step":"_onStepMarkerMouseEnter","capture:mouseenter > coral-step":"_onStepMarkerMouseEnter","focusout > coral-step":"_onStepMarkerMouseLeave","capture:mouseleave > coral-step":"_onStepMarkerMouseLeave","key:enter > coral-step":"_onStepKeyboardSelect","key:space > coral-step":"_onStepKeyboardSelect","key:home > coral-step":"_onHomeKey","key:end > coral-step":"_onEndKey","key:pagedown > coral-step":"_selectNextItem","key:right > coral-step":"_selectNextItem","key:down > coral-step":"_selectNextItem","key:pageup > coral-step":"_selectPreviousItem","key:left > coral-step":"_selectPreviousItem","key:up > coral-step":"_selectPreviousItem"},properties:{target:{"default":null,validate:function(a){return null===a||"string"==typeof a||a instanceof Node},sync:function(){var b=a(this.target);if(b)for(var c,d,e=this.items.getAll(),f=b.items.getAll(),g=Math.max(e.length,f.length),h=0;g>h;h++)c=e[h],d=f[h],c&&c.target&&""!==c.target.trim()||(c&&d?(c.id=c.id||Coral.commons.getUID(),d.id=d.id||Coral.commons.getUID(),c.setAttribute("aria-controls",d.id),d.setAttribute("aria-labelledby",c.id)):c?c.removeAttribute("aria-controls"):d.removeAttribute("aria-labelledby"))}},size:{"default":c.LARGE,transform:function(a){return"string"==typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this.$[this.size===c.SMALL?"addClass":"removeClass"](d+"--small")}},interaction:{"default":b.OFF,reflectAttribute:!0,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){var a=this.interaction===b.ON;this.$[a?"addClass":"removeClass"](d+"--interactive");for(var c=this.items.getAll(),e=c.length,f=0;e>f;f++)c[f]._syncTabIndex(a)}}},_onSelectionChange:function(a,b){this._setStateClasses()},_setStateClasses:function(){var a=1/0;this.items.getAll().forEach(function(b,c){b.hasAttribute("selected")&&(a=c),$(b)[a>c?"addClass":"removeClass"]("is-complete")})},_onStepKeyboardSelect:function(a){if(this.interaction===b.ON){a.preventDefault(),a.stopPropagation();var c=a.matchedTarget;this._selectAndFocusItem(c)}},_onStepMarkerClick:function(a){if(this.interaction===b.ON){a.preventDefault(),a.stopPropagation();var c=a.matchedTarget.parentNode;this._selectAndFocusItem(c)}},_onStepMarkerMouseEnter:function(a){if(this.size===c.SMALL){var b=a.matchedTarget;""!==b._elements.label.innerHTML.trim()&&(b._elements.tooltip.content.innerHTML=b._elements.label.innerHTML,b._elements.tooltip.open=!0)}},_onStepMarkerMouseLeave:function(a){if(this.size===c.SMALL){var b=a.matchedTarget;b._elements.tooltip.open=!1}},_onHomeKey:function(a){if(this.interaction===b.ON){a.preventDefault();var c=this.items.getFirstSelectable();this._selectAndFocusItem(c)}},_onEndKey:function(a){if(this.interaction===b.ON){a.preventDefault();var c=this.items.getLastSelectable();this._selectAndFocusItem(c)}},_selectNextItem:function(a){this.interaction===b.ON&&(a.preventDefault(),this.next())},_selectPreviousItem:function(a){this.interaction===b.ON&&(a.preventDefault(),this.previous())},_selectAndFocusItem:function(a){a&&(this._selectItem(a),a.focus())},_initialize:function(){this.setAttribute("aria-multiselectable","false"),this._setStateClasses()},next:function(){var a=this.selectedItem;a&&(a=this.items.getNextSelectable(a),this._selectAndFocusItem(a))},previous:function(){var a=this.selectedItem;a&&(a=this.items.getPreviousSelectable(a),this._selectItem(a),a.focus())}}),Coral.StepList.size=c,Coral.StepList.interaction=b,Coral.register({name:"Step",tagName:"coral-step",className:"coral-Step",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-steplist",role:"tab",alwaysEnabled:!0})],properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-step-label"}),selected:{sync:function(){this.$.toggleClass("is-selected",this.selected).attr("aria-selected",this.selected);var c=this.parentNode;if(c&&this._syncTabIndex(c.interaction===b.ON),this.selected){var d=a(this.target);if(d)d.setAttribute("selected","");else if(this.parentNode&&this.parentNode.target&&(d=a(this.parentNode.target))){var e=$(this.parentNode).children("coral-step").index(this),f=d.items.getAll()[e];f&&f.setAttribute("selected","")}}}},target:{"default":null,validate:function(a){return null===a||"string"==typeof a||a instanceof Node},sync:function(){var b=a(this.target);b&&(this.setAttribute("aria-controls",b.id),b.setAttribute("aria-labelledby",this.id))}}},_syncTabIndex:function(a){a?(this.setAttribute("tabindex",this.selected?"0":"-1"),this.removeAttribute("aria-readonly")):(this.removeAttribute("tabindex"),this.setAttribute("aria-readonly","true"))},_render:function(){var a=Coral.templates.StepList.step.call(this._elements),b=this._elements.label=this.querySelector("coral-step-label")||document.createElement("coral-step-label");for(a.appendChild(b);this.firstChild;)b.appendChild(this.firstChild);this.appendChild(a)},_initialize:function(){this.id=this.id||Coral.commons.getUID()}}),Coral.register({name:"Step.Label",tagName:"coral-step-label",className:"coral-Step-label"})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.StepList=this.Coral.templates.StepList||{},this.Coral.templates.StepList.step=function(a){var b=document.createDocumentFragment(),c=this.stepMarkerContainer=document.createElement("span");c.className+=" coral-Step-markerContainer",c.setAttribute("handle","stepMarkerContainer");var d=document.createTextNode("\n  ");c.appendChild(d);var e=document.createElement("span");e.className+=" coral-Step-marker",c.appendChild(e);var f=document.createTextNode("\n");c.appendChild(f),b.appendChild(c);var g=document.createTextNode("\n");b.appendChild(g);var h=this.tooltip=document.createElement("coral-tooltip");h.setAttribute("handle","tooltip"),h.setAttribute("target","_prev"),h.setAttribute("placement","top"),h.setAttribute("variant","inspect"),h.setAttribute("interaction","off"),h.setAttribute("offset","5"),b.appendChild(h);var i=document.createTextNode("\n");b.appendChild(i);var j=document.createElement("span");return j.className+=" coral-Step-line",b.appendChild(j),b},function(){"use strict";Coral.register({name:"Switch",tagName:"coral-switch",className:"coral3-Switch",mixins:[Coral.mixin.formField],properties:{checked:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,set:function(a){this._checked=a,this._elements.input.checked=a}},value:{"default":"on",get:function(){return this._elements.input.value},set:function(a){this._elements.input.value=a}},name:{get:function(){return this._elements.input.name},set:function(a){this._elements.input.name=a}},disabled:{sync:function(){this.$.toggleClass("is-disabled",this.disabled),this._elements.input.disabled=this.disabled}},required:{sync:function(){this._elements.input.required=this.required}}},_componentTargetProperty:"checked",_eventTargetProperty:"checked",_render:function(){this.appendChild(Coral.templates.Switch.base.call(this._elements))}})}(),this.Coral=this.Coral||{},this.Coral.templates=this.Coral.templates||{},this.Coral.templates.Switch=this.Coral.templates.Switch||{},this.Coral.templates.Switch.base=function(a){var b=document.createDocumentFragment(),c=this.input=document.createElement("input");c.className+=" coral3-Switch-input",c.setAttribute("handle","input"),c.setAttribute("type","checkbox"),c.id=Coral.commons.getUID(),b.appendChild(c);var d=this.label=document.createElement("span");d.className+=" coral3-Switch-label",d.setAttribute("handle","label"),d.setAttribute("aria-hidden","true"),b.appendChild(d);var e=document.createTextNode("\n");return b.appendChild(e),b},function(){"use strict";function a(a){if(a instanceof Node)return a;var b=null;return"string"==typeof a&&""!==a.trim()&&(b=document.querySelector(a)),b}var b={MEDIUM:"M",LARGE:"L"},c={HORIZONTAL:"horizontal",VERTICAL:"vertical"},d="coral-TabList";Coral.register({name:"TabList",tagName:"coral-tablist",className:d,mixins:[Coral.mixin.selectionList({itemTagName:"coral-tab",supportMultiple:!1,forceSelection:!0,role:"tablist"})],events:{"click > coral-tab":"_onTabClick","key:home > coral-tab":"_onHomeKey","key:end > coral-tab":"_onEndKey","key:pagedown > coral-tab":"_selectNextItem","key:right > coral-tab":"_selectNextItem","key:down > coral-tab":"_selectNextItem","key:pageup > coral-tab":"_selectPreviousItem","key:left > coral-tab":"_selectPreviousItem","key:up > coral-tab":"_selectPreviousItem"},properties:{selectedItem:{get:function(){return this.items.getLastSelected()},set:function(){}},target:{"default":null,validate:function(a){return null===a||"string"==typeof a||a instanceof Node},sync:function(){var b=a(this.target);if(b)for(var c,d,e=this.items.getAll(),f=b.items.getAll(),g=Math.max(e.length,f.length),h=0;g>h;h++)c=e[h],d=f[h],c&&c.target&&""!==c.target.trim()||(c&&d?(c.id=c.id||Coral.commons.getUID(),d.id=d.id||Coral.commons.getUID(),c.setAttribute("aria-controls",d.id),d.setAttribute("aria-labelledby",c.id)):c?c.removeAttribute("aria-controls"):d.removeAttribute("aria-labelledby"))}},size:{"default":b.MEDIUM,transform:function(a){return"string"==typeof a?a.toUpperCase():a},validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(b)],sync:function(){this.$[this.size===b.LARGE?"addClass":"removeClass"](d+"--large")}},orientation:{"default":c.HORIZONTAL,validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(c)],sync:function(){this.$[this.orientation===c.VERTICAL?"addClass":"removeClass"](d+"--vertical")}}},_onTabClick:function(a){a.preventDefault(),a.stopPropagation();var b=a.matchedTarget;this._selectAndFocusItem(b)},_onHomeKey:function(a){a.preventDefault();var b=this.items.getFirstSelectable();this._selectAndFocusItem(b)},_onEndKey:function(a){a.preventDefault();var b=this.items.getLastSelectable();this._selectAndFocusItem(b)},
_selectNextItem:function(a){a.preventDefault();var b=this.selectedItem;b&&(b=this.items.getNextSelectable(b),this._selectAndFocusItem(b))},_selectPreviousItem:function(a){a.preventDefault();var b=this.selectedItem;b&&(b=this.items.getPreviousSelectable(b),this._selectItem(b),b.focus())},_selectAndFocusItem:function(a){a&&(this._selectItem(a),a.focus())},_initialize:function(){this.setAttribute("aria-multiselectable","false")}}),Coral.TabList.orientation=c,Coral.TabList.size=b,Coral.register({name:"Tab",tagName:"coral-tab",className:"coral-Tab",mixins:[Coral.mixin.selectionList.Item({listSelector:"coral-tablist",role:"tab"})],properties:{label:Coral.property.contentZone({handle:"label",tagName:"coral-tab-label"}),icon:{"default":"",transform:Coral.transform.string,sync:function(){var a=this;this.icon&&this._elements.icon&&!this._elements.icon.parentNode&&a.insertBefore(this._elements.icon,a.firstChild),!this.icon&&this._elements.icon&&this._elements.icon.$.remove(),this.icon&&(this._elements.icon||a.insertBefore(this._createIconElement(),a.firstChild),this._elements.icon.icon=this.icon,this._elements.icon.size=Coral.Icon.size.SMALL)}},invalid:{"default":!1,reflectAttribute:!0,transform:Coral.transform["boolean"],attributeTransform:Coral.transform.booleanAttr,sync:function(){this.$.toggleClass("is-invalid",this.invalid).attr("aria-invalid",this.invalid)}},disabled:{alsoSync:"selected",sync:function(){this.$.toggleClass("is-disabled",this.disabled).attr("aria-disabled",this.disabled)}},selected:{sync:function(){if(this.$.toggleClass("is-selected",this.selected).attr("tabindex",this.selected?"0":"-1").attr("aria-selected",this.selected),this.selected){var b=a(this.target);if(b)b.setAttribute("selected","");else if(this.parentNode&&this.parentNode.target&&(b=a(this.parentNode.target))){var c=$(this.parentNode).children("coral-tab").index(this),d=b.items.getAll()[c];d&&d.setAttribute("selected","")}}}},target:{"default":null,validate:function(a){return null===a||"string"==typeof a||a instanceof Node},sync:function(){var b=a(this.target);b&&(this.setAttribute("aria-controls",b.id),b.setAttribute("aria-labelledby",this.id))}}},_createIconElement:function(){var a=document.createElement("coral-icon");return this._elements.icon=a,a},_render:function(){var a=document.createDocumentFragment(),b=this._elements.label=this.querySelector("coral-tab-label")||document.createElement("coral-tab-label");for(a.appendChild(b);this.firstChild;)b.appendChild(this.firstChild);this.appendChild(a)},_initialize:function(){this.id=this.id||Coral.commons.getUID()}}),Coral.register({name:"Tab.Label",tagName:"coral-tab-label"})}(),function(){"use strict";var a={HORIZONTAL:"horizontal",VERTICAL:"vertical"},b="coral-TabView";Coral.register({name:"TabView",tagName:"coral-tabview",className:"coral-TabView",events:{"coral-tablist:change > coral-tablist":"_onTabListChange","coral-panelstack:change > coral-panelstack":"_onPanelStackChange"},properties:{orientation:{validate:[Coral.validate.valueMustChange,Coral.validate.enumeration(a)],get:function(){return this.tabList.orientation},set:function(a){this.tabList.orientation=a},sync:function(){this.$[this.orientation===a.VERTICAL?"addClass":"removeClass"](b+"--vertical")}},tabList:Coral.property.contentZone({handle:"tabList",tagName:"coral-tablist"}),panelStack:Coral.property.contentZone({handle:"panelStack",tagName:"coral-panelstack"})},_onTabListChange:function(a){this.trigger("coral-tabview:change",{selection:a.detail.selection,oldSelection:a.detail.oldSelection})},_onPanelStackChange:function(a){if(a.detail.selection){var b=a.detail.selection.getAttribute("aria-labelledby"),c=document.getElementById(b);c&&null===c.getAttribute("selected")&&c.setAttribute("selected","")}},_render:function(){var a=document.createDocumentFragment(),b=this._elements.tabList=this.querySelector("coral-tablist")||document.createElement("coral-tablist"),c=this._elements.panelStack=this.querySelector("coral-panelstack")||document.createElement("coral-panelstack");c.id=c.id||Coral.commons.getUID(),b.setAttribute("target","#"+c.id),a.appendChild(b),a.appendChild(c),this.appendChild(a)}}),Coral.TabView.orientation=a}();