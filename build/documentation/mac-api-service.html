<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>CoralUI - Mac Api Service</title>
    <meta name="viewport" content="user-scalable=no,initial-scale = 1.0,maximum-scale = 1.0">
    <script src="../js/libs/jquery.js"></script>
    <script src="../js/libs/moment.js"></script>
    <script src="js/prettify.js"></script>
    <script src="js/coral-docs.js"></script>
    <script src="../js/coral.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/coral.css">
    <link rel="stylesheet" type="text/css" href="css/prettify.css">
    <link rel="stylesheet" type="text/css" href="css/jsdoc-default.css">
    <link rel="stylesheet" type="text/css" href="css/coral-docs-examples.css">
    <link rel="stylesheet" type="text/css" href="css/coral-docs-main.css">
    <!--if lt IE 9
    script(src = '//html5shiv.googlecode.com/svn/trunk/html5.js')
    
    -->
  </head>
  <body class="coral--light docs-Background u-coral-clearFix">
    <article class="docs-Component">
      <section class="docs-Component-metadata">
        <div class="docs-Component-header">
          <!-- name of the component-->
          <h1 class="coral-Heading coral-Heading--1 docs-Component-name">Mac Api Service</h1><span class="docs-Component-version">Current Version: <strong>0.0.12</strong></span>
        </div>
        <div class="coral-Component-github"> Github: <a href="https://git.corp.adobe.com/Coral/coralui-component-shell-mac" class="coral-Link">coralui-component-shell-mac</a>
        </div>
        <!-- description is loaded from the template-->
      </section>
      <section class="docs-Component-documentation">
            <section class="docs-Example-section">
              <div class="docs-Example-header u-line">
              </div>
              <section class="guide-jsDocFragement">
    <div class="content">
        <!--<h1 class="line">Class: MacApiService</h1>-->
        
          



<section>

<h1 class="coral-Heading coral-Heading--1 u-line">MacApiService
 JSDoc</h1>

    <div class="class-description">Class Description: CUI.MacApiService defines a consistent method of pulling data both from the MAC api's and user 
specified URL's.</div>




<article>
    <div class="container-overview">
    

    

    
        
<dt>
    <h3 class="docs-Example-subtitle coral-Heading coral-Heading--3">Constructor</h3>

    
</dt>



<dd>

    

    

    

    

    

    

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 37</li></ul></dd>
	

    

	

	
</dl>

</dd>

    
    </div>
    

    

    

    

    

    
       <h3 class="docs-Example-subtitle coral-Heading coral-Heading--3">Methods</h3>

        <dl>
            
<dt>
    <h3 class="name" id="configure"><span class="type-signature"></span>configure</h3>

    
</dt>


<div class="description">
    Provide a custom config object through mixin inheritance.
</div>


<dd>

    

    

    
        <h4>Parameters:</h4>
        

<table class="coral-Table data noHover">
    <thead>
	<tr class="coral-Table-row">
		
		<th class="coral-Table-headerCell">Name</th>
		

		<th class="coral-Table-headerCell">Type</th>

		

		

		<th class="coral-Table-headerCell last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="coral-Table-cell name">config</td>
            

            <td class="coral-Table-cell type">
            
            </td>

            

            

            <td class="coral-Table-cell description last"></td>
        </tr>

	
	</tbody>
</table>

    

    

    

    

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 42</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="getActiveOrgId"><span class="type-signature"></span>getActiveOrgId</h3>

    
</dt>


<div class="description">
    Return the activeOrgId.
</div>


<dd>

    

    

    

    

    

    

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 70</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="getImsServer"><span class="type-signature"></span>getImsServer</h3>

    
</dt>


<div class="description">
    Return the MAC server that data is being pulled from.
</div>


<dd>

    

    

    

    

    

    

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 77</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="getLocale"><span class="type-signature"></span>getLocale</h3>

    
</dt>


<div class="description">
    Public method for determining the MAC locale for pulling data.
</div>


<dd>

    

    

    

    

    

    

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 56</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="getMACHeader"><span class="type-signature"></span>getMACHeader</h3>

    
</dt>


<div class="description">
    Load the actual header API. This will be satisfied by loading in the prereqs (tenant and header).
</div>


<dd>

    

    

    

    

    

    
    <h4>Returns:</h4>
    
            

        

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 238</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="getMACNotifications"><span class="type-signature"></span>getMACNotifications</h3>

    
</dt>


<div class="description">
    Load the MAC notifications. This is a CRAZY SPIDERWEB!!! There are multiple methods that must be called before
we can actually call the notifications API including:

1. Call the tenant API to get the specific tenant endpoint.
2. Make sure that the headerData is loaded.
3. If the header data or the notifications fail to load we may have lost our login to the marketing cloud which means
   that we will need to attempt to log back into the marketing cloud and then retry a method.
4. Finally, if all other methods are successful then we will call the actual notifications API.

Although this method is complex I want to make it simple to consume. For this reason this method creates a custom
promise that it returns immediately. If anything fails along the way it will call reject on that promise. If all
is successful then the promise will be resolved.

One other thing that this does is make it so that if multiple consumers hit the API at one time it will return the
exact same promise. This is the case with the NotificationsPopup and the Badge.
</div>


<dd>

    

    

    

    

    

    
    <h4>Returns:</h4>
    
            

        

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 208</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="getMACUser"><span class="type-signature"></span>getMACUser</h3>

    
</dt>


<div class="description">
    Load the MAC user. This is a CRAZY SPIDERWEB!!! There are multiple methods that must be called before
we can actually call the user API including:

1. Call the tenant API to get the specific tenant endpoint.
2. Make sure that the headerData is loaded.
3. If the header data or the user fail to load we may have lost our login to the marketing cloud which means
   that we will need to attempt to log back into the marketing cloud and then retry a method.
4. Finally, if all other methods are successful then we will call the actual user API.

Although this method is complex I want to make it simple to consume. For this reason this method creates a custom
promise that it returns immediately. If anything fails along the way it will call reject on that promise. If all
is successful then the promise will be resolved.

One other thing that this does is make it so that if multiple consumers hit the API at one time it will return the
exact same promise. This is the case with the UserAccountButton and the UserAccountPopup.
</div>


<dd>

    

    

    

    

    

    
    <h4>Returns:</h4>
    
            

        

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 131</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="getNotifications"><span class="type-signature"></span>getNotifications</h3>

    
</dt>


<div class="description">
    Load notifications by a custom url (data-notifications-url) passed into the header. This method caches a promise
until it has been completed so that any other service that hits this api while it is loading will get the same promise. NOTE: 
if hasImsSession has been set to true then this function will return a user using the marketing cloud API's.
</div>


<dd>

    

    

    
        <h4>Parameters:</h4>
        

<table class="coral-Table data noHover">
    <thead>
	<tr class="coral-Table-row">
		
		<th class="coral-Table-headerCell">Name</th>
		

		<th class="coral-Table-headerCell">Type</th>

		

		

		<th class="coral-Table-headerCell last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="coral-Table-cell name">url</td>
            

            <td class="coral-Table-cell type">
            
            </td>

            

            

            <td class="coral-Table-cell description last"></td>
        </tr>

	
	</tbody>
</table>

    

    

    

    
    <h4>Returns:</h4>
    
            

        

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 165</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="getSearchProduct"><span class="type-signature"></span>getSearchProduct</h3>

    
</dt>


<div class="description">
    Return the MAC searchProduct.
</div>


<dd>

    

    

    

    

    

    

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 63</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="getUser"><span class="type-signature"></span>getUser</h3>

    
</dt>


<div class="description">
    Load user by a custom url (data-user-url) passed into the header. This method caches a promise until it has been
completed so that any other service that hits this api while it is loading will get the same promise. NOTE: 
If hasImsSession has been set to true then this will return a user using the marketing cloud.
</div>


<dd>

    

    

    
        <h4>Parameters:</h4>
        

<table class="coral-Table data noHover">
    <thead>
	<tr class="coral-Table-row">
		
		<th class="coral-Table-headerCell">Name</th>
		

		<th class="coral-Table-headerCell">Type</th>

		

		

		<th class="coral-Table-headerCell last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="coral-Table-cell name">url</td>
            

            <td class="coral-Table-cell type">
            
            </td>

            

            

            <td class="coral-Table-cell description last"></td>
        </tr>

	
	</tbody>
</table>

    

    

    

    
    <h4>Returns:</h4>
    
            

        

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 89</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="hasImsSession"><span class="type-signature"></span>hasImsSession</h3>

    
</dt>


<div class="description">
    Public method for determining whether or not there is an IMS session.
</div>


<dd>

    

    

    

    

    

    

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 49</li></ul></dd>
	

    

	

	
</dl>

</dd>

        
            
<dt>
    <h3 class="name" id="setActiveOrg"><span class="type-signature"></span>setActiveOrg</h3>

    
</dt>


<div class="description">
    Set the currently active organization.
</div>


<dd>

    

    

    
        <h4>Parameters:</h4>
        

<table class="coral-Table data noHover">
    <thead>
	<tr class="coral-Table-row">
		
		<th class="coral-Table-headerCell">Name</th>
		

		<th class="coral-Table-headerCell">Type</th>

		

		

		<th class="coral-Table-headerCell last">Description</th>
	</tr>
	</thead>

	<tbody>
	

        <tr>
            
                <td class="coral-Table-cell name">org</td>
            

            <td class="coral-Table-cell type">
            
            </td>

            

            

            <td class="coral-Table-cell description last"></td>
        </tr>

	
	</tbody>
</table>

    

    

    

    
    <h4>Returns:</h4>
    
            

        

    

    
<dl class="details">
    

	

	

	

	

	

	

	

	

	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>CUI.MacApiService.js, line 355</li></ul></dd>
	

    

	

	
</dl>

</dd>

        </dl>
    

    

    
</article>

</section>




        
    </div>
   
              </section>
            </section>
      </section>
    </article>
  </body>
</html>