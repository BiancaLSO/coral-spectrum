<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Coral.Overlay</title>

  <link rel="stylesheet" href="../build/css/coral.css">
  <script src="../build/js/coral.js"></script>

  <style>
    body {
      padding: 15px;
    }

    .grid {
      position: absolute;
      top: 80px;
      left: 0;
      bottom: 0;
      right: 0;
      width: 100%;
      height: 100%;

      text-align: center;
    }

    .grid-center {
      width: 10rem;
      height: 10rem;
    }

    .box {
      width: 10rem;
      height: 10rem;
      border: 1px dashed #333;
      background: rgba(255, 255, 255, .5);
    }

    .controls {
      position: fixed;
      right: 0;
      bottom: 0;
      opacity: 0.75;
      padding: 15px;
    }

    coral-overlay {
      padding: 5px;
      text-align: center;
      border-radius: 5px;
      border: 1px dashed #333;
      background: rgba(255, 255, 255, .5);
    }
  </style>
</head>
<body class="coral--light">

<div style="position:fixed;top:15px;right:15px;z-index:10">
  <a href="#" class="coral-Link" onclick="event.preventDefault();document.body.className='coral--light'">Light</a> |
  <a href="#" class="coral-Link" onclick="event.preventDefault();document.body.className='coral--lightest'">Lightest</a> |
  <a href="#" class="coral-Link" onclick="event.preventDefault();document.body.className='coral--dark'">Dark</a> |
  <a href="#" class="coral-Link" onclick="event.preventDefault();document.body.className='coral--darkest'">Darkest</a>
</div>

<h1 class="coral-Heading coral-Heading--1">Coral.Overlay</h1>

<table class="grid">
  <tr>
    <td><button class="box" id="target_1">Target 1</button></td>
    <td></td>
    <td><button class="box" id="target_2">Target 2</button></td>
  </tr>
  <tr>
    <td></td>
    <td class="grid-center"><button class="box" id="target_3">Target 3</button></td>
    <td></td>
  </tr>
  <tr>
    <td><button class="box" id="target_4">Target 4</button></td>
    <td></td>
    <td><button class="box" id="target_5">Target 5</button></td>
  </tr>
</table>

<section class="controls">
  <a href="#" class="coral-Link" onclick="toggleVisibility(); event.preventDefault();">Toggle (t)</a> |
  <a href="#" class="coral-Link" onclick="toggleInner(); event.preventDefault();">Toggle inner (i)</a> |
  <a href="#" class="coral-Link" onclick="cycleTargets(); event.preventDefault();">Cycle target (a)</a> |
  <a href="#" class="coral-Link" onclick="cyclePointFrom(); event.preventDefault();">Cycle placement (f)</a> |
  <a href="#" class="coral-Link" onclick="cyclePointFrom(); event.preventDefault();">Cycle collision (p)</a> |
  <a href="#" class="coral-Link" onclick="increaseLengthOffset(); event.preventDefault();">Increase length offset (c)</a> |
  <a href="#" class="coral-Link" onclick="decreaseLengthOffset(); event.preventDefault();">Decrease length offset (v)</a> |
  <a href="#" class="coral-Link" onclick="increaseBreadthOffset(); event.preventDefault();">Increase breadth offset (n)</a> |
  <a href="#" class="coral-Link" onclick="decreaseBreadthOffset(); event.preventDefault();">Decrease breadth offset (m)</a> |
  <a href="#" class="coral-Link" onclick="restoreOffsets(); event.preventDefault();">Restore offsets (z)</a> |
</section>

<coral-overlay id="overlay" target="#target_1" style="width:200px">
  This is typical overlay content.
</coral-overlay>

<script>
  var target = [
    '#target_1',
    '#target_2',
    '#target_3',
    '#target_4',
    '#target_5'
  ];
  target.curIndex = 0;

  var placement = [
    'right',
    'bottom',
    'left',
    'top'
  ];
  placement.curIndex = 0;

  var collision = [
    'flip',
    'fit',
    'none'
  ];
  collision.curIndex = 0;

  var overlay = document.querySelector('#overlay');
  overlay.show();

  function cycleTargets() {
    overlay.target = target[++target.curIndex % target.length];
    console.log('target changed to', overlay.target);
  }

  function cyclePointFrom() {
    overlay.placement = placement[++placement.curIndex % placement.length];
    console.log('placement changed to', overlay.placement);
  }

  function toggleVisibility() {
    overlay.open = !overlay.open;
  }

  function toggleInner() {
    overlay.inner = !overlay.inner;
  }

  function cycleCollision() {
    overlay.collision = collision[++collision.curIndex % collision.length];
    console.log('collision changed to', collision.placement);
  }

  function increaseLengthOffset() {
    overlay.lengthOffset = parseInt(overlay.lengthOffset) + 5;
    console.log('lengthOffset changed to', overlay.lengthOffset);
  }

  function increaseBreadthOffset() {
    overlay.breadthOffset = parseInt(overlay.breadthOffset) + 5;
    console.log('breadthOffset changed to', overlay.breadthOffset);
  }

  function decreaseLengthOffset() {
    overlay.lengthOffset = parseInt(overlay.lengthOffset) - 5;
    console.log('lengthOffset changed to', overlay.lengthOffset);
  }

  function decreaseBreadthOffset() {
    overlay.breadthOffset = parseInt(overlay.breadthOffset) - 5;
    console.log('breadthOffset changed to', overlay.breadthOffset);
  }

  function restoreOffsets() {
    overlay.lengthOffset = 0;
    overlay.breadthOffset = 0;
    console.log('lengthOffset changed to 0');
    console.log('breadthOffset changed to 0');
  }

  Coral.keys.on('f', cyclePointFrom);
  Coral.keys.on('a', cycleTargets);
  Coral.keys.on('t', toggleVisibility);
  Coral.keys.on('i', toggleInner);
  Coral.keys.on('p', cycleCollision);
  Coral.keys.on('c', increaseLengthOffset);
  Coral.keys.on('v', decreaseLengthOffset);
  Coral.keys.on('n', increaseBreadthOffset);
  Coral.keys.on('m', decreaseBreadthOffset);
  Coral.keys.on('z', restoreOffsets);
</script>

</body>
</html>
