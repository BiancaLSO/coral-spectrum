/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2018 Adobe
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe.
 */

$form-vmargin-min = 8px;
// produces 15px separation between field and next label
$form-vertical-vmargin-max = 6px;
$form-aligned-vmargin-max = 15px;
$form-hmargin = 8px;
$form-vmargin = 7px;
$form-aligned-label-min-width = 104px;

// creates 5px from the icon
$form-vertical-label-line-height = 27px;
$form-aligned-label-line-height = 32px;

$form-fieldset-font-size = 18px;
$form-fieldset-line-height = 24px;

/**
 * Indicates the fieldset.
 * .fieldset is used instead of <fieldset> as <legend> cannot be styled as per requirement.
 */
.coral-Form-fieldset {
  // matches 30px marging at the bottom
  margin: 0 10px 26px 10px;
  border: none;
}

/**
 * Indicates the legend of fieldset.
 */
.coral-Form-fieldset-legend {
  display: block;
  margin: 8px 0 10px 0;

  font-weight: 700;
  font-style: normal;

  font-size: $form-fieldset-font-size;
  line-height: $form-fieldset-line-height;
}

.coral-Form-fieldset:first-of-type {
  border: none;
}

.coral-Form-fieldset:first-of-type .coral-Form-fieldset-legend {
  margin-top: 25px;
}

/**
 * Indicates that the form is using vertical layout, where the label is placed above the field.
 */
.coral-Form--vertical {
  .coral-Form-field {
    margin: 0 0 $form-vertical-vmargin-max;
  }

  .coral-Form-fieldlabel {
    display: block;
    line-height: $form-vertical-label-line-height;
  }

  .coral-Form-fieldwrapper {
    position: relative;
    display: block;

    .coral-Form-fieldinfo,
    .coral-Form-fielderror {
      position: absolute;
      top: 4px;
      right: 0;
    }
  }

  .coral-Form-fieldwrapper--alignRight {
    text-align: right;
  }

  .coral-Form-fieldwrapper--singleline {
    clearfix();

    .coral-Form-field {
      margin: 0;
    }

    .coral-Form-fieldinfo,
    .coral-Form-fielderror {
      float: left;
      position: static;
      margin-left: $form-hmargin;
      margin-top: $form-vmargin;
    }
  }
}

/**
 * Indicates that the form is using aligned layout, where the label and the field are placed on the same line.
 */
.coral-Form--aligned {
  .coral-Form-field {
    float: left;
    margin: 0 0 $form-aligned-vmargin-max 0;
  }

  .coral-Form-fieldwrapper {
    clear: left;
    display: block;
    margin: 0 0 $form-aligned-vmargin-max 0;

    clearfix();
  }

  .coral-Form-fieldwrapper--singleline {
    margin-bottom: $form-vmargin-min;
  }

  .coral-Form-fieldset {
    clearfix();
  }

  .coral-Form-fieldlabel {
    float: left;
    clear: left;
    margin: 0 $form-hmargin 0 0;
    line-height: $form-aligned-label-line-height;
    min-width: $form-aligned-label-min-width;
  }

  .coral-Form-fieldlabel:empty + .coral-Form-field {
    margin-left: $form-hmargin + $form-aligned-label-min-width;
  }

  .coral-Form-fieldwrapper {
    .coral-Form-field {
      margin-top: 0;
      margin-bottom: 0;
    }

    .coral-Form-fieldlabel {
      margin-top: 0;
      margin-bottom: 0;
    }

    .coral-Form-fieldinfo
    .coral-Form-fielderror {
      float: left;
      margin-left: $form-hmargin;
      margin-top: $form-vmargin;
    }
  }

  .coral-Form-fieldset {
  // because of float, the margin of the field/fieldwrapper ($form-aligned-vmargin-max) is not collapsed
  // so reduce the margin-bottom of the fieldset (30px)
    margin-bottom: 10px; // 30 - 20
  }

  .coral-Form-field._coral-Textfield--multiline {
    display: block;
  }
}

.coral-Form--vertical {
  .coral-Form-field.coral-InputGroup,
  .coral-Form-field.coral-DecoratedTextfield,
  .coral-Form-field.coral-DecoratedTextfield .coral-DecoratedTextfield-input,
  .coral-Form-field._coral-InputGroup,
  .coral-Form-field._coral-Textfield,
  .coral-Form-field._coral-Autocomplete,
  .coral-Form-field._coral-Autocomplete ._coral-InputGroup,
  .coral-Form-field._coral-Multifield,
  .coral-Form-field._coral-Search,
  .coral-Form-field._coral-Search ._coral-Search-input,
  .coral-Form-field._coral-ColorInput,
  .coral-Form-field._coral-Stepper,
  .coral-Form-field._coral-Dropdown,
  .coral-Form-field._coral-Slider:not(._coral-Slider--vertical) {
    width: 100%;
  }

  .coral-Form-fieldwrapper--singleline {
    .coral-Form-field._coral-Checkbox,
    .coral-Form-field._coral-Radio {
      width: 100%;
      float: left;
    }
  }
}
